import"./jquery-e7e79cb6.js";import{h as s,r as i,i as c,H as b}from"./header-f70ba31e.js";import{B as p,O as d,M as l,a as u}from"./match-grid-64b4c2fa.js";import{B as f}from"./tabs-854fe48d.js";import{A as h}from"./sidebar-bc1ddcde.js";class m extends p{constructor(e,t,o){super(e,t,o),this.addBtnListnerForNotNow(),this.addBtnListnerForNow()}addBtnListnerForNotNow(){this.popUp.querySelector("#not-now")?.addEventListener("click",()=>{const t=s("game");t==null||t==null?location.replace("match.html?game=cs2"):location.replace(`match.html?game=${t}`)})}addBtnListnerForNow(){this.popUp.querySelector("#start-calibration")?.addEventListener("click",()=>this.close())}}class g{async getData(){const e="https://battle-star-app.onrender.com/graphql";try{const{csLobbies:t}=await i(e,c,{},{Authorization:"Bearer 9c9bf4554f3ecfed253aca7329b2c46511bf3c9b58d2b9a865d9998c75062aab17b1ad96c3c5d878b4aac951441353b066b95b7b20fbd4f31c5466fe8d2479b775f1a398d92e53cfa2e89141d61ee1f32b4850a2daaaebbcf75d3a510bc7e2a3e8613f71c4c84bf7e109f00e2629c12aae3a372fc954fe4de327f478d6857912"});if(console.log("end"),t?.data)return t.data.reduce((n,a)=>(n.push({id:a.id,nameMatch:a.attributes?.title,mode:a.attributes?.gameMode?.data?.attributes?.value.toString(),rate:a.attributes?.rate.toString(),flagSrc:a.attributes?.creator?.data?.attributes?.Options?.selected_country?.data?.attributes?.flag?.data?.attributes?.url,region:a.attributes?.creator?.data?.attributes?.Options?.selected_country?.data?.attributes?.name,imgSrc:a.attributes?.map?.data?.attributes?.logo?.data?.[0]?.attributes?.url,map:a.attributes?.map?.data?.attributes?.name,ping:a.attributes?.ping,participants:(a.attributes?.participant?.players?.data?.length||0).toString(),antyCheat:a.attributes?.antyCheat?.value}),n),[])}catch(t){console.error(t)}}}document.addEventListener("DOMContentLoaded",()=>{new b("#wrapper"),new h("wrapper","МАТЧИ"),new m("calibration-pop-up","overlay","main-wrapper").open(),w()});async function w(){if(s("game")!="dota2"){new f("calibration-page__container");const r=new g,e=new d("open-lobby-pop-up","overlay","main-wrapper");try{const t=await r.getData();t&&(new l("calibration-table",t,e),new u("calibration-grid",t,e))}catch(t){console.error(t)}}}//! TEST_____________
