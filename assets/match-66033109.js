import"./jquery-e7e79cb6.js";import{S as $,g as $e,r as T,e as Xt,f as Wt,h as Yt,i as Jt,s as W,j as oe,k as ce,C as Zt,l as ea,m as ee,n as ta,o as aa,p as ra,q as sa,t as ia,u as na,H as la,v as oa}from"./header-a71cb944.js";import{A as ca}from"./sidebar-2e350bd5.js";import{B as I}from"./tabs-7a808782.js";import{L as de}from"./lava-lamp-63313dfc.js";import{O as rt,M as da,a as ua,S as ue,C as st,b as fa}from"./match-row-dota2-6c922c5f.js";import{J as it}from"./just-validate.es-936cb47b.js";import{D as ha}from"./default-avatar-719db09b.js";class Q{accordion;header;content;constructor(e){this.accordion=document.querySelector(`.${e}`),this.header=this.accordion.querySelector(".accordion__header"),this.content=this.accordion.querySelector(".accordion__content"),this.activateAccordion()}activateAccordion(){this.header.addEventListener("click",()=>this.playAccordion())}playAccordion(){this.accordion.classList.toggle("accordion_active"),this.content.style.maxHeight!=""?this.content.style.maxHeight="":this.content.style.maxHeight=this.content.scrollHeight+"px"}}class K{container;nameGroup;span;options;type;constructor(e,t,a=null,n="",o="radio"){this.container=document.querySelector(`#${a}`),this.nameGroup=e,this.span=n,this.options=t,this.type=o,this.render()}createBtnRadio(){return this.options.reduce((t,a,n)=>(t+=`
      <div class="btn-radio">
         <input  
            class="btn-radio__input"
            id="${this.nameGroup}${n+1}" 
            name="${this.nameGroup}" 
            type=${this.type}
            value="${a.value}" 
            ${n===0&&this.type==="radio"?"checked":""}
         />
         <label 
            class="btn-radio__label" 
            for="${this.nameGroup}${n+1}"
         >
            <div>${a.label}&nbsp;</div>
            <span>${this.span}</span>
        </label>
      </div>`,t),"")}render(){this.container&&(this.container.innerHTML=this.createBtnRadio())}}class nt{container;radioBtnHtml;constructor(e,t){this.container=document.querySelector(`#${e}`),this.radioBtnHtml=new K("rate-selected",t,null,"BS"),this.render(),this.valueSelected()}render(){const e=`
         <div class="rate-selected__title create-lobby__title"> Ставка </div>
         <laberl class="entering-rate rate-selected__rate-input text-input text-input_rate">
            <input
               type="text"
               class="entering-rate__input"
               name="rate-input"
               id="rate-input"
               placeholder="Свое значение"
               min="100" max="99900"
            />
            <span class="entering-rate__label-span">BS</span>
         </laberl>
         <div class="rate-selected__wrapper-btns" id="rate-selected-wrapper">
            ${this.radioBtnHtml.createBtnRadio()}
         </div>
      `,t=document.createElement("div");t.classList.add("rate-selected","create-lobby__rate-selected"),t.innerHTML=e,this.container?.prepend(t)}valueSelected(){const e=document.querySelectorAll('input[id^="rate-selected"]'),t=document.querySelector("#rate-input");e.forEach(a=>{a.addEventListener("change",()=>{t!==null&&(t.value="")})}),t?.addEventListener("input",()=>{let a=t.value;t.value=a.replace(/[^0-9]/g,"").substring(0,6),a&&e.forEach(n=>n.checked=!1)})}}class lt{container;constructor(e){if(this.container=document.querySelector(`#${e}`),!this.container)throw new Error(`Container with id #${e} not found.`);this.render()}render(){const e=`
    <div class="create-lobby__title"> Лобби </div>
    <label
      class="create-lobby__name-input-label text-input text-input_name-lobby" 
      id="name-lobby-label"
    >
      <input
        type="text"
        class="create-lobby__name-input"
        name="name-lobby"
        placeholder="*Введите название лобби"
      />
    </label>
      `,t=document.createElement("div");t.classList.add("create-lobby__title-block"),t.id="create-lobby-title-block",t.innerHTML=e,this.container?.prepend(t)}}class fe{container;nameGroup;options;type;constructor(e,t,a=null,n="checkbox"){this.container=document.querySelector(`#${a}`),this.nameGroup=e,this.options=t,this.type=n,this.render()}createChecboxes(){return this.options.reduce((t,a,n)=>(t+=`
       <div class="custom-checkbox">
         <input
            type="${this.type}"
            name="${this.nameGroup}"
            id="${this.nameGroup}${n+1}"
            class="custom-checkbox__input"
            value="${a.value}" 
            ${a.checked?"checked":""}
         />
         <label for="${this.nameGroup}${n+1}" class="custom-checkbox__label">
            <svg>
            <use xlink:href="${$}#check-mark"></use>
            </svg>
         </label>
         <label for="${this.nameGroup}${n+1}" class="custom-checkbox__label-text">
            ${a.label}
         </label>
      </div>
       `,t),"")}render(){this.container&&(this.container.innerHTML=this.createChecboxes())}}var U;(function(r){r.Range="range",r.Steps="steps",r.Positions="positions",r.Count="count",r.Values="values"})(U||(U={}));var H;(function(r){r[r.None=-1]="None",r[r.NoValue=0]="NoValue",r[r.LargeValue=1]="LargeValue",r[r.SmallValue=2]="SmallValue"})(H||(H={}));function ba(r){return le(r)&&typeof r.from=="function"}function le(r){return typeof r=="object"&&typeof r.to=="function"}function Je(r){r.parentElement.removeChild(r)}function Ae(r){return r!=null}function Ze(r){r.preventDefault()}function ma(r){return r.filter(function(e){return this[e]?!1:this[e]=!0},{})}function pa(r,e){return Math.round(r/e)*e}function ga(r,e){var t=r.getBoundingClientRect(),a=r.ownerDocument,n=a.documentElement,o=ot(a);return/webkit.*Chrome.*Mobile/i.test(navigator.userAgent)&&(o.x=0),e?t.top+o.y-n.clientTop:t.left+o.x-n.clientLeft}function R(r){return typeof r=="number"&&!isNaN(r)&&isFinite(r)}function et(r,e,t){t>0&&(A(r,e),setTimeout(function(){ne(r,e)},t))}function tt(r){return Math.max(Math.min(r,100),0)}function he(r){return Array.isArray(r)?r:[r]}function va(r){r=String(r);var e=r.split(".");return e.length>1?e[1].length:0}function A(r,e){r.classList&&!/\s/.test(e)?r.classList.add(e):r.className+=" "+e}function ne(r,e){r.classList&&!/\s/.test(e)?r.classList.remove(e):r.className=r.className.replace(new RegExp("(^|\\b)"+e.split(" ").join("|")+"(\\b|$)","gi")," ")}function ya(r,e){return r.classList?r.classList.contains(e):new RegExp("\\b"+e+"\\b").test(r.className)}function ot(r){var e=window.pageXOffset!==void 0,t=(r.compatMode||"")==="CSS1Compat",a=e?window.pageXOffset:t?r.documentElement.scrollLeft:r.body.scrollLeft,n=e?window.pageYOffset:t?r.documentElement.scrollTop:r.body.scrollTop;return{x:a,y:n}}function _a(){return window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"}}function wa(){var r=!1;try{var e=Object.defineProperty({},"passive",{get:function(){r=!0}});window.addEventListener("test",null,e)}catch{}return r}function Sa(){return window.CSS&&CSS.supports&&CSS.supports("touch-action","none")}function Ve(r,e){return 100/(e-r)}function He(r,e,t){return e*100/(r[t+1]-r[t])}function Ca(r,e){return He(r,r[0]<0?e+Math.abs(r[0]):e-r[0],0)}function ka(r,e){return e*(r[1]-r[0])/100+r[0]}function Z(r,e){for(var t=1;r>=e[t];)t+=1;return t}function xa(r,e,t){if(t>=r.slice(-1)[0])return 100;var a=Z(t,r),n=r[a-1],o=r[a],f=e[a-1],p=e[a];return f+Ca([n,o],t)/Ve(f,p)}function Oa(r,e,t){if(t>=100)return r.slice(-1)[0];var a=Z(t,e),n=r[a-1],o=r[a],f=e[a-1],p=e[a];return ka([n,o],(t-f)*Ve(f,p))}function Ea(r,e,t,a){if(a===100)return a;var n=Z(a,r),o=r[n-1],f=r[n];return t?a-o>(f-o)/2?f:o:e[n-1]?r[n-1]+pa(a-r[n-1],e[n-1]):a}var ct=function(){function r(e,t,a){this.xPct=[],this.xVal=[],this.xSteps=[],this.xNumSteps=[],this.xHighestCompleteStep=[],this.xSteps=[a||!1],this.xNumSteps=[!1],this.snap=t;var n,o=[];for(Object.keys(e).forEach(function(f){o.push([he(e[f]),f])}),o.sort(function(f,p){return f[0][0]-p[0][0]}),n=0;n<o.length;n++)this.handleEntryPoint(o[n][1],o[n][0]);for(this.xNumSteps=this.xSteps.slice(0),n=0;n<this.xNumSteps.length;n++)this.handleStepPoint(n,this.xNumSteps[n])}return r.prototype.getDistance=function(e){for(var t=[],a=0;a<this.xNumSteps.length-1;a++)t[a]=He(this.xVal,e,a);return t},r.prototype.getAbsoluteDistance=function(e,t,a){var n=0;if(e<this.xPct[this.xPct.length-1])for(;e>this.xPct[n+1];)n++;else e===this.xPct[this.xPct.length-1]&&(n=this.xPct.length-2);!a&&e===this.xPct[n+1]&&n++,t===null&&(t=[]);var o,f=1,p=t[n],b=0,x=0,P=0,w=0;for(a?o=(e-this.xPct[n])/(this.xPct[n+1]-this.xPct[n]):o=(this.xPct[n+1]-e)/(this.xPct[n+1]-this.xPct[n]);p>0;)b=this.xPct[n+1+w]-this.xPct[n+w],t[n+w]*f+100-o*100>100?(x=b*o,f=(p-100*o)/t[n+w],o=1):(x=t[n+w]*b/100*f,f=0),a?(P=P-x,this.xPct.length+w>=1&&w--):(P=P+x,this.xPct.length-w>=1&&w++),p=t[n+w]*f;return e+P},r.prototype.toStepping=function(e){return e=xa(this.xVal,this.xPct,e),e},r.prototype.fromStepping=function(e){return Oa(this.xVal,this.xPct,e)},r.prototype.getStep=function(e){return e=Ea(this.xPct,this.xSteps,this.snap,e),e},r.prototype.getDefaultStep=function(e,t,a){var n=Z(e,this.xPct);return(e===100||t&&e===this.xPct[n-1])&&(n=Math.max(n-1,1)),(this.xVal[n]-this.xVal[n-1])/a},r.prototype.getNearbySteps=function(e){var t=Z(e,this.xPct);return{stepBefore:{startValue:this.xVal[t-2],step:this.xNumSteps[t-2],highestStep:this.xHighestCompleteStep[t-2]},thisStep:{startValue:this.xVal[t-1],step:this.xNumSteps[t-1],highestStep:this.xHighestCompleteStep[t-1]},stepAfter:{startValue:this.xVal[t],step:this.xNumSteps[t],highestStep:this.xHighestCompleteStep[t]}}},r.prototype.countStepDecimals=function(){var e=this.xNumSteps.map(va);return Math.max.apply(null,e)},r.prototype.hasNoSize=function(){return this.xVal[0]===this.xVal[this.xVal.length-1]},r.prototype.convert=function(e){return this.getStep(this.toStepping(e))},r.prototype.handleEntryPoint=function(e,t){var a;if(e==="min"?a=0:e==="max"?a=100:a=parseFloat(e),!R(a)||!R(t[0]))throw new Error("noUiSlider: 'range' value isn't numeric.");this.xPct.push(a),this.xVal.push(t[0]);var n=Number(t[1]);a?this.xSteps.push(isNaN(n)?!1:n):isNaN(n)||(this.xSteps[0]=n),this.xHighestCompleteStep.push(0)},r.prototype.handleStepPoint=function(e,t){if(t){if(this.xVal[e]===this.xVal[e+1]){this.xSteps[e]=this.xHighestCompleteStep[e]=this.xVal[e];return}this.xSteps[e]=He([this.xVal[e],this.xVal[e+1]],t,0)/Ve(this.xPct[e],this.xPct[e+1]);var a=(this.xVal[e+1]-this.xVal[e])/this.xNumSteps[e],n=Math.ceil(Number(a.toFixed(3))-1),o=this.xVal[e]+this.xNumSteps[e]*n;this.xHighestCompleteStep[e]=o}},r}(),at={to:function(r){return r===void 0?"":r.toFixed(2)},from:Number},dt={target:"target",base:"base",origin:"origin",handle:"handle",handleLower:"handle-lower",handleUpper:"handle-upper",touchArea:"touch-area",horizontal:"horizontal",vertical:"vertical",background:"background",connect:"connect",connects:"connects",ltr:"ltr",rtl:"rtl",textDirectionLtr:"txt-dir-ltr",textDirectionRtl:"txt-dir-rtl",draggable:"draggable",drag:"state-drag",tap:"state-tap",active:"active",tooltip:"tooltip",pips:"pips",pipsHorizontal:"pips-horizontal",pipsVertical:"pips-vertical",marker:"marker",markerHorizontal:"marker-horizontal",markerVertical:"marker-vertical",markerNormal:"marker-normal",markerLarge:"marker-large",markerSub:"marker-sub",value:"value",valueHorizontal:"value-horizontal",valueVertical:"value-vertical",valueNormal:"value-normal",valueLarge:"value-large",valueSub:"value-sub"},B={tooltips:".__tooltips",aria:".__aria"};function Ma(r,e){if(!R(e))throw new Error("noUiSlider: 'step' is not numeric.");r.singleStep=e}function Da(r,e){if(!R(e))throw new Error("noUiSlider: 'keyboardPageMultiplier' is not numeric.");r.keyboardPageMultiplier=e}function ja(r,e){if(!R(e))throw new Error("noUiSlider: 'keyboardMultiplier' is not numeric.");r.keyboardMultiplier=e}function Pa(r,e){if(!R(e))throw new Error("noUiSlider: 'keyboardDefaultStep' is not numeric.");r.keyboardDefaultStep=e}function La(r,e){if(typeof e!="object"||Array.isArray(e))throw new Error("noUiSlider: 'range' is not an object.");if(e.min===void 0||e.max===void 0)throw new Error("noUiSlider: Missing 'min' or 'max' in 'range'.");r.spectrum=new ct(e,r.snap||!1,r.singleStep)}function Aa(r,e){if(e=he(e),!Array.isArray(e)||!e.length)throw new Error("noUiSlider: 'start' option is incorrect.");r.handles=e.length,r.start=e}function Ha(r,e){if(typeof e!="boolean")throw new Error("noUiSlider: 'snap' option must be a boolean.");r.snap=e}function $a(r,e){if(typeof e!="boolean")throw new Error("noUiSlider: 'animate' option must be a boolean.");r.animate=e}function Va(r,e){if(typeof e!="number")throw new Error("noUiSlider: 'animationDuration' option must be a number.");r.animationDuration=e}function Fa(r,e){var t=[!1],a;if(e==="lower"?e=[!0,!1]:e==="upper"&&(e=[!1,!0]),e===!0||e===!1){for(a=1;a<r.handles;a++)t.push(e);t.push(!1)}else{if(!Array.isArray(e)||!e.length||e.length!==r.handles+1)throw new Error("noUiSlider: 'connect' option doesn't match handle count.");t=e}r.connect=t}function Ta(r,e){switch(e){case"horizontal":r.ort=0;break;case"vertical":r.ort=1;break;default:throw new Error("noUiSlider: 'orientation' option is invalid.")}}function ut(r,e){if(!R(e))throw new Error("noUiSlider: 'margin' option must be numeric.");e!==0&&(r.margin=r.spectrum.getDistance(e))}function qa(r,e){if(!R(e))throw new Error("noUiSlider: 'limit' option must be numeric.");if(r.limit=r.spectrum.getDistance(e),!r.limit||r.handles<2)throw new Error("noUiSlider: 'limit' option is only supported on linear sliders with 2 or more handles.")}function Ra(r,e){var t;if(!R(e)&&!Array.isArray(e))throw new Error("noUiSlider: 'padding' option must be numeric or array of exactly 2 numbers.");if(Array.isArray(e)&&!(e.length===2||R(e[0])||R(e[1])))throw new Error("noUiSlider: 'padding' option must be numeric or array of exactly 2 numbers.");if(e!==0){for(Array.isArray(e)||(e=[e,e]),r.padding=[r.spectrum.getDistance(e[0]),r.spectrum.getDistance(e[1])],t=0;t<r.spectrum.xNumSteps.length-1;t++)if(r.padding[0][t]<0||r.padding[1][t]<0)throw new Error("noUiSlider: 'padding' option must be a positive number(s).");var a=e[0]+e[1],n=r.spectrum.xVal[0],o=r.spectrum.xVal[r.spectrum.xVal.length-1];if(a/(o-n)>1)throw new Error("noUiSlider: 'padding' option must not exceed 100% of the range.")}}function Na(r,e){switch(e){case"ltr":r.dir=0;break;case"rtl":r.dir=1;break;default:throw new Error("noUiSlider: 'direction' option was not recognized.")}}function Ba(r,e){if(typeof e!="string")throw new Error("noUiSlider: 'behaviour' must be a string containing options.");var t=e.indexOf("tap")>=0,a=e.indexOf("drag")>=0,n=e.indexOf("fixed")>=0,o=e.indexOf("snap")>=0,f=e.indexOf("hover")>=0,p=e.indexOf("unconstrained")>=0,b=e.indexOf("drag-all")>=0,x=e.indexOf("smooth-steps")>=0;if(n){if(r.handles!==2)throw new Error("noUiSlider: 'fixed' behaviour must be used with 2 handles");ut(r,r.start[1]-r.start[0])}if(p&&(r.margin||r.limit))throw new Error("noUiSlider: 'unconstrained' behaviour cannot be used with margin or limit");r.events={tap:t||o,drag:a,dragAll:b,smoothSteps:x,fixed:n,snap:o,hover:f,unconstrained:p}}function Ua(r,e){if(e!==!1)if(e===!0||le(e)){r.tooltips=[];for(var t=0;t<r.handles;t++)r.tooltips.push(e)}else{if(e=he(e),e.length!==r.handles)throw new Error("noUiSlider: must pass a formatter for all handles.");e.forEach(function(a){if(typeof a!="boolean"&&!le(a))throw new Error("noUiSlider: 'tooltips' must be passed a formatter or 'false'.")}),r.tooltips=e}}function Ia(r,e){if(e.length!==r.handles)throw new Error("noUiSlider: must pass a attributes for all handles.");r.handleAttributes=e}function Ga(r,e){if(!le(e))throw new Error("noUiSlider: 'ariaFormat' requires 'to' method.");r.ariaFormat=e}function za(r,e){if(!ba(e))throw new Error("noUiSlider: 'format' requires 'to' and 'from' methods.");r.format=e}function Qa(r,e){if(typeof e!="boolean")throw new Error("noUiSlider: 'keyboardSupport' option must be a boolean.");r.keyboardSupport=e}function Ka(r,e){r.documentElement=e}function Xa(r,e){if(typeof e!="string"&&e!==!1)throw new Error("noUiSlider: 'cssPrefix' must be a string or `false`.");r.cssPrefix=e}function Wa(r,e){if(typeof e!="object")throw new Error("noUiSlider: 'cssClasses' must be an object.");typeof r.cssPrefix=="string"?(r.cssClasses={},Object.keys(e).forEach(function(t){r.cssClasses[t]=r.cssPrefix+e[t]})):r.cssClasses=e}function ft(r){var e={margin:null,limit:null,padding:null,animate:!0,animationDuration:300,ariaFormat:at,format:at},t={step:{r:!1,t:Ma},keyboardPageMultiplier:{r:!1,t:Da},keyboardMultiplier:{r:!1,t:ja},keyboardDefaultStep:{r:!1,t:Pa},start:{r:!0,t:Aa},connect:{r:!0,t:Fa},direction:{r:!0,t:Na},snap:{r:!1,t:Ha},animate:{r:!1,t:$a},animationDuration:{r:!1,t:Va},range:{r:!0,t:La},orientation:{r:!1,t:Ta},margin:{r:!1,t:ut},limit:{r:!1,t:qa},padding:{r:!1,t:Ra},behaviour:{r:!0,t:Ba},ariaFormat:{r:!1,t:Ga},format:{r:!1,t:za},tooltips:{r:!1,t:Ua},keyboardSupport:{r:!0,t:Qa},documentElement:{r:!1,t:Ka},cssPrefix:{r:!0,t:Xa},cssClasses:{r:!0,t:Wa},handleAttributes:{r:!1,t:Ia}},a={connect:!1,direction:"ltr",behaviour:"tap",orientation:"horizontal",keyboardSupport:!0,cssPrefix:"noUi-",cssClasses:dt,keyboardPageMultiplier:5,keyboardMultiplier:1,keyboardDefaultStep:10};r.format&&!r.ariaFormat&&(r.ariaFormat=r.format),Object.keys(t).forEach(function(b){if(!Ae(r[b])&&a[b]===void 0){if(t[b].r)throw new Error("noUiSlider: '"+b+"' is required.");return}t[b].t(e,Ae(r[b])?r[b]:a[b])}),e.pips=r.pips;var n=document.createElement("div"),o=n.style.msTransform!==void 0,f=n.style.transform!==void 0;e.transformRule=f?"transform":o?"msTransform":"webkitTransform";var p=[["left","top"],["right","bottom"]];return e.style=p[e.dir][e.ort],e}function Ya(r,e,t){var a=_a(),n=Sa(),o=n&&wa(),f=r,p,b,x,P,w,g=e.spectrum,V=[],_=[],D=[],Y=0,q={},X=r.ownerDocument,te=e.documentElement||X.documentElement,ae=X.body,St=X.dir==="rtl"||e.ort===1?0:100;function N(s,i){var l=X.createElement("div");return i&&A(l,i),s.appendChild(l),l}function Ct(s,i){var l=N(s,e.cssClasses.origin),c=N(l,e.cssClasses.handle);if(N(c,e.cssClasses.touchArea),c.setAttribute("data-handle",String(i)),e.keyboardSupport&&(c.setAttribute("tabindex","0"),c.addEventListener("keydown",function(d){return qt(d,i)})),e.handleAttributes!==void 0){var u=e.handleAttributes[i];Object.keys(u).forEach(function(d){c.setAttribute(d,u[d])})}return c.setAttribute("role","slider"),c.setAttribute("aria-orientation",e.ort?"vertical":"horizontal"),i===0?A(c,e.cssClasses.handleLower):i===e.handles-1&&A(c,e.cssClasses.handleUpper),l.handle=c,l}function Fe(s,i){return i?N(s,e.cssClasses.connect):!1}function kt(s,i){var l=N(i,e.cssClasses.connects);b=[],x=[],x.push(Fe(l,s[0]));for(var c=0;c<e.handles;c++)b.push(Ct(i,c)),D[c]=c,x.push(Fe(l,s[c+1]))}function xt(s){A(s,e.cssClasses.target),e.dir===0?A(s,e.cssClasses.ltr):A(s,e.cssClasses.rtl),e.ort===0?A(s,e.cssClasses.horizontal):A(s,e.cssClasses.vertical);var i=getComputedStyle(s).direction;return i==="rtl"?A(s,e.cssClasses.textDirectionRtl):A(s,e.cssClasses.textDirectionLtr),N(s,e.cssClasses.base)}function Ot(s,i){return!e.tooltips||!e.tooltips[i]?!1:N(s.firstChild,e.cssClasses.tooltip)}function Te(){return f.hasAttribute("disabled")}function _e(s){var i=b[s];return i.hasAttribute("disabled")}function Et(s){s!=null?(b[s].setAttribute("disabled",""),b[s].handle.removeAttribute("tabindex")):(f.setAttribute("disabled",""),b.forEach(function(i){i.handle.removeAttribute("tabindex")}))}function Mt(s){s!=null?(b[s].removeAttribute("disabled"),b[s].handle.setAttribute("tabindex","0")):(f.removeAttribute("disabled"),b.forEach(function(i){i.removeAttribute("disabled"),i.handle.setAttribute("tabindex","0")}))}function we(){w&&(J("update"+B.tooltips),w.forEach(function(s){s&&Je(s)}),w=null)}function qe(){we(),w=b.map(Ot),Oe("update"+B.tooltips,function(s,i,l){if(!(!w||!e.tooltips)&&w[i]!==!1){var c=s[i];e.tooltips[i]!==!0&&(c=e.tooltips[i].to(l[i])),w[i].innerHTML=c}})}function Dt(){J("update"+B.aria),Oe("update"+B.aria,function(s,i,l,c,u){D.forEach(function(d){var m=b[d],h=re(_,d,0,!0,!0,!0),S=re(_,d,100,!0,!0,!0),y=u[d],C=String(e.ariaFormat.to(l[d]));h=g.fromStepping(h).toFixed(1),S=g.fromStepping(S).toFixed(1),y=g.fromStepping(y).toFixed(1),m.children[0].setAttribute("aria-valuemin",h),m.children[0].setAttribute("aria-valuemax",S),m.children[0].setAttribute("aria-valuenow",y),m.children[0].setAttribute("aria-valuetext",C)})})}function jt(s){if(s.mode===U.Range||s.mode===U.Steps)return g.xVal;if(s.mode===U.Count){if(s.values<2)throw new Error("noUiSlider: 'values' (>= 2) required for mode 'count'.");for(var i=s.values-1,l=100/i,c=[];i--;)c[i]=i*l;return c.push(100),Re(c,s.stepped)}return s.mode===U.Positions?Re(s.values,s.stepped):s.mode===U.Values?s.stepped?s.values.map(function(u){return g.fromStepping(g.getStep(g.toStepping(u)))}):s.values:[]}function Re(s,i){return s.map(function(l){return g.fromStepping(i?g.getStep(l):l)})}function Pt(s){function i(y,C){return Number((y+C).toFixed(7))}var l=jt(s),c={},u=g.xVal[0],d=g.xVal[g.xVal.length-1],m=!1,h=!1,S=0;return l=ma(l.slice().sort(function(y,C){return y-C})),l[0]!==u&&(l.unshift(u),m=!0),l[l.length-1]!==d&&(l.push(d),h=!0),l.forEach(function(y,C){var k,v,E,L=y,M=l[C+1],j,De,je,Pe,Xe,Le,We,Ye=s.mode===U.Steps;for(Ye&&(k=g.xNumSteps[C]),k||(k=M-L),M===void 0&&(M=L),k=Math.max(k,1e-7),v=L;v<=M;v=i(v,k)){for(j=g.toStepping(v),De=j-S,Xe=De/(s.density||1),Le=Math.round(Xe),We=De/Le,E=1;E<=Le;E+=1)je=S+E*We,c[je.toFixed(5)]=[g.fromStepping(je),0];Pe=l.indexOf(v)>-1?H.LargeValue:Ye?H.SmallValue:H.NoValue,!C&&m&&v!==M&&(Pe=0),v===M&&h||(c[j.toFixed(5)]=[v,Pe]),S=j}}),c}function Lt(s,i,l){var c,u,d=X.createElement("div"),m=(c={},c[H.None]="",c[H.NoValue]=e.cssClasses.valueNormal,c[H.LargeValue]=e.cssClasses.valueLarge,c[H.SmallValue]=e.cssClasses.valueSub,c),h=(u={},u[H.None]="",u[H.NoValue]=e.cssClasses.markerNormal,u[H.LargeValue]=e.cssClasses.markerLarge,u[H.SmallValue]=e.cssClasses.markerSub,u),S=[e.cssClasses.valueHorizontal,e.cssClasses.valueVertical],y=[e.cssClasses.markerHorizontal,e.cssClasses.markerVertical];A(d,e.cssClasses.pips),A(d,e.ort===0?e.cssClasses.pipsHorizontal:e.cssClasses.pipsVertical);function C(v,E){var L=E===e.cssClasses.value,M=L?S:y,j=L?m:h;return E+" "+M[e.ort]+" "+j[v]}function k(v,E,L){if(L=i?i(E,L):L,L!==H.None){var M=N(d,!1);M.className=C(L,e.cssClasses.marker),M.style[e.style]=v+"%",L>H.NoValue&&(M=N(d,!1),M.className=C(L,e.cssClasses.value),M.setAttribute("data-value",String(E)),M.style[e.style]=v+"%",M.innerHTML=String(l.to(E)))}}return Object.keys(s).forEach(function(v){k(v,s[v][0],s[v][1])}),d}function Se(){P&&(Je(P),P=null)}function Ce(s){Se();var i=Pt(s),l=s.filter,c=s.format||{to:function(u){return String(Math.round(u))}};return P=f.appendChild(Lt(i,l,c)),P}function Ne(){var s=p.getBoundingClientRect(),i="offset"+["Width","Height"][e.ort];return e.ort===0?s.width||p[i]:s.height||p[i]}function G(s,i,l,c){var u=function(m){var h=At(m,c.pageOffset,c.target||i);if(!h||Te()&&!c.doNotReject||ya(f,e.cssClasses.tap)&&!c.doNotReject||s===a.start&&h.buttons!==void 0&&h.buttons>1||c.hover&&h.buttons)return!1;o||h.preventDefault(),h.calcPoint=h.points[e.ort],l(h,c)},d=[];return s.split(" ").forEach(function(m){i.addEventListener(m,u,o?{passive:!0}:!1),d.push([m,u])}),d}function At(s,i,l){var c=s.type.indexOf("touch")===0,u=s.type.indexOf("mouse")===0,d=s.type.indexOf("pointer")===0,m=0,h=0;if(s.type.indexOf("MSPointer")===0&&(d=!0),s.type==="mousedown"&&!s.buttons&&!s.touches)return!1;if(c){var S=function(k){var v=k.target;return v===l||l.contains(v)||s.composed&&s.composedPath().shift()===l};if(s.type==="touchstart"){var y=Array.prototype.filter.call(s.touches,S);if(y.length>1)return!1;m=y[0].pageX,h=y[0].pageY}else{var C=Array.prototype.find.call(s.changedTouches,S);if(!C)return!1;m=C.pageX,h=C.pageY}}return i=i||ot(X),(u||d)&&(m=s.clientX+i.x,h=s.clientY+i.y),s.pageOffset=i,s.points=[m,h],s.cursor=u||d,s}function Be(s){var i=s-ga(p,e.ort),l=i*100/Ne();return l=tt(l),e.dir?100-l:l}function Ht(s){var i=100,l=!1;return b.forEach(function(c,u){if(!_e(u)){var d=_[u],m=Math.abs(d-s),h=m===100&&i===100,S=m<i,y=m<=i&&s>d;(S||y||h)&&(l=u,i=m)}}),l}function $t(s,i){s.type==="mouseout"&&s.target.nodeName==="HTML"&&s.relatedTarget===null&&ke(s,i)}function Vt(s,i){if(navigator.appVersion.indexOf("MSIE 9")===-1&&s.buttons===0&&i.buttonsProperty!==0)return ke(s,i);var l=(e.dir?-1:1)*(s.calcPoint-i.startCalcPoint),c=l*100/i.baseSize;Ue(l>0,c,i.locations,i.handleNumbers,i.connect)}function ke(s,i){i.handle&&(ne(i.handle,e.cssClasses.active),Y-=1),i.listeners.forEach(function(l){te.removeEventListener(l[0],l[1])}),Y===0&&(ne(f,e.cssClasses.drag),Me(),s.cursor&&(ae.style.cursor="",ae.removeEventListener("selectstart",Ze))),e.events.smoothSteps&&(i.handleNumbers.forEach(function(l){z(l,_[l],!0,!0,!1,!1)}),i.handleNumbers.forEach(function(l){O("update",l)})),i.handleNumbers.forEach(function(l){O("change",l),O("set",l),O("end",l)})}function xe(s,i){if(!i.handleNumbers.some(_e)){var l;if(i.handleNumbers.length===1){var c=b[i.handleNumbers[0]];l=c.children[0],Y+=1,A(l,e.cssClasses.active)}s.stopPropagation();var u=[],d=G(a.move,te,Vt,{target:s.target,handle:l,connect:i.connect,listeners:u,startCalcPoint:s.calcPoint,baseSize:Ne(),pageOffset:s.pageOffset,handleNumbers:i.handleNumbers,buttonsProperty:s.buttons,locations:_.slice()}),m=G(a.end,te,ke,{target:s.target,handle:l,listeners:u,doNotReject:!0,handleNumbers:i.handleNumbers}),h=G("mouseout",te,$t,{target:s.target,handle:l,listeners:u,doNotReject:!0,handleNumbers:i.handleNumbers});u.push.apply(u,d.concat(m,h)),s.cursor&&(ae.style.cursor=getComputedStyle(s.target).cursor,b.length>1&&A(f,e.cssClasses.drag),ae.addEventListener("selectstart",Ze,!1)),i.handleNumbers.forEach(function(S){O("start",S)})}}function Ft(s){s.stopPropagation();var i=Be(s.calcPoint),l=Ht(i);l!==!1&&(e.events.snap||et(f,e.cssClasses.tap,e.animationDuration),z(l,i,!0,!0),Me(),O("slide",l,!0),O("update",l,!0),e.events.snap?xe(s,{handleNumbers:[l]}):(O("change",l,!0),O("set",l,!0)))}function Tt(s){var i=Be(s.calcPoint),l=g.getStep(i),c=g.fromStepping(l);Object.keys(q).forEach(function(u){u.split(".")[0]==="hover"&&q[u].forEach(function(d){d.call(ie,c)})})}function qt(s,i){if(Te()||_e(i))return!1;var l=["Left","Right"],c=["Down","Up"],u=["PageDown","PageUp"],d=["Home","End"];e.dir&&!e.ort?l.reverse():e.ort&&!e.dir&&(c.reverse(),u.reverse());var m=s.key.replace("Arrow",""),h=m===u[0],S=m===u[1],y=m===c[0]||m===l[0]||h,C=m===c[1]||m===l[1]||S,k=m===d[0],v=m===d[1];if(!y&&!C&&!k&&!v)return!0;s.preventDefault();var E;if(C||y){var L=y?0:1,M=Ke(i),j=M[L];if(j===null)return!1;j===!1&&(j=g.getDefaultStep(_[i],y,e.keyboardDefaultStep)),S||h?j*=e.keyboardPageMultiplier:j*=e.keyboardMultiplier,j=Math.max(j,1e-7),j=(y?-1:1)*j,E=V[i]+j}else v?E=e.spectrum.xVal[e.spectrum.xVal.length-1]:E=e.spectrum.xVal[0];return z(i,g.toStepping(E),!0,!0),O("slide",i),O("update",i),O("change",i),O("set",i),!1}function Rt(s){s.fixed||b.forEach(function(i,l){G(a.start,i.children[0],xe,{handleNumbers:[l]})}),s.tap&&G(a.start,p,Ft,{}),s.hover&&G(a.move,p,Tt,{hover:!0}),s.drag&&x.forEach(function(i,l){if(!(i===!1||l===0||l===x.length-1)){var c=b[l-1],u=b[l],d=[i],m=[c,u],h=[l-1,l];A(i,e.cssClasses.draggable),s.fixed&&(d.push(c.children[0]),d.push(u.children[0])),s.dragAll&&(m=b,h=D),d.forEach(function(S){G(a.start,S,xe,{handles:m,handleNumbers:h,connect:i})})}})}function Oe(s,i){q[s]=q[s]||[],q[s].push(i),s.split(".")[0]==="update"&&b.forEach(function(l,c){O("update",c)})}function Nt(s){return s===B.aria||s===B.tooltips}function J(s){var i=s&&s.split(".")[0],l=i?s.substring(i.length):s;Object.keys(q).forEach(function(c){var u=c.split(".")[0],d=c.substring(u.length);(!i||i===u)&&(!l||l===d)&&(!Nt(d)||l===d)&&delete q[c]})}function O(s,i,l){Object.keys(q).forEach(function(c){var u=c.split(".")[0];s===u&&q[c].forEach(function(d){d.call(ie,V.map(e.format.to),i,V.slice(),l||!1,_.slice(),ie)})})}function re(s,i,l,c,u,d,m){var h;return b.length>1&&!e.events.unconstrained&&(c&&i>0&&(h=g.getAbsoluteDistance(s[i-1],e.margin,!1),l=Math.max(l,h)),u&&i<b.length-1&&(h=g.getAbsoluteDistance(s[i+1],e.margin,!0),l=Math.min(l,h))),b.length>1&&e.limit&&(c&&i>0&&(h=g.getAbsoluteDistance(s[i-1],e.limit,!1),l=Math.min(l,h)),u&&i<b.length-1&&(h=g.getAbsoluteDistance(s[i+1],e.limit,!0),l=Math.max(l,h))),e.padding&&(i===0&&(h=g.getAbsoluteDistance(0,e.padding[0],!1),l=Math.max(l,h)),i===b.length-1&&(h=g.getAbsoluteDistance(100,e.padding[1],!0),l=Math.min(l,h))),m||(l=g.getStep(l)),l=tt(l),l===s[i]&&!d?!1:l}function Ee(s,i){var l=e.ort;return(l?i:s)+", "+(l?s:i)}function Ue(s,i,l,c,u){var d=l.slice(),m=c[0],h=e.events.smoothSteps,S=[!s,s],y=[s,!s];c=c.slice(),s&&c.reverse(),c.length>1?c.forEach(function(k,v){var E=re(d,k,d[k]+i,S[v],y[v],!1,h);E===!1?i=0:(i=E-d[k],d[k]=E)}):S=y=[!0];var C=!1;c.forEach(function(k,v){C=z(k,l[k]+i,S[v],y[v],!1,h)||C}),C&&(c.forEach(function(k){O("update",k),O("slide",k)}),u!=null&&O("drag",m))}function Ie(s,i){return e.dir?100-s-i:s}function Bt(s,i){_[s]=i,V[s]=g.fromStepping(i);var l=Ie(i,0)-St,c="translate("+Ee(l+"%","0")+")";b[s].style[e.transformRule]=c,Ge(s),Ge(s+1)}function Me(){D.forEach(function(s){var i=_[s]>50?-1:1,l=3+(b.length+i*s);b[s].style.zIndex=String(l)})}function z(s,i,l,c,u,d){return u||(i=re(_,s,i,l,c,!1,d)),i===!1?!1:(Bt(s,i),!0)}function Ge(s){if(x[s]){var i=0,l=100;s!==0&&(i=_[s-1]),s!==x.length-1&&(l=_[s]);var c=l-i,u="translate("+Ee(Ie(i,c)+"%","0")+")",d="scale("+Ee(c/100,"1")+")";x[s].style[e.transformRule]=u+" "+d}}function ze(s,i){return s===null||s===!1||s===void 0||(typeof s=="number"&&(s=String(s)),s=e.format.from(s),s!==!1&&(s=g.toStepping(s)),s===!1||isNaN(s))?_[i]:s}function se(s,i,l){var c=he(s),u=_[0]===void 0;i=i===void 0?!0:i,e.animate&&!u&&et(f,e.cssClasses.tap,e.animationDuration),D.forEach(function(h){z(h,ze(c[h],h),!0,!1,l)});var d=D.length===1?0:1;if(u&&g.hasNoSize()&&(l=!0,_[0]=0,D.length>1)){var m=100/(D.length-1);D.forEach(function(h){_[h]=h*m})}for(;d<D.length;++d)D.forEach(function(h){z(h,_[h],!0,!0,l)});Me(),D.forEach(function(h){O("update",h),c[h]!==null&&i&&O("set",h)})}function Ut(s){se(e.start,s)}function It(s,i,l,c){if(s=Number(s),!(s>=0&&s<D.length))throw new Error("noUiSlider: invalid handle number, got: "+s);z(s,ze(i,s),!0,!0,c),O("update",s),l&&O("set",s)}function Qe(s){if(s===void 0&&(s=!1),s)return V.length===1?V[0]:V.slice(0);var i=V.map(e.format.to);return i.length===1?i[0]:i}function Gt(){for(J(B.aria),J(B.tooltips),Object.keys(e.cssClasses).forEach(function(s){ne(f,e.cssClasses[s])});f.firstChild;)f.removeChild(f.firstChild);delete f.noUiSlider}function Ke(s){var i=_[s],l=g.getNearbySteps(i),c=V[s],u=l.thisStep.step,d=null;if(e.snap)return[c-l.stepBefore.startValue||null,l.stepAfter.startValue-c||null];u!==!1&&c+u>l.stepAfter.startValue&&(u=l.stepAfter.startValue-c),c>l.thisStep.startValue?d=l.thisStep.step:l.stepBefore.step===!1?d=!1:d=c-l.stepBefore.highestStep,i===100?u=null:i===0&&(d=null);var m=g.countStepDecimals();return u!==null&&u!==!1&&(u=Number(u.toFixed(m))),d!==null&&d!==!1&&(d=Number(d.toFixed(m))),[d,u]}function zt(){return D.map(Ke)}function Qt(s,i){var l=Qe(),c=["margin","limit","padding","range","animate","snap","step","format","pips","tooltips"];c.forEach(function(d){s[d]!==void 0&&(t[d]=s[d])});var u=ft(t);c.forEach(function(d){s[d]!==void 0&&(e[d]=u[d])}),g=u.spectrum,e.margin=u.margin,e.limit=u.limit,e.padding=u.padding,e.pips?Ce(e.pips):Se(),e.tooltips?qe():we(),_=[],se(Ae(s.start)?s.start:l,i)}function Kt(){p=xt(f),kt(e.connect,p),Rt(e.events),se(e.start),e.pips&&Ce(e.pips),e.tooltips&&qe(),Dt()}Kt();var ie={destroy:Gt,steps:zt,on:Oe,off:J,get:Qe,set:se,setHandle:It,reset:Ut,disable:Et,enable:Mt,__moveHandles:function(s,i,l){Ue(s,i,_,l)},options:t,updateOptions:Qt,target:f,removePips:Se,removeTooltips:we,getPositions:function(){return _.slice()},getTooltips:function(){return w},getOrigins:function(){return b},pips:Ce};return ie}function Ja(r,e){if(!r||!r.nodeName)throw new Error("noUiSlider: create requires a single element, got: "+r);if(r.noUiSlider)throw new Error("noUiSlider: Slider was already initialized.");var t=ft(e),a=Ya(r,t,e);return r.noUiSlider=a,a}const Za={__spectrum:ct,cssClasses:dt,create:Ja};class be{MIN_RANGE=100;MAX_RANGE=99900;container;checkboxHtml;sliderValue=[this.MIN_RANGE,this.MAX_RANGE];allCheckbox;constructor(e,t){this.container=document.querySelector(`#${e}`),this.checkboxHtml=new fe("rate-filter",t,null),this.render(),this.defineStartingParams(),this.selectAllCheckbox(),this.initialSlider()}defineStartingParams(){const e=$e("rate")?.split(",");e?.[0]==="between"&&(this.sliderValue=[+e?.[1],+e?.[2]])}render(){const e=`
    <div class="rate-filter__title-block accordion__header">
      <div class="rate-filter__title accordion__title"
        >Ставка</div
      >
      <svg
        class="rate-filter__accordion-arrow accordion__arrow"
      >
        <use
          xlink:href="${$}#arrow-down"
        ></use>
      </svg>
    </div>
    <div class="accordion__content rate-filter__content">
      <div class="rate-filter__slider-output-block">
        <div class="rate-filter__lower-slider-output"></div>
        <div class="rate-filter__upper-slider-output"></div>
      </div>
      <div class="rate-filter__slider" id="slider-round"></div>
      <div
        class="rate-filter__checkboxes"
        id="rate-filter-wrapper"
      >
      ${this.checkboxHtml.createChecboxes()}
      </div>
      <button class="rate-filter__button btn_yellow">
        <svg class="rate-filter__button-icon">
          <use
            xlink:href="${$}#auto-selction"
          ></use>
        </svg>
        <div class="rate-filter__button-text">
          Автоподбор матча
        </div>
      </button>
    </div>
      `,t=document.createElement("div");t.classList.add("find-lobby__rate-filter","rate-filter","accordion"),t.innerHTML=e,this.container?.append(t)}selectAllCheckbox(){this.allCheckbox=this.container?.querySelectorAll('input[id^="rate-filter"]')}initialSlider(){const e=this.allCheckbox;let t=document.querySelector(".rate-filter__slider");Za.create(t,{start:[this.sliderValue[0],this.sliderValue[1]],connect:!0,range:{min:this.MIN_RANGE,max:this.MAX_RANGE},step:100,format:{from:function(o){return Number(o)},to:function(o){return Math.round(o)}}});const a=document.querySelector(".rate-filter__lower-slider-output"),n=document.querySelector(".rate-filter__upper-slider-output");t.noUiSlider?.on("update",function(o,f){f?n.innerHTML=`$ ${o[f]}`:a.innerHTML=`$ ${o[f]}`,e?.forEach(p=>{p.checked&&(p.checked=!1)})}),t.noUiSlider?.on("change",(o,f)=>{const p=new Event("changeRateSlider",{bubbles:!0});f?(this.sliderValue[0]=+`$ ${o[f]}`,a.dispatchEvent(p)):(this.sliderValue[1]=+`$ ${o[f]}`,n.dispatchEvent(p))}),e?.forEach(o=>{o.addEventListener("change",f=>{let p=t.noUiSlider?.get();const b=this.checkSelected(e);(p[0]!==this.MIN_RANGE||p[1]!==this.MAX_RANGE)&&b&&(t.noUiSlider?.set([this.MIN_RANGE,this.MAX_RANGE]),f.target.checked=!0)})})}checkSelected(e){return Array.from(e).find(a=>a.checked)!==void 0}getSliderValue(){return this.sliderValue}}class er{container;nameGroup;options;type;constructor(e,t,a=null,n="checkbox"){this.container=document.querySelector(`#${a}`),this.nameGroup=e,this.options=t,this.type=n,this.render()}createChecboxes(){return this.options.reduce((t,a,n)=>(t+=`
      <div class="custom-checkbox">
        <input
         type="${this.type}"
         name="${this.nameGroup}"
         id="${this.nameGroup}${n+1}"
         class="custom-checkbox__input"
         value="${a.value}" 
        />
        <label for="${this.nameGroup}${n+1}" class="custom-checkbox__label">
          <svg>
            <use
              xlink:href="${$}#check-mark"
            ></use>
          </svg>
        </label>
        <label
          for="${this.nameGroup}${n+1}"
          class="custom-checkbox__label-text"
        >
          <img
            src=" ${a.img}"
            alt="Флаг ${a.label}"
            width="24"
            height="15"
          />
          <span> ${a.label}</span>
        </label>
      </div>
       `,t),"")}render(){this.container&&(this.container.innerHTML=this.createChecboxes())}}class me{filterContainer;constructor(e){if(this.filterContainer=document.querySelector(`#${e}`),!this.filterContainer)throw new Error(`Container with id #${e} not found.`);this.renderFilterContainer()}async renderCheckboxHtml(e){return new er("country-filter",e,"region-filter-checkboxes-container").createChecboxes()}renderFilterContainer(){const e=`
   <div class="region-filter__title-block accordion__header">
     <div class="region-filter__title accordion__title"
       >Регион</div
     >
     <svg class="accordion__arrow">
       <use
         xlink:href="${$}#arrow-down"
       ></use>
     </svg>
   </div>
   <div class="region-filter__content accordion__content" id="region-filter-checkboxes-container"> 

   </div>
     `,t=document.createElement("div");t.classList.add("find-lobby__region-filter","region-filter","accordion"),t.innerHTML=e,this.filterContainer?.append(t)}async renderRadioBtnHtml(e){new K("country-selected",e,"region-selected-btns").createBtnRadio()}async assembleFilter(e){await this.renderCheckboxHtml(e),new Q("find-lobby__region-filter")}async assembleSelected(e){this.renderRadioBtnHtml(e)}}class pe{container;checkboxHtml;constructor(e){this.container=document.querySelector(`#${e}`),this.checkboxHtml=new fe("antyCheat",[{value:"antiCheat",label:"Античит"}],null),this.render()}render(){const e=document.createElement("div");e.classList.add("find-lobby__anti-cheat","anti-cheat"),e.innerHTML=this.checkboxHtml.createChecboxes(),this.container?.append(e)}}class ht{endpoint;constructor(e){this.endpoint=e}async getCheckboxesData(){try{const{maps:e}=await T(this.endpoint,Xt,{},{Authorization:"Bearer 9c9bf4554f3ecfed253aca7329b2c46511bf3c9b58d2b9a865d9998c75062aab17b1ad96c3c5d878b4aac951441353b066b95b7b20fbd4f31c5466fe8d2479b775f1a398d92e53cfa2e89141d61ee1f32b4850a2daaaebbcf75d3a510bc7e2a3e8613f71c4c84bf7e109f00e2629c12aae3a372fc954fe4de327f478d6857912"});if(e?.data)return e.data.map(t=>({id:t.id,label:t.attributes?.name,value:t.attributes?.name}))}catch(e){console.error(e)}return[]}}class bt{container;constructor(e){if(this.container=document.querySelector(`#${e}`),!this.container)throw new Error(`Container with id #${e} not found.`);this.renderFilterContainer()}async renderCheckboxHtml(e){return new fe("mapName-filter",e,"map-filter-checkboxes-container").createChecboxes()}renderFilterContainer(){const e=`
   <div class="maps-filter__title-block accordion__header">
      <div class="maps-filter__title accordion__title"
      >Карты</div
      >
      <svg class="accordion__arrow">
      <use
         xlink:href="${$}#arrow-down"
      ></use>
      </svg>
   </div>
   <div class="maps-filter__content accordion__content" id = "map-filter-checkboxes-container">
   
   </div>
   `,t=document.createElement("div");t.classList.add("find-lobby__maps-filter","map-filter","accordion"),t.innerHTML=e,this.container?.append(t)}async assembleFilter(e){await this.renderCheckboxHtml(e),new Q("find-lobby__maps-filter")}}class tr{container;constructor(e){if(this.container=document.querySelector(`#${e}`),!this.container)throw new Error(`Container with id #${e} not found.`);this.renderSelectedContainer()}async renderRadioBtnHtml(e){new K("map-selected",e,"map-selected-btns")}renderSelectedContainer(){const e=`
   <div class="map-selected__title create-lobby__title"> Карты </div>
   <div class="map-selected__wrapper-btns" id="map-selected-btns" >
      
   </div>
`,t=document.createElement("div");t.classList.add("map-selected-btns","create-lobby__map-selected"),t.innerHTML=e,this.container?.prepend(t)}async assembleFilter(e){const t=e.map(a=>({value:a.id,label:a.label}));await this.renderRadioBtnHtml(t)}}class ge{endpoint;constructor(e){this.endpoint=e}async getCheckboxesData(){try{const{countries:e}=await T(this.endpoint,Wt,{},{Authorization:"Bearer 9c9bf4554f3ecfed253aca7329b2c46511bf3c9b58d2b9a865d9998c75062aab17b1ad96c3c5d878b4aac951441353b066b95b7b20fbd4f31c5466fe8d2479b775f1a398d92e53cfa2e89141d61ee1f32b4850a2daaaebbcf75d3a510bc7e2a3e8613f71c4c84bf7e109f00e2629c12aae3a372fc954fe4de327f478d6857912"});if(e?.data)return e.data.map(t=>({value:t.attributes?.name,label:t.attributes?.name,img:t.attributes?.flag.data?.attributes?.url}))}catch(e){console.error(e)}return[]}}class mt{endpoint;constructor(e){this.endpoint=e}async getCheckboxesData(){try{const{csGameModes:e}=await T(this.endpoint,Yt,{},{Authorization:"Bearer 9c9bf4554f3ecfed253aca7329b2c46511bf3c9b58d2b9a865d9998c75062aab17b1ad96c3c5d878b4aac951441353b066b95b7b20fbd4f31c5466fe8d2479b775f1a398d92e53cfa2e89141d61ee1f32b4850a2daaaebbcf75d3a510bc7e2a3e8613f71c4c84bf7e109f00e2629c12aae3a372fc954fe4de327f478d6857912"});if(e?.data)return e.data.map(t=>({id:t.id,label:t.attributes?.title,value:typeof t.attributes?.value=="number"?t.attributes?.value.toString():""}))}catch(e){console.error(e)}return[]}}class ve{container;filterBlockId=null;constructor(e,t){if(this.container=document.querySelector(`#${e}`),!this.container)throw new Error(`Container with id #${e} not found.`);this.renderFilterContainer(),t!==void 0&&(this.filterBlockId=t)}async renderCheckboxHtml(e){const t=this.addCheck(e);new fe("gameMode-filter",t,"game-mode-filter-checkboxes-container").createChecboxes()}addCheck(e){const t=$e("gameMode")?.split(","),a=[];return e.forEach((n,o)=>{a.push(n),t?.includes(n.value)&&(a[o].checked=!0)}),a}renderFilterContainer(){const e=`
   <div
     class="game-mode-filter__title-block accordion__header"
   >
     <div class="game-mode-filter__title accordion__title"
       >Режим игры</div
     >
     <svg class="accordion__arrow">
       <use
         xlink:href="${$}#arrow-down"
       ></use>
     </svg>
   </div>
   <div class="game-mode-filter__content accordion__content" id="game-mode-filter-checkboxes-container">

   </div>
     `,t=document.createElement("div");t.classList.add("find-lobby__game-mode-filter","game-mode-filter","accordion"),this.filterBlockId!==null&&(t.id=this.filterBlockId),t.innerHTML=e,this.container?.append(t)}async assembleFilter(e){const t=e.map(a=>({id:a.id,value:a.id,label:a.label}));await this.renderCheckboxHtml(t),new Q("find-lobby__game-mode-filter")}}class pt{container;constructor(e){if(this.container=document.querySelector(`#${e}`),!this.container)throw new Error(`Container with id #${e} not found.`);this.renderSelectedContainer()}async renderCheckboxHtml(e){new K("gameMode-selected",e,"game-mode-selected-btns")}renderSelectedContainer(){const e=`
   <div class="game-mode-selected__title create-lobby__title"> Режим игры </div>
   <div class="game-mode-selected__wrapper-btns" id="game-mode-selected-btns">
    
   </div>
`,t=document.createElement("div");t.classList.add("game-mode-selected","create-lobby__game-mode-selected"),t.innerHTML=e,this.container?.prepend(t)}async assembleFilter(e){const t=e.map(a=>({value:a.id,label:a.label}));await this.renderCheckboxHtml(t)}}const F={authorizationToken:"Bearer 9c9bf4554f3ecfed253aca7329b2c46511bf3c9b58d2b9a865d9998c75062aab17b1ad96c3c5d878b4aac951441353b066b95b7b20fbd4f31c5466fe8d2479b775f1a398d92e53cfa2e89141d61ee1f32b4850a2daaaebbcf75d3a510bc7e2a3e8613f71c4c84bf7e109f00e2629c12aae3a372fc954fe4de327f478d6857912",ENDPOINT:"https://battle-star-app.onrender.com/graphql"};class ar{params;constructor(e){this.params=e}async getData(){const e="https://battle-star-app.onrender.com/graphql";try{const{csLobbies:t}=await T(e,Jt,this.params,{Authorization:"Bearer 9c9bf4554f3ecfed253aca7329b2c46511bf3c9b58d2b9a865d9998c75062aab17b1ad96c3c5d878b4aac951441353b066b95b7b20fbd4f31c5466fe8d2479b775f1a398d92e53cfa2e89141d61ee1f32b4850a2daaaebbcf75d3a510bc7e2a3e8613f71c4c84bf7e109f00e2629c12aae3a372fc954fe4de327f478d6857912"});if(t?.data)return t.data.reduce((n,o)=>(n.push({id:o.id,nameMatch:o.attributes?.title,mode:o.attributes?.gameMode?.data?.attributes?.value.toString(),rate:o.attributes?.rate.toString(),flagSrc:o.attributes?.creator?.data?.attributes?.Options?.selected_country?.data?.attributes?.flag?.data?.attributes?.url,region:o.attributes?.creator?.data?.attributes?.Options?.selected_country?.data?.attributes?.name,imgSrc:o.attributes?.map?.data?.attributes?.logo?.data?.[0]?.attributes?.url,map:o.attributes?.map?.data?.attributes?.name,ping:o.attributes?.ping,participants:(o.attributes?.participant?.players?.data?.length||0).toString(),antyCheat:o.attributes?.antyCheat?.value}),n),[])}catch(t){console.error(t)}}}class rr{container;allCheckbox;allCheckboxesValues={};rateSliderHendles;timeoutUpdateContent;lobbyOpenning=new rt("open-lobby-pop-up","overlay","content-wrapper");filtersObj={country:[],rate:[],mapName:[],gameMode:[],antyCheat:[]};filters=[];filteredMatches=[];constructor(e){this.container=document.querySelector(`#${e}`),this.allCheckbox=this.container.querySelectorAll('input[type="checkbox"]'),this.rateSliderHendles=this.selectRateSliderHendles(),this.addEventHandler(),this.selectAllChaeckboxValue(),this.updateFiltersObject()}selectRateSliderHendles(){const e=document.querySelector(".rate-filter__lower-slider-output"),t=document.querySelector(".rate-filter__upper-slider-output");return[e,t]}addEventHandler(){this.allCheckbox?.forEach(e=>{e.addEventListener("change",t=>{this.changeFilters(t.target),this.addLocationParam()})}),this.rateSliderHendles.forEach(e=>{e.addEventListener("changeRateSlider",()=>{this.changeFilters("rateSlider"),this.addLocationParam()})})}addLocationParam(){for(const e in this.filtersObj)if(Object.prototype.hasOwnProperty.call(this.filtersObj,e)){const t=this.filtersObj[e];t!==null?W(e,t?.join(",")):oe(e)}}runDelay(){window.clearTimeout(this.timeoutUpdateContent),this.timeoutUpdateContent=window.setTimeout(()=>this.updateContent(),1500)}updateFiltersObject(){for(const[e,t]of ce().entries()){const a=t.split(",");e==="rate"&&a[0]==="between"?this.filtersObj.rate=["between",a[1],a[2]]:this.allCheckbox!==null&&this.allCheckbox.forEach(n=>{const o=n.name.replace("-filter","");o===e&&a.includes(n.value)&&(n.checked=!0,o!=="rate"?this.filtersObj.rate?.push(n.value):this.filtersObj.rate?.length!==0?this.filtersObj.rate?.push(n.value):this.filtersObj.rate=["in",n.value])})}this.updateContent()}changeFilters(e){if(typeof e=="string")this.filtersObj.rate=["between",this.rateSliderHendles[0].innerHTML.slice(2),this.rateSliderHendles[1].innerHTML.slice(2)];else{const t=e.name.replace("-filter","");if(e.checked)t!=="rate"?this.filtersObj[t]?.push(e.value):this.filtersObj[t]?.length!==0&&this.filtersObj[t]?.[0]=="in"?this.filtersObj[t]?.push(e.value):this.filtersObj.rate=["in",e.value];else{const a=this.filtersObj[t]?.indexOf(e.value);a!==void 0&&(t==="rate"&&this.filtersObj[t]?.length===2?this.filtersObj[t].splice(0):this.filtersObj[t].splice(a,1))}}this.runDelay()}async updateContent(){const e=this.changeFiltersObj(),a=await new ar(e).getData();a&&(new da("calibration-table",a,this.lobbyOpenning),new ua("calibration-grid",a,this.lobbyOpenning))}changeFiltersObj(){const e={country:this.filtersObj.country?.length===0?this.allCheckboxesValues.country:this.filtersObj.country,rate:{},map:this.filtersObj.mapName?.length===0?this.allCheckboxesValues.mapName:this.filtersObj.mapName,gameMode:[],antyCheat:this.filtersObj.antyCheat?.length!==0};return this.filtersObj.rate?.length===0?e.rate.between=[+this.rateSliderHendles[0].innerHTML.slice(1),+this.rateSliderHendles[1].innerHTML.slice(1)]:Array.isArray(this.filtersObj.rate)&&this.filtersObj.rate[0]=="in"&&(e.rate.in=this.filtersObj.rate?.reduce((t,a,n)=>(n!==0&&t.push(+a),t),[])),Array.isArray(this.filtersObj.rate)&&this.filtersObj.rate[0]=="between"&&(e.rate.between=[+this.filtersObj.rate[1],+this.filtersObj.rate[2]]),this.filtersObj.gameMode?.length===0?e.gameMode=this.allCheckboxesValues.gameMode.map(t=>Number(t)):this.filtersObj.gameMode&&(e.gameMode=this.filtersObj.gameMode?.map(t=>Number(t))),e}selectAllChaeckboxValue(){this.allCheckbox?.forEach(e=>{const t=e.name.replace("-filter","");this.allCheckboxesValues[t]&&!this.allCheckboxesValues[t].includes(e.value)?this.allCheckboxesValues[t].push(e.value):this.allCheckboxesValues[t]||(this.allCheckboxesValues[t]=[e.value])})}}class sr{validation;form;creatorData;params={title:null,creator:null,map:null,rate:null,gameMode:null,participant:[],ping:23,antyCheat:!0,publishedAt:new Date(Date.now())};constructor(e,t){if(this.form=document.querySelector(`#${e}`),this.validation=new it("#create-content",{validateBeforeSubmitting:!0}),!this.form)throw new Error(`Container with id #${e} not found.`);this.creatorData=t,this.initValidation()}sendRequest(){this.getMapData(),this.getRateData(),this.getGameModeData(),this.getTiteData(),this.getAntyCheatData(),this.getPingData(),this.getCreatorData(),this.getParticipanstData(),this.validation.isValid&&this.createRequest()}async createRequest(){const e="https://battle-star-app.onrender.com/graphql";try{const t=await T(e,Zt,this.params,{Authorization:"Bearer 9c9bf4554f3ecfed253aca7329b2c46511bf3c9b58d2b9a865d9998c75062aab17b1ad96c3c5d878b4aac951441353b066b95b7b20fbd4f31c5466fe8d2479b775f1a398d92e53cfa2e89141d61ee1f32b4850a2daaaebbcf75d3a510bc7e2a3e8613f71c4c84bf7e109f00e2629c12aae3a372fc954fe4de327f478d6857912"});t&&window.location.assign(`lobby.html?game=dota2&id=${t.createCsLobby?.data?.id}`)}catch(t){console.error(t)}}getMapData(){this.form?.querySelectorAll("input[name='map-selected']")?.forEach(t=>{const a=t;a.checked&&(this.params.map=a.value)})}getRateData(){const e=this.form?.querySelectorAll("input[name='rate-selected']"),t=this.form?.querySelector("input[name='rate-input']");let a=null;e?.forEach(n=>{const o=n;o.checked&&(a=+o.value)}),a===null&&t!==void 0&&(a=Number.parseInt(t.value,10)),this.params.rate=a}getGameModeData(){this.form?.querySelectorAll("input[name='gameMode-selected']")?.forEach(t=>{const a=t;a.checked&&(this.params.gameMode=a.value)})}getTiteData(){const e=this.form?.querySelector("input[name='name-lobby']");e!==void 0&&(this.params.title=e.value.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;"))}getAntyCheatData(){const e=this.form?.querySelector("input[name='create-anti-cheat']");this.params.antyCheat=e.checked}getPingData(){this.params.ping=Math.floor(Math.random()*300)}getCreatorData(){this.params.creator=this.creatorData.playerId}getParticipanstData(){this.params.participant&&this.params.participant?.push(this.creatorData.playerId)}initValidation(){this.validation.addField(".create-lobby__name-input",[{rule:"required",errorMessage:"Введіть назву лоббі"}]).addField("#rate-input",[{rule:"number"},{rule:"minNumber",value:100,errorMessage:"Введіть ставку від 100 до 999900"},{rule:"maxNumber",value:999900,errorMessage:"Введіть ставку від 100 до 999900"}]).onSuccess(()=>{this.sendRequest()})}}class gt{savedAllPlayers=[];selectedPlayers=[];constructor(e){this.selectedPlayers.push(e)}async getAllPlayers(e={}){try{const{players:t}=await T(F.ENDPOINT,ea,e,{Authorization:"Bearer 9c9bf4554f3ecfed253aca7329b2c46511bf3c9b58d2b9a865d9998c75062aab17b1ad96c3c5d878b4aac951441353b066b95b7b20fbd4f31c5466fe8d2479b775f1a398d92e53cfa2e89141d61ee1f32b4850a2daaaebbcf75d3a510bc7e2a3e8613f71c4c84bf7e109f00e2629c12aae3a372fc954fe4de327f478d6857912"});if(t?.data)return t.data.map(n=>({userId:n.attributes?.user?.data?.id,avatarUrl:n.attributes?.user?.data?.attributes?.avatar?.data?.attributes?.url||ha,avatarAltText:n.attributes?.user?.data?.attributes?.avatar?.data?.attributes?.alternativeText||"Default avater",username:n.attributes?.user?.data?.attributes?.username||"",csGoRank:n.attributes?.CSGO?.Default_information?.rank===null?0:n.attributes?.CSGO?.Default_information?.rank||0,dota2Rank:n.attributes?.DOTA2?.Default_information?.rank===null?0:n.attributes?.DOTA2?.Default_information?.rank||0}))}catch(t){console.error(t)}return[]}async createPlayersList(e){return this.savedAllPlayers=await this.getAllPlayers(e),this.savedAllPlayers.reduce((a,n)=>(this.selectedPlayers.find(f=>f.userId===n.userId)===void 0&&(a+=`<li class="users-list-block__user-item" data-player-id="${n.userId}">
            <div class="users-list-block__user-name">
            ${n.username}
            </div>
          </li>`),a),"")}async render(){const e=await this.createPlayersList(),t=` 
      <svg>
        <use
          xlink:href="${$}#plus-in-dashcircle"
        ></use>
      </svg>
      <div class="patty__users-list-block users-list-block">
        <input
          type="text"
          class="users-list-block__search-input"
          placeholder="Поиск"
        />
        <div class="users-list-block__icon-search">
          <svg>
            <use
              xlink:href="${$}#search"
            ></use>
          </svg>
        </div>
        <ul class="users-list-block__users-list">
            ${e}
         </ul>
      </div>
    `,a=document.createElement("div");return a.classList.add("patty__add-user"),a.innerHTML=t,this.addLietnerToSearchInput(a),a}async searchPlayers(e,t){const a=t.querySelector(".users-list-block__users-list"),o={username:e.value},f=await this.createPlayersList(o);a.innerHTML=f}addLietnerToSearchInput(e){e.querySelector(".users-list-block__search-input").addEventListener("input",async a=>{await this.searchPlayers(a.target,e)})}addSelectedPlayer(e,t){const a=document.querySelector(".users-list-block__users-list");a?.addEventListener("click",n=>{const o=this.getIdOfSelectedPlayer(n.target,a);if(o!==null){const f=this.savedAllPlayers.find(p=>p.userId===o);f!==void 0&&(this.selectedPlayers.push(f),e(f),t(this.selectedPlayers))}})}getIdOfSelectedPlayer(e,t){const a=e.closest(".users-list-block__user-item");if(a!==null&&t.contains(a)){const n=a.dataset.playerId;if(n!==void 0)return this.removeListItemOfSelectedPlayer(a),n}return null}removeListItemOfSelectedPlayer(e){e.style.display="none"}getSelectedPlayers(){return this.selectedPlayers}}class vt{container;curentPlayer;addUserBlock;playersBlock=null;constructor(e,t,a){if(this.container=document.querySelector(`#${e}`),!this.container)throw new Error(`Container with id #${e} not found.`);this.curentPlayer=t,this.addUserBlock=a,this.render()}createTitleBlock(){const e=`<div class="patty__title">Пати</div>
      <div class="patty__help-block">
        <div class="patty__help-block-icon">?</div>
        <div class="patty__help-block-text">
          Дуже корисна підказка!
        </div>
      </div>`,t=document.createElement("div");return t.classList.add("patty__title-block"),t.innerHTML=e,t}createRatingBlock(){const e=`
      <div
        class="patty__empty-block patty__empty-block_left"
      ></div>
      <div class="patty__rating">Ранг: ${this.curentPlayer.csGoRank??0}</div>
      <div class="patty__empty-block patty__empty-block_right">
      </div>`,t=document.createElement("div");return t.classList.add("patty__rating-block"),t.innerHTML=e,t}changeTotalRank(e){const t=document.querySelector(".patty__rating"),a=e.reduce((n,o)=>(n+=o.csGoRank!==null?o.csGoRank:0,n),0);t.innerHTML=a.toString()}createPlayersBlock(){const e=document.createElement("div");return e.classList.add("patty__users"),e.id="patty-users",e.appendChild(this.addUserBlock),this.playersBlock=e,e}addPlayer(e){const t=`
      <div class="user-block__avatar-img-block">
        <img
          src="${e.avatarUrl}"
          alt="${e.avatarAltText}"
          width="48"
          height ="48"
          class="user-block__avatar-img"
        />
        <div class="user-block__avatar-online"></div>
      </div>
      <div class="user-block__info">${e.username}</div>`,a=document.createElement("div");a.classList.add("patty__user-block","user-block"),a.innerHTML=t,this.playersBlock?.insertBefore(a,this.addUserBlock)}render(){const e=document.createElement("div");e.classList.add("find-lobby__patty","patty"),e.appendChild(this.createTitleBlock()),e.appendChild(this.createPlayersBlock()),this.addPlayer(this.curentPlayer),e.appendChild(this.createRatingBlock()),this.container?.appendChild(e)}}class ye{container;filtersBlockId;constructor(e,t="filters-find-lobby"){if(this.container=document.querySelector(`#${e}`),!this.container)throw new Error(`Container with id #${e} not found.`);this.filtersBlockId=t,this.render()}render(){const e=`<div class="find-lobby__filters-title-block">
      <svg>
        <use xlink:href="${$}#filters"></use>
      </svg>
      <h2 class="find-lobby__filters-title">Фильтры</h2>
    </div>`,t=document.createElement("div");t.classList.add("find-lobby__filters-block"),t.id=this.filtersBlockId,t.innerHTML=e,this.container?.appendChild(t)}}class yt{container;constructor(e){this.container=document.querySelector(`#${e}`),this.render()}render(){const e=`
      <div class="filters__tabs tabs-block__tabs">
        <!---->
        <div class="filters__tab tabs-block__tab" data-tab-name="find"
          >НАЙТИ ИГРУ</div
        >
        <div class="filters__tab tabs-block__tab" data-tab-name="create">
          СОЗДАТЬ ЛОББИ
        </div>
        <div class="tabs-block__lamp"><span></span></div>
      </div>
      <div class="filters__content tabs-block__content">
        <div
          class="filters__find-lobby find-lobby tabs-block__content-container tabs-block__content-container_active"
          id="find-content"
        ></div>
        <form
            class="filters__create-lobby create-lobby tabs-block__content-container"
            id="create-content"
            >
            <div class="anti-cheat create-lobby__anti-cheat">
            <div class="custom-checkbox">
               <input
                  type="checkbox"
                  name="create-anti-cheat"
                  id="create-anti-cheat"
                  class="custom-checkbox__input"
               />
               <label for="create-anti-cheat" class="custom-checkbox__label">
                  <svg>
                     <use xlink:href="${$}#check-mark"></use>
                  </svg>
               </label>
               <label for="create-anti-cheat" class="custom-checkbox__label-text">
                  Античит
               </label>
               </div>
            </div>
            <button class="create-lobby__create-btn btn btn_yellow">
               <svg>
                  <use xlink:href="${$}#people"></use>
               </svg>
               <div>Создать</div>
            </button>
         </form>
      </div>`;this.container!==null&&(this.container.innerHTML=e)}}class ir{constructor(){this.renderCsPage()}updateUrlParams(){ee(["country","rate","mapName","gameMode","antyCheat"]),W("match-page__content","open-match")}async renderCsPage(){this.updateUrlParams(),new yt("filters"),new I("match-page__filters"),new de("match-page__filters"),ue.getInstance("sorting-block-container","sorting-block",!0),new I("sorting-block");const e=[{value:"100",label:"100"},{value:"200",label:"200"},{value:"500",label:"500"},{value:"1000",label:"1000"},{value:"2000",label:"2000"},{value:"10000",label:"10000"}];try{const a=await new st().transformCreatorData(),n=new gt(a),o=new ht(F.ENDPOINT),f=new mt(F.ENDPOINT),p=new ge(F.ENDPOINT),b=await o.getCheckboxesData(),x=await f.getCheckboxesData(),P=await p.getCheckboxesData(),w=await n.render(),g=new vt("find-content",a,w);n.addSelectedPlayer(g.addPlayer.bind(g),g.changeTotalRank.bind(g)),new ye("find-content"),new be("filters-find-lobby",e),new Q("find-lobby__rate-filter"),new K("rate-selected",e,"rate-selected-wrapper","BS");const V=new bt("filters-find-lobby"),_=new tr("create-content"),D=new ve("filters-find-lobby"),Y=new pt("create-content"),q=new me("filters-find-lobby");new pe("filters-find-lobby"),V.assembleFilter(b),D.assembleFilter(x),q.assembleFilter(P),Y.assembleFilter(x),_.assembleFilter(b),new nt("create-content",e),new lt("create-content"),new rr("filters-find-lobby"),new sr("create-content",a)}catch{}}}class nr{params;constructor(e){this.params=e}async getData(){const e="https://battle-star-app.onrender.com/graphql";try{const{cs2Brodcastings:t}=await T(e,ta,this.params,{Authorization:"Bearer 9c9bf4554f3ecfed253aca7329b2c46511bf3c9b58d2b9a865d9998c75062aab17b1ad96c3c5d878b4aac951441353b066b95b7b20fbd4f31c5466fe8d2479b775f1a398d92e53cfa2e89141d61ee1f32b4850a2daaaebbcf75d3a510bc7e2a3e8613f71c4c84bf7e109f00e2629c12aae3a372fc954fe4de327f478d6857912"});if(t?.data)return t.data.reduce((n,o)=>(n.push({id:o.id,nameMatch:o.attributes?.title,mode:o.attributes?.cs_game_mode?.data?.attributes?.value.toString(),rate:o.attributes?.rate.toString(),flagSrc:o.attributes?.creator?.data?.attributes?.Options?.selected_country?.data?.attributes?.flag?.data?.attributes?.url,region:o.attributes?.creator?.data?.attributes?.Options?.selected_country?.data?.attributes?.name,imgSrc:o.attributes?.map?.data?.attributes?.logo?.data?.[0]?.attributes?.url,map:o.attributes?.map?.data?.attributes?.name,viewers:o.attributes?.viewers,videoUrl:o.attributes?.videoUrl}),n),[])}catch(t){console.error(t)}}}class lr{container;options;constructor(e,t){this.container=document.querySelector(`#${e}`),this.options=t,this.render(),this.addEventHendler()}render(){const e=this.options.reduce((t,a)=>(t+=`<tr class="streaming-tr content__tr" id="${a.id}">
        <td class="streaming-tr__img-cell">
          <div class="streaming-tr__img-block">
            <img
              src="${a.imgSrc}"
              alt=""
              class="streaming-tr__img"
            />
          </div>
        </td>
        <td class="streaming-tr__name-cell">
          <div class="streaming-tr__name-block">
            <img
              src="${a.flagSrc}"
              alt="flag of ${a.region}"
              class="streaming-tr__flag"
            />
            <div class="streaming-tr__name"> ${a.nameMatch} </div>
          </div>
        </td>
        <td class="streaming-tr__map">
          <div class="streaming-tr__data-title"> Карта </div>
          <div class="streaming-tr__rate-value">  ${a.map} </div>
        </td>
        <td class="streaming-tr__rate-block">
          <div class="streaming-tr__data-title"> Ставка </div>
          <div class="streaming-tr__rate-value"> ${a.rate} $ </div>
        </td>
        <td class="streaming-tr__mode">
          <div class="streaming-tr__data-title"> Режим </div>
          <div class="streaming-tr__rate-value"> ${a.mode}x${a.mode} </div>
        </td>
        <td class="streaming-tr__online-field-block">
          <div class="streaming-tr__online-field"> Онлайн </div>
        </td>
        <td class="streaming-tr__viewers-cell">
          <div class="streaming-tr__viewers-block">
            <div class="streaming-tr__viewers-icon">
              <svg>
                <use xlink:href="${$}#view"></use>
              </svg>
            </div>
            <div class="streaming-tr__viewers">${a.viewers} </div>
          </div>
        </td>
      </tr>`,t),"");this.container.innerHTML=e}addEventHendler(){this.container.addEventListener("click",e=>{const a=e.target.closest(".streaming-tr");a&&(window.location.href=`/stream.html?game=cs2&id=${a.id}`)})}}class or{container;options;constructor(e,t){this.container=document.querySelector(`#${e}`),this.options=t,this.render(),this.addEventHendler()}render(){const e=this.options.reduce((t,a)=>(t+=`
        <div class="{='class'} striming-card" id="${a.id}">
         <div class="striming-card__img-block">
            <div class="striming-card__wrapper-img">
               <img
               src="${a.imgSrc}"
               alt=""
               class="striming-card__img"
               />
            </div>
         </div>
         <div class="striming-card__content">
            <div class="striming-card__title-block">
               <div class="striming-card__name-block">
               <img
                  src="${a.flagSrc}"
                  alt="flag of ${a.region}"
                  class="striming-card__flag"
               />
               <h3 class="striming-card__name">  ${a.nameMatch}  </h3>
               </div>
               <div class="striming-card__map">  ${a.map}  </div>
               <div class="striming-card__online-field"> Онлайн </div>
            </div>
            <div class="striming-card__other-data">
               <div class="striming-card__data-block">
               <div class="striming-card__rate-block">
                  <div class="striming-card__data-title"> Ставка </div>
                  <div class="striming-card__rate-value">  ${a.rate} $ </div>
               </div>
               <div class="striming-card__mode">
                  <div class="striming-card__data-title"> Режим </div>
                  <div class="striming-card__rate-value">  ${a.mode}x${a.mode}  </div>
               </div>
               </div>
               <div class="striming-card__viewers-block">
               <div class="striming-card__viewers-icon">
                  <svg>
                     <use xlink:href="${$}#view"></use>
                  </svg>
               </div>
               <div class="striming-card__viewers">${a.viewers} </div>
               </div>
            </div>
         </div>
         </div>`,t),"");this.container.innerHTML=e}addEventHendler(){this.container.addEventListener("click",e=>{const a=e.target.closest(".striming-card");a&&(window.location.href=`/stream.html?game=cs2&id=${a.id}`)})}}class cr{container;allCheckbox;allCheckboxesValues={};rateSliderHendles;timeoutUpdateContent;filtersObj={country:[],rate:[],mapName:[],gameMode:[]};constructor(e){this.container=document.querySelector(`#${e}`),this.allCheckbox=this.container.querySelectorAll('input[type="checkbox"]'),this.rateSliderHendles=this.selectRateSliderHendles(),this.addEventHandler(),this.selectAllChaeckboxValue(),this.updateFiltersObject()}selectRateSliderHendles(){const e=document.querySelector(".rate-filter__lower-slider-output"),t=document.querySelector(".rate-filter__upper-slider-output");return[e,t]}addEventHandler(){this.allCheckbox?.forEach(e=>{e.addEventListener("change",t=>{this.changeFilters(t.target),this.addLocationParam()})}),this.rateSliderHendles.forEach(e=>{e.addEventListener("changeRateSlider",()=>{this.changeFilters("rateSlider"),this.addLocationParam()})})}addLocationParam(){for(const e in this.filtersObj)if(Object.prototype.hasOwnProperty.call(this.filtersObj,e)){const t=this.filtersObj[e];t!==null?W(e,t?.join(",")):oe(e)}}runDelay(){window.clearTimeout(this.timeoutUpdateContent),this.timeoutUpdateContent=window.setTimeout(()=>this.updateContent(),1500)}async updateContent(){const e=this.changeFiltersObj(),a=await new nr(e).getData();a&&(new or("streaming-grid",a),new lr("streaming-table",a))}changeFilters(e){if(typeof e=="string")this.filtersObj.rate=["between",this.rateSliderHendles[0].innerHTML.slice(2),this.rateSliderHendles[1].innerHTML.slice(2)];else{const t=e.name.replace("-filter","");if(e.checked)t!=="rate"?this.filtersObj[t]?.push(e.value):this.filtersObj[t]?.length!==0&&this.filtersObj[t]?.[0]=="in"?this.filtersObj[t]?.push(e.value):this.filtersObj.rate=["in",e.value];else{const a=this.filtersObj[t]?.indexOf(e.value);a!==void 0&&(t==="rate"&&this.filtersObj[t]?.length===2?this.filtersObj[t].splice(0):this.filtersObj[t].splice(a,1))}}this.runDelay()}changeFiltersObj(){const e={country:this.filtersObj.country?.length===0?this.allCheckboxesValues.country:this.filtersObj.country,rate:{},map:this.filtersObj.mapName?.length===0?this.allCheckboxesValues.mapName:this.filtersObj.mapName,gameMode:[]};return this.filtersObj.rate?.length===0?e.rate.between=[+this.rateSliderHendles[0].innerHTML.slice(1),+this.rateSliderHendles[1].innerHTML.slice(1)]:Array.isArray(this.filtersObj.rate)&&this.filtersObj.rate[0]=="in"&&(e.rate.in=this.filtersObj.rate?.reduce((t,a,n)=>(n!==0&&t.push(+a),t),[])),Array.isArray(this.filtersObj.rate)&&this.filtersObj.rate[0]=="between"&&(e.rate.between=[+this.filtersObj.rate[1],+this.filtersObj.rate[2]]),this.filtersObj.gameMode?.length===0?e.gameMode=this.allCheckboxesValues.gameMode.map(t=>Number(t)):this.filtersObj.gameMode&&(e.gameMode=this.filtersObj.gameMode?.map(t=>Number(t))),e}selectAllChaeckboxValue(){this.allCheckbox?.forEach(e=>{const t=e.name.replace("-filter","");this.allCheckboxesValues[t]&&!this.allCheckboxesValues[t].includes(e.value)?this.allCheckboxesValues[t].push(e.value):this.allCheckboxesValues[t]||(this.allCheckboxesValues[t]=[e.value])})}updateFiltersObject(){for(const[e,t]of ce().entries()){const a=t.split(",");e==="rate"&&a[0]==="between"?this.filtersObj.rate=["between",a[1],a[2]]:this.allCheckbox!==null&&this.allCheckbox.forEach(n=>{const o=n.name.replace("-filter","");o===e&&a.includes(n.value)&&(n.checked=!0,o!=="rate"?this.filtersObj.rate?.push(n.value):this.filtersObj.rate?.length!==0?this.filtersObj.rate?.push(n.value):this.filtersObj.rate=["in",n.value])})}this.updateContent()}}class dr{constructor(){this.renderTranslateCsPage()}updateUrlParams(){ee(["country","rate","mapName","gameMode","antyCheat"])}async renderTranslateCsPage(){this.updateUrlParams(),ue.getInstance("translation-content","sorting-block-cs-strim",!0,"streaming"),new I("sorting-block-cs-strim");const e=document.querySelector("#filters");e!==null&&(e.innerHTML=""),new ye("filters","filters-find-streaming");const t=[{value:"100",label:"100"},{value:"200",label:"200"},{value:"500",label:"500"},{value:"1000",label:"1000"},{value:"2000",label:"2000"},{value:"10000",label:"10000"}];try{const a=new ht(F.ENDPOINT),n=new mt(F.ENDPOINT),o=new ge(F.ENDPOINT),f=await a.getCheckboxesData(),p=await n.getCheckboxesData(),b=await o.getCheckboxesData();new be("filters-find-streaming",t),new Q("find-lobby__rate-filter");const x=new bt("filters-find-streaming"),P=new ve("filters-find-streaming"),w=new me("filters-find-streaming");new pe("filters-find-streaming"),x.assembleFilter(f),P.assembleFilter(p),w.assembleFilter(b),new cr("filters-find-streaming")}catch(a){console.error(a)}}}const ur="/assets/cs-bg-ddc48684.png",fr="/assets/dota-bg-892fcfbe.png";class _t{game;bgImg;bgOverlay;constructor(e){this.game=e,this.bgImg=document.querySelector("#match-bg-img"),this.bgOverlay=document.querySelector("#match-bg-img-overlay"),this.changeBg()}changeBg(){this.game==="dota2"?(this.bgImg!==null&&(this.bgImg.src=fr),this.bgOverlay!==null&&(this.bgOverlay.style.display="block")):(this.bgImg!==null&&(this.bgImg.src=ur),this.bgOverlay!==null&&(this.bgOverlay.style.display="none"))}}class hr{mayMethods={"open-match":async()=>{new ir},translation:()=>{new dr}};constructor(){new I("match-page__content",this.mayMethods),new de("match-page__content"),new _t("Cs")}}class wt{endpoint;constructor(e){this.endpoint=e}async getCheckboxesData(){try{const{dota2GameModes:e}=await T(this.endpoint,aa,{},{Authorization:"Bearer 9c9bf4554f3ecfed253aca7329b2c46511bf3c9b58d2b9a865d9998c75062aab17b1ad96c3c5d878b4aac951441353b066b95b7b20fbd4f31c5466fe8d2479b775f1a398d92e53cfa2e89141d61ee1f32b4850a2daaaebbcf75d3a510bc7e2a3e8613f71c4c84bf7e109f00e2629c12aae3a372fc954fe4de327f478d6857912"});if(e?.data)return e.data.map(t=>({id:t.id,label:t.attributes?.title,value:t.attributes?.value.replace("_"," ")}))}catch(e){console.error(e)}return[]}}class br{params;constructor(e){this.params=e}async getData(){const e="https://battle-star-app.onrender.com/graphql";try{const{dota2Lobbies:t}=await T(e,ra,this.params,{Authorization:"Bearer 9c9bf4554f3ecfed253aca7329b2c46511bf3c9b58d2b9a865d9998c75062aab17b1ad96c3c5d878b4aac951441353b066b95b7b20fbd4f31c5466fe8d2479b775f1a398d92e53cfa2e89141d61ee1f32b4850a2daaaebbcf75d3a510bc7e2a3e8613f71c4c84bf7e109f00e2629c12aae3a372fc954fe4de327f478d6857912"});if(t?.data)return t.data.reduce((n,o)=>(n.push({id:o.id,nameMatch:o.attributes?.title,mode:o.attributes?.dota_2_game_modes?.data[0].attributes?.value.toString().replace("_"," "),rate:o.attributes?.rate.toString(),flagSrc:o.attributes?.creator?.data?.attributes?.Options?.selected_country?.data?.attributes?.flag?.data?.attributes?.url,region:o.attributes?.creator?.data?.attributes?.Options?.selected_country?.data?.attributes?.name,ping:o.attributes?.ping,type:o.attributes?.typeLobby?.data?.attributes?.value.toString(),participants:(o.attributes?.participant?.players?.data?.length||0).toString(),antyCheat:o.attributes?.antyCheat?.value}),n),[])}catch(t){console.error(t)}}}class mr{container;allCheckbox;allCheckboxesValues={};rateSliderHendles;timeoutUpdateContent;lobbyOpenning=new rt("open-lobby-pop-up","overlay","content-wrapper");filtersObj={country:[],rate:[],gameMode:[],antyCheat:[]};filters=[];filteredMatches=[];constructor(e){this.container=document.querySelector(`#${e}`),this.allCheckbox=this.container.querySelectorAll('input[type="checkbox"]'),this.rateSliderHendles=this.selectRateSliderHendles(),this.addEventHandler(),this.selectAllChaeckboxValue(),this.updateFiltersObject()}selectRateSliderHendles(){const e=document.querySelector(".rate-filter__lower-slider-output"),t=document.querySelector(".rate-filter__upper-slider-output");return[e,t]}addEventHandler(){this.allCheckbox?.forEach(e=>{e.addEventListener("change",t=>{this.changeFilters(t.target),this.addLocationParam()})}),this.rateSliderHendles.forEach(e=>{e.addEventListener("changeRateSlider",()=>{this.changeFilters("rateSlider"),this.addLocationParam()})})}addLocationParam(){for(const e in this.filtersObj)if(Object.prototype.hasOwnProperty.call(this.filtersObj,e)){const t=this.filtersObj[e];t!==null?W(e,t?.join(",")):oe(e)}}runDelay(){window.clearTimeout(this.timeoutUpdateContent),this.timeoutUpdateContent=window.setTimeout(()=>this.updateContent(),1500)}updateFiltersObject(){for(const[e,t]of ce().entries()){const a=t.split(",");e==="rate"&&a[0]==="between"?this.filtersObj.rate=["between",a[1],a[2]]:this.allCheckbox!==null&&this.allCheckbox.forEach(n=>{const o=n.name.replace("-filter","");o===e&&a.includes(n.value)&&(n.checked=!0,o!=="rate"?this.filtersObj.rate?.push(n.value):this.filtersObj.rate?.length!==0?this.filtersObj.rate?.push(n.value):this.filtersObj.rate=["in",n.value])})}this.updateContent()}changeFilters(e){if(typeof e=="string")this.filtersObj.rate=["between",this.rateSliderHendles[0].innerHTML.slice(2),this.rateSliderHendles[1].innerHTML.slice(2)];else{const t=e.name.replace("-filter","");if(e.checked)t!=="rate"?this.filtersObj[t]?.push(e.value):this.filtersObj[t]?.length!==0&&this.filtersObj[t]?.[0]=="in"?this.filtersObj[t]?.push(e.value):this.filtersObj.rate=["in",e.value];else{const a=this.filtersObj[t]?.indexOf(e.value);a!==void 0&&(t==="rate"&&this.filtersObj[t]?.length===2?this.filtersObj[t].splice(0):this.filtersObj[t].splice(a,1))}}this.runDelay()}async updateContent(){const e=this.changeFiltersObj(),a=await new br(e).getData();a&&new fa("calibration-table",a,this.lobbyOpenning)}changeFiltersObj(){const e={country:this.filtersObj.country?.length===0?this.allCheckboxesValues.country:this.filtersObj.country,rate:{},gameMode:this.filtersObj.gameMode?.length===0?this.allCheckboxesValues.gameMode:this.filtersObj.gameMode,antyCheat:this.filtersObj.antyCheat?.length!==0};return this.filtersObj.rate?.length===0?e.rate.between=[+this.rateSliderHendles[0].innerHTML.slice(1),+this.rateSliderHendles[1].innerHTML.slice(1)]:Array.isArray(this.filtersObj.rate)&&this.filtersObj.rate[0]=="in"&&(e.rate.in=this.filtersObj.rate?.reduce((t,a,n)=>(n!==0&&t.push(+a),t),[])),Array.isArray(this.filtersObj.rate)&&this.filtersObj.rate[0]=="between"&&(e.rate.between=[+this.filtersObj.rate[1],+this.filtersObj.rate[2]]),e}selectAllChaeckboxValue(){this.allCheckbox?.forEach(e=>{const t=e.name.replace("-filter","");this.allCheckboxesValues[t]&&!this.allCheckboxesValues[t].includes(e.value)?this.allCheckboxesValues[t].push(e.value):this.allCheckboxesValues[t]||(this.allCheckboxesValues[t]=[e.value])})}}class pr{validation;form;creatorData;params={title:null,creator:null,typeLobby:null,rate:null,gameMode:[null],participant:[],ping:23,antyCheat:!0};constructor(e,t){if(this.form=document.querySelector(`#${e}`),this.validation=new it("#create-content",{validateBeforeSubmitting:!0}),!this.form)throw new Error(`Container with id #${e} not found.`);this.creatorData=t,this.initValidation()}sendRequest(){this.getRateData(),this.getGameModeData(),this.getTypeLobbyData(),this.getTiteData(),this.getAntyCheatData(),this.getPingData(),this.getCreatorData(),this.getParticipanstData(),this.validation.isValid&&this.createRequest()}async createRequest(){const e="https://battle-star-app.onrender.com/graphql";try{const t=await T(e,sa,this.params,{Authorization:"Bearer 9c9bf4554f3ecfed253aca7329b2c46511bf3c9b58d2b9a865d9998c75062aab17b1ad96c3c5d878b4aac951441353b066b95b7b20fbd4f31c5466fe8d2479b775f1a398d92e53cfa2e89141d61ee1f32b4850a2daaaebbcf75d3a510bc7e2a3e8613f71c4c84bf7e109f00e2629c12aae3a372fc954fe4de327f478d6857912"});t&&window.location.assign(`lobby.html?game=dota2&id=${t.createDota2Lobby?.data?.id}`)}catch(t){console.error(t)}}getRateData(){const e=this.form?.querySelectorAll("input[name='rate-selected']"),t=this.form?.querySelector("input[name='rate-input']");let a=null;e?.forEach(n=>{const o=n;o.checked&&(a=+o.value)}),a===null&&t!==void 0&&(a=Number.parseInt(t.value,10)),this.params.rate=a}getGameModeData(){this.form?.querySelectorAll("input[name='gameMode-selected']")?.forEach(t=>{const a=t;a.checked&&(this.params.gameMode=[a.value.replace(/\s/g,"_")])})}getTypeLobbyData(){this.form?.querySelectorAll("input[name='typeLobby-selected']")?.forEach(t=>{const a=t;a.checked&&(this.params.typeLobby=a.value)})}getTiteData(){const e=this.form?.querySelector("input[name='name-lobby']");e!==void 0&&(this.params.title=e.value.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;"))}getAntyCheatData(){const e=this.form?.querySelector("input[name='create-anti-cheat']");this.params.antyCheat=e.checked}getPingData(){this.params.ping=Math.floor(Math.random()*300)}getCreatorData(){this.params.creator=this.creatorData.playerId}getParticipanstData(){this.params.participant&&this.params.participant?.push(this.creatorData.playerId)}initValidation(){this.validation.addField(".create-lobby__name-input",[{rule:"required",errorMessage:"Введіть назву лоббі"}]).addField("#rate-input",[{rule:"number"},{rule:"minNumber",value:100,errorMessage:"Введіть ставку від 100 до 999900"},{rule:"maxNumber",value:999900,errorMessage:"Введіть ставку від 100 до 999900"}]).onSuccess(()=>{console.log(this.validation.isValid),this.sendRequest()})}}class gr{endpoint;constructor(e){this.endpoint=e}async getCheckboxesData(){try{const{dotaTypeLobbies:e}=await T(this.endpoint,ia,{},{Authorization:"Bearer 9c9bf4554f3ecfed253aca7329b2c46511bf3c9b58d2b9a865d9998c75062aab17b1ad96c3c5d878b4aac951441353b066b95b7b20fbd4f31c5466fe8d2479b775f1a398d92e53cfa2e89141d61ee1f32b4850a2daaaebbcf75d3a510bc7e2a3e8613f71c4c84bf7e109f00e2629c12aae3a372fc954fe4de327f478d6857912"});if(e?.data)return e.data.map(t=>({id:t.id,label:t.attributes?.title,value:t.attributes?.value}))}catch(e){console.error(e)}return[]}}class vr{container;nextElem;constructor(e,t){if(this.container=document.querySelector(`#${e}`),!this.container)throw new Error(`Container with id #${e} not found.`);if(this.nextElem=document.querySelector(`#${t}`),!this.nextElem)throw new Error(`Container with id #${t} not found.`);this.renderSelectedContainer()}renderCheckboxHtml(e){new K("typeLobby-selected",e,"type-lobby-selected-btns")}renderSelectedContainer(){const e=`      
      <div class="type-lobby-selected__wrapper-btns" id="type-lobby-selected-btns">
      
      </div>
   `,t=document.createElement("div");t.classList.add("type-lobby-selected","create-lobby__type-lobby-selected"),t.innerHTML=e,this.container?.insertBefore(t,this.nextElem)}assembleFilter(e){const t=e.map(a=>({value:a.id,label:a.label}));this.renderCheckboxHtml(t)}}class yr{constructor(){this.renderDotaPage()}updateUrlParams(){ee(["country","rate","mapName","gameMode","antyCheat"]),W("match-page__content","open-match")}async renderDotaPage(){this.updateUrlParams(),new yt("filters"),new I("match-page__filters"),new de("match-page__filters"),ue.getInstance("sorting-block-container","sorting-block",!1),new I("sorting-block");const e=[{value:"100",label:"100"},{value:"200",label:"200"},{value:"500",label:"500"},{value:"1000",label:"1000"},{value:"2000",label:"2000"},{value:"10000",label:"10000"}];try{const t=new st,a=await t.transformCreatorData(),n=new gr(F.ENDPOINT),o=new wt(F.ENDPOINT),f=new ge(F.ENDPOINT),p=await n.getCheckboxesData(),b=await o.getCheckboxesData(),x=await f.getCheckboxesData(),w=await new gt(a).render();new vt("find-content",t.transformedCreatorData,w),new ye("find-content"),new be("filters-find-lobby",e),new Q("find-lobby__rate-filter"),new K("rate-selected",e,"rate-selected-wrapper","BS");const g=new ve("filters-find-lobby","dota-game-mode-filter"),V=new pt("create-content"),_=new me("filters-find-lobby");new pe("filters-find-lobby"),g.assembleFilter(b),_.assembleFilter(x),V.assembleFilter(b),new nt("create-content",e),new lt("create-content"),new vr("create-lobby-title-block","name-lobby-label").assembleFilter(p),new mr("filters-find-lobby"),new pr("create-content",t.transformedCreatorData)}catch(t){console.error(t)}}}class _r{params;constructor(e){this.params=e}async getData(){const e="https://battle-star-app.onrender.com/graphql";try{const{dota2Brodcastings:t}=await T(e,na,this.params,{Authorization:"Bearer 9c9bf4554f3ecfed253aca7329b2c46511bf3c9b58d2b9a865d9998c75062aab17b1ad96c3c5d878b4aac951441353b066b95b7b20fbd4f31c5466fe8d2479b775f1a398d92e53cfa2e89141d61ee1f32b4850a2daaaebbcf75d3a510bc7e2a3e8613f71c4c84bf7e109f00e2629c12aae3a372fc954fe4de327f478d6857912"});if(t?.data)return t.data.reduce((n,o)=>(n.push({id:o.id,nameMatch:o.attributes?.title,mode:o.attributes?.gameModes?.data[0].attributes?.value.toString().replace("_"," "),rate:o.attributes?.rate.toString(),flagSrc:o.attributes?.ctreator?.data?.attributes?.Options?.selected_country?.data?.attributes?.flag?.data?.attributes?.url,region:o.attributes?.ctreator?.data?.attributes?.Options?.selected_country?.data?.attributes?.name,participants:o.attributes?.participants.length.toString(),viewers:o.attributes?.viewers,videoUrl:o.attributes?.videoUrl}),n),[])}catch(t){console.error(t)}}}class wr{container;options;constructor(e,t){this.container=document.querySelector(`#${e}`),this.options=t,this.render(),this.addEventHendler()}render(){const e=this.options.reduce((t,a)=>(t+=`<tr class="streaming-tr content__tr" id="${a.id}">
        <td class="streaming-tr__name-cell">
          <div class="streaming-tr__name-block">
            <img
              src="${a.flagSrc}"
              alt="flag of ${a.region}"
              class="streaming-tr__flag"
            />
            <div class="streaming-tr__name"> ${a.nameMatch} </div>
          </div>
        </td>
        <td class="streaming-tr__mode">
          <div class="streaming-tr__data-title"> Карта </div>
          <div class="streaming-tr__rate-value">  ${a.mode} </div>
        </td>
        <td class="streaming-tr__rate-block">
          <div class="streaming-tr__data-title"> Ставка </div>
          <div class="streaming-tr__rate-value"> ${a.rate} $ </div>
        </td>
        <td class="streaming-tr__mode">
          <div class="streaming-tr__data-title"> Режим </div>
          <div class="streaming-tr__rate-value"> ${a.participants}x${a.participants} </div>
        </td>
        <td class="streaming-tr__online-field-block">
          <div class="streaming-tr__online-field"> Онлайн </div>
        </td>
        <td class="streaming-tr__viewers-cell">
          <div class="streaming-tr__viewers-block">
            <div class="streaming-tr__viewers-icon">
              <svg>
                <use xlink:href="${$}#view"></use>
              </svg>
            </div>
            <div class="streaming-tr__viewers">${a.viewers} </div>
          </div>
        </td>
      </tr>`,t),"");this.container.innerHTML=e}addEventHendler(){this.container.addEventListener("click",e=>{const a=e.target.closest(".streaming-tr");a&&(window.location.href=`/stream.html?game=dota2&id=${a.id}`)})}}class Sr{container;allCheckbox;allCheckboxesValues={};rateSliderHendles;timeoutUpdateContent;filtersObj={country:[],rate:[],gameMode:[]};constructor(e){this.container=document.querySelector(`#${e}`),this.allCheckbox=this.container.querySelectorAll('input[type="checkbox"]'),this.rateSliderHendles=this.selectRateSliderHendles(),this.addEventHandler(),this.selectAllChaeckboxValue(),this.updateFiltersObject()}selectRateSliderHendles(){const e=document.querySelector(".rate-filter__lower-slider-output"),t=document.querySelector(".rate-filter__upper-slider-output");return[e,t]}addEventHandler(){this.allCheckbox?.forEach(e=>{e.addEventListener("change",t=>{this.changeFilters(t.target),this.addLocationParam()})}),this.rateSliderHendles.forEach(e=>{e.addEventListener("changeRateSlider",()=>{this.changeFilters("rateSlider"),this.addLocationParam()})})}addLocationParam(){for(const e in this.filtersObj)if(Object.prototype.hasOwnProperty.call(this.filtersObj,e)){const t=this.filtersObj[e];t!==null?W(e,t?.join(",")):oe(e)}}runDelay(){window.clearTimeout(this.timeoutUpdateContent),this.timeoutUpdateContent=window.setTimeout(()=>this.updateContent(),1500)}async updateContent(){const e=this.changeFiltersObj(),a=await new _r(e).getData();a&&new wr("streaming-table",a)}changeFilters(e){if(typeof e=="string")this.filtersObj.rate=["between",this.rateSliderHendles[0].innerHTML.slice(2),this.rateSliderHendles[1].innerHTML.slice(2)];else{const t=e.name.replace("-filter","");if(e.checked)t!=="rate"?this.filtersObj[t]?.push(e.value):this.filtersObj[t]?.length!==0&&this.filtersObj[t]?.[0]=="in"?this.filtersObj[t]?.push(e.value):this.filtersObj.rate=["in",e.value];else{const a=this.filtersObj[t]?.indexOf(e.value);a!==void 0&&(t==="rate"&&this.filtersObj[t]?.length===2?this.filtersObj[t].splice(0):this.filtersObj[t].splice(a,1))}}this.runDelay()}changeFiltersObj(){const e={country:this.filtersObj.country?.length===0?this.allCheckboxesValues.country:this.filtersObj.country,rate:{},gameMode:[]};return this.filtersObj.rate?.length===0?e.rate.between=[+this.rateSliderHendles[0].innerHTML.slice(1),+this.rateSliderHendles[1].innerHTML.slice(1)]:Array.isArray(this.filtersObj.rate)&&this.filtersObj.rate[0]=="in"&&(e.rate.in=this.filtersObj.rate?.reduce((t,a,n)=>(n!==0&&t.push(+a),t),[])),Array.isArray(this.filtersObj.rate)&&this.filtersObj.rate[0]=="between"&&(e.rate.between=[+this.filtersObj.rate[1],+this.filtersObj.rate[2]]),this.filtersObj.gameMode?.length===0?e.gameMode=this.allCheckboxesValues.gameMode.map(t=>Number(t)):this.filtersObj.gameMode&&(e.gameMode=this.filtersObj.gameMode?.map(t=>Number(t))),e}selectAllChaeckboxValue(){this.allCheckbox?.forEach(e=>{const t=e.name.replace("-filter","");this.allCheckboxesValues[t]&&!this.allCheckboxesValues[t].includes(e.value)?this.allCheckboxesValues[t].push(e.value):this.allCheckboxesValues[t]||(this.allCheckboxesValues[t]=[e.value])})}updateFiltersObject(){for(const[e,t]of ce().entries()){const a=t.split(",");e==="rate"&&a[0]==="between"?this.filtersObj.rate=["between",a[1],a[2]]:this.allCheckbox!==null&&this.allCheckbox.forEach(n=>{const o=n.name.replace("-filter","");o===e&&a.includes(n.value)&&(n.checked=!0,o!=="rate"?this.filtersObj.rate?.push(n.value):this.filtersObj.rate?.length!==0?this.filtersObj.rate?.push(n.value):this.filtersObj.rate=["in",n.value])})}this.updateContent()}}class Cr{constructor(){this.renderTranslateCsPage()}updateUrlParams(){ee(["country","rate","mapName","gameMode","antyCheat"])}async renderTranslateCsPage(){this.updateUrlParams(),ue.getInstance("translation-content","sorting-block-dota-strim",!1,"streaming"),new I("sorting-block-dota-strim");const e=document.querySelector("#filters");e!==null&&(e.innerHTML=""),new ye("filters","filters-find-streaming");const t=[{value:"100",label:"100"},{value:"200",label:"200"},{value:"500",label:"500"},{value:"1000",label:"1000"},{value:"2000",label:"2000"},{value:"10000",label:"10000"}];try{const a=new wt(F.ENDPOINT),n=new ge(F.ENDPOINT),o=await a.getCheckboxesData(),f=await n.getCheckboxesData();new be("filters-find-streaming",t),new Q("find-lobby__rate-filter");const p=new ve("filters-find-streaming"),b=new me("filters-find-streaming");new pe("filters-find-streaming"),p.assembleFilter(o),b.assembleFilter(f),new Sr("filters-find-streaming")}catch(a){console.error(a)}}}class kr{mayMethods={"open-match":async()=>{new yr},translation:()=>{new Cr}};constructor(){new I("match-page__content",this.mayMethods),new de("match-page__content"),new _t("dota2")}}document.addEventListener("DOMContentLoaded",()=>{new la("#wrapper"),new ca("wrapper","МАТЧИ"),oa.doAfterChangeGame=()=>ee(["country","rate","mapName","gameMode","antyCheat"]),xr()});async function xr(){$e("game")=="dota2"?new kr:new hr}
