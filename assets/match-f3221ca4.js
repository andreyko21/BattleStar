import"./jquery-e7e79cb6.js";import{S as $,g as Oe,r as R,e as Xt,f as Wt,h as Yt,i as Jt,s as W,j as Me,k as De,C as Zt,l as ea,m as oe,n as ta,o as aa,p as ra,q as sa,t as ia,H as na,u as la}from"./header-edebcf36.js";import{A as oa}from"./sidebar-ab114443.js";import{B as z}from"./tabs-47584354.js";import{L as ce}from"./lava-lamp-63313dfc.js";import{O as st,M as ca,a as da,S as Pe,C as it,b as ua}from"./match-row-dota2-7b03ebe2.js";import{J as nt}from"./just-validate.es-936cb47b.js";import{D as fa}from"./default-avatar-719db09b.js";class Y{accordion;header;content;constructor(e){this.accordion=document.querySelector(`.${e}`),this.header=this.accordion.querySelector(".accordion__header"),this.content=this.accordion.querySelector(".accordion__content"),this.activateAccordion()}activateAccordion(){this.header.addEventListener("click",()=>this.playAccordion())}playAccordion(){this.accordion.classList.toggle("accordion_active"),this.content.style.maxHeight!=""?this.content.style.maxHeight="":this.content.style.maxHeight=this.content.scrollHeight+"px"}}class Q{container;nameGroup;span;options;type;constructor(e,t,r=null,n="",o="radio"){this.container=document.querySelector(`#${r}`),this.nameGroup=e,this.span=n,this.options=t,this.type=o,this.render()}createBtnRadio(){return this.options.reduce((t,r,n)=>(t+=`
      <div class="btn-radio">
         <input  
            class="btn-radio__input"
            id="${this.nameGroup}${n+1}" 
            name="${this.nameGroup}" 
            type=${this.type}
            value="${r.value}" 
            ${n===0&&this.type==="radio"?"checked":""}
         />
         <label 
            class="btn-radio__label" 
            for="${this.nameGroup}${n+1}"
         >
            <div>${r.label}&nbsp;</div>
            <span>${this.span}</span>
        </label>
      </div>`,t),"")}render(){this.container&&(this.container.innerHTML=this.createBtnRadio())}}class lt{container;radioBtnHtml;constructor(e,t){this.container=document.querySelector(`#${e}`),this.radioBtnHtml=new Q("rate-selected",t,null,"BS"),this.render(),this.valueSelected()}render(){const e=`
         <div class="rate-selected__title create-lobby__title"> Ставка </div>
         <laberl class="entering-rate rate-selected__rate-input text-input text-input_rate">
            <input
               type="text"
               class="entering-rate__input"
               name="rate-input"
               id="rate-input"
               placeholder="Свое значение"
               min="100" max="99900"
            />
            <span class="entering-rate__label-span">BS</span>
         </laberl>
         <div class="rate-selected__wrapper-btns" id="rate-selected-wrapper">
            ${this.radioBtnHtml.createBtnRadio()}
         </div>
      `,t=document.createElement("div");t.classList.add("rate-selected","create-lobby__rate-selected"),t.innerHTML=e,this.container?.prepend(t)}valueSelected(){const e=document.querySelectorAll('input[id^="rate-selected"]'),t=document.querySelector("#rate-input");e.forEach(r=>{r.addEventListener("change",()=>{t!==null&&(t.value="")})}),t?.addEventListener("input",()=>{let r=t.value;t.value=r.replace(/[^0-9]/g,"").substring(0,6),r&&e.forEach(n=>n.checked=!1)})}}class ot{container;constructor(e){if(this.container=document.querySelector(`#${e}`),!this.container)throw new Error(`Container with id #${e} not found.`);this.render()}render(){const e=`
    <div class="create-lobby__title"> Лобби </div>
    <label
      class="create-lobby__name-input-label text-input text-input_name-lobby" 
      id="name-lobby-label"
    >
      <input
        type="text"
        class="create-lobby__name-input"
        name="name-lobby"
        placeholder="*Введите название лобби"
      />
    </label>
      `,t=document.createElement("div");t.classList.add("create-lobby__title-block"),t.id="create-lobby-title-block",t.innerHTML=e,this.container?.prepend(t)}}class de{container;nameGroup;options;type;constructor(e,t,r=null,n="checkbox"){this.container=document.querySelector(`#${r}`),this.nameGroup=e,this.options=t,this.type=n,this.render()}createChecboxes(){return this.options.reduce((t,r,n)=>(t+=`
       <div class="custom-checkbox">
         <input
            type="${this.type}"
            name="${this.nameGroup}"
            id="${this.nameGroup}${n+1}"
            class="custom-checkbox__input"
            value="${r.value}" 
            ${r.checked?"checked":""}
         />
         <label for="${this.nameGroup}${n+1}" class="custom-checkbox__label">
            <svg>
            <use xlink:href="${$}#check-mark"></use>
            </svg>
         </label>
         <label for="${this.nameGroup}${n+1}" class="custom-checkbox__label-text">
            ${r.label}
         </label>
      </div>
       `,t),"")}render(){this.container&&(this.container.innerHTML=this.createChecboxes())}}var I;(function(a){a.Range="range",a.Steps="steps",a.Positions="positions",a.Count="count",a.Values="values"})(I||(I={}));var H;(function(a){a[a.None=-1]="None",a[a.NoValue=0]="NoValue",a[a.LargeValue=1]="LargeValue",a[a.SmallValue=2]="SmallValue"})(H||(H={}));function ha(a){return le(a)&&typeof a.from=="function"}function le(a){return typeof a=="object"&&typeof a.to=="function"}function Ze(a){a.parentElement.removeChild(a)}function xe(a){return a!=null}function et(a){a.preventDefault()}function ba(a){return a.filter(function(e){return this[e]?!1:this[e]=!0},{})}function ma(a,e){return Math.round(a/e)*e}function pa(a,e){var t=a.getBoundingClientRect(),r=a.ownerDocument,n=r.documentElement,o=ct(r);return/webkit.*Chrome.*Mobile/i.test(navigator.userAgent)&&(o.x=0),e?t.top+o.y-n.clientTop:t.left+o.x-n.clientLeft}function q(a){return typeof a=="number"&&!isNaN(a)&&isFinite(a)}function tt(a,e,t){t>0&&(j(a,e),setTimeout(function(){ne(a,e)},t))}function at(a){return Math.max(Math.min(a,100),0)}function ue(a){return Array.isArray(a)?a:[a]}function ga(a){a=String(a);var e=a.split(".");return e.length>1?e[1].length:0}function j(a,e){a.classList&&!/\s/.test(e)?a.classList.add(e):a.className+=" "+e}function ne(a,e){a.classList&&!/\s/.test(e)?a.classList.remove(e):a.className=a.className.replace(new RegExp("(^|\\b)"+e.split(" ").join("|")+"(\\b|$)","gi")," ")}function va(a,e){return a.classList?a.classList.contains(e):new RegExp("\\b"+e+"\\b").test(a.className)}function ct(a){var e=window.pageXOffset!==void 0,t=(a.compatMode||"")==="CSS1Compat",r=e?window.pageXOffset:t?a.documentElement.scrollLeft:a.body.scrollLeft,n=e?window.pageYOffset:t?a.documentElement.scrollTop:a.body.scrollTop;return{x:r,y:n}}function ya(){return window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"}}function _a(){var a=!1;try{var e=Object.defineProperty({},"passive",{get:function(){a=!0}});window.addEventListener("test",null,e)}catch{}return a}function wa(){return window.CSS&&CSS.supports&&CSS.supports("touch-action","none")}function Le(a,e){return 100/(e-a)}function Ee(a,e,t){return e*100/(a[t+1]-a[t])}function Sa(a,e){return Ee(a,a[0]<0?e+Math.abs(a[0]):e-a[0],0)}function Ca(a,e){return e*(a[1]-a[0])/100+a[0]}function ee(a,e){for(var t=1;a>=e[t];)t+=1;return t}function ka(a,e,t){if(t>=a.slice(-1)[0])return 100;var r=ee(t,a),n=a[r-1],o=a[r],f=e[r-1],p=e[r];return f+Sa([n,o],t)/Le(f,p)}function xa(a,e,t){if(t>=100)return a.slice(-1)[0];var r=ee(t,e),n=a[r-1],o=a[r],f=e[r-1],p=e[r];return Ca([n,o],(t-f)*Le(f,p))}function Ea(a,e,t,r){if(r===100)return r;var n=ee(r,a),o=a[n-1],f=a[n];return t?r-o>(f-o)/2?f:o:e[n-1]?a[n-1]+ma(r-a[n-1],e[n-1]):r}var dt=function(){function a(e,t,r){this.xPct=[],this.xVal=[],this.xSteps=[],this.xNumSteps=[],this.xHighestCompleteStep=[],this.xSteps=[r||!1],this.xNumSteps=[!1],this.snap=t;var n,o=[];for(Object.keys(e).forEach(function(f){o.push([ue(e[f]),f])}),o.sort(function(f,p){return f[0][0]-p[0][0]}),n=0;n<o.length;n++)this.handleEntryPoint(o[n][1],o[n][0]);for(this.xNumSteps=this.xSteps.slice(0),n=0;n<this.xNumSteps.length;n++)this.handleStepPoint(n,this.xNumSteps[n])}return a.prototype.getDistance=function(e){for(var t=[],r=0;r<this.xNumSteps.length-1;r++)t[r]=Ee(this.xVal,e,r);return t},a.prototype.getAbsoluteDistance=function(e,t,r){var n=0;if(e<this.xPct[this.xPct.length-1])for(;e>this.xPct[n+1];)n++;else e===this.xPct[this.xPct.length-1]&&(n=this.xPct.length-2);!r&&e===this.xPct[n+1]&&n++,t===null&&(t=[]);var o,f=1,p=t[n],b=0,x=0,L=0,w=0;for(r?o=(e-this.xPct[n])/(this.xPct[n+1]-this.xPct[n]):o=(this.xPct[n+1]-e)/(this.xPct[n+1]-this.xPct[n]);p>0;)b=this.xPct[n+1+w]-this.xPct[n+w],t[n+w]*f+100-o*100>100?(x=b*o,f=(p-100*o)/t[n+w],o=1):(x=t[n+w]*b/100*f,f=0),r?(L=L-x,this.xPct.length+w>=1&&w--):(L=L+x,this.xPct.length-w>=1&&w++),p=t[n+w]*f;return e+L},a.prototype.toStepping=function(e){return e=ka(this.xVal,this.xPct,e),e},a.prototype.fromStepping=function(e){return xa(this.xVal,this.xPct,e)},a.prototype.getStep=function(e){return e=Ea(this.xPct,this.xSteps,this.snap,e),e},a.prototype.getDefaultStep=function(e,t,r){var n=ee(e,this.xPct);return(e===100||t&&e===this.xPct[n-1])&&(n=Math.max(n-1,1)),(this.xVal[n]-this.xVal[n-1])/r},a.prototype.getNearbySteps=function(e){var t=ee(e,this.xPct);return{stepBefore:{startValue:this.xVal[t-2],step:this.xNumSteps[t-2],highestStep:this.xHighestCompleteStep[t-2]},thisStep:{startValue:this.xVal[t-1],step:this.xNumSteps[t-1],highestStep:this.xHighestCompleteStep[t-1]},stepAfter:{startValue:this.xVal[t],step:this.xNumSteps[t],highestStep:this.xHighestCompleteStep[t]}}},a.prototype.countStepDecimals=function(){var e=this.xNumSteps.map(ga);return Math.max.apply(null,e)},a.prototype.hasNoSize=function(){return this.xVal[0]===this.xVal[this.xVal.length-1]},a.prototype.convert=function(e){return this.getStep(this.toStepping(e))},a.prototype.handleEntryPoint=function(e,t){var r;if(e==="min"?r=0:e==="max"?r=100:r=parseFloat(e),!q(r)||!q(t[0]))throw new Error("noUiSlider: 'range' value isn't numeric.");this.xPct.push(r),this.xVal.push(t[0]);var n=Number(t[1]);r?this.xSteps.push(isNaN(n)?!1:n):isNaN(n)||(this.xSteps[0]=n),this.xHighestCompleteStep.push(0)},a.prototype.handleStepPoint=function(e,t){if(t){if(this.xVal[e]===this.xVal[e+1]){this.xSteps[e]=this.xHighestCompleteStep[e]=this.xVal[e];return}this.xSteps[e]=Ee([this.xVal[e],this.xVal[e+1]],t,0)/Le(this.xPct[e],this.xPct[e+1]);var r=(this.xVal[e+1]-this.xVal[e])/this.xNumSteps[e],n=Math.ceil(Number(r.toFixed(3))-1),o=this.xVal[e]+this.xNumSteps[e]*n;this.xHighestCompleteStep[e]=o}},a}(),rt={to:function(a){return a===void 0?"":a.toFixed(2)},from:Number},ut={target:"target",base:"base",origin:"origin",handle:"handle",handleLower:"handle-lower",handleUpper:"handle-upper",touchArea:"touch-area",horizontal:"horizontal",vertical:"vertical",background:"background",connect:"connect",connects:"connects",ltr:"ltr",rtl:"rtl",textDirectionLtr:"txt-dir-ltr",textDirectionRtl:"txt-dir-rtl",draggable:"draggable",drag:"state-drag",tap:"state-tap",active:"active",tooltip:"tooltip",pips:"pips",pipsHorizontal:"pips-horizontal",pipsVertical:"pips-vertical",marker:"marker",markerHorizontal:"marker-horizontal",markerVertical:"marker-vertical",markerNormal:"marker-normal",markerLarge:"marker-large",markerSub:"marker-sub",value:"value",valueHorizontal:"value-horizontal",valueVertical:"value-vertical",valueNormal:"value-normal",valueLarge:"value-large",valueSub:"value-sub"},B={tooltips:".__tooltips",aria:".__aria"};function Oa(a,e){if(!q(e))throw new Error("noUiSlider: 'step' is not numeric.");a.singleStep=e}function Ma(a,e){if(!q(e))throw new Error("noUiSlider: 'keyboardPageMultiplier' is not numeric.");a.keyboardPageMultiplier=e}function Da(a,e){if(!q(e))throw new Error("noUiSlider: 'keyboardMultiplier' is not numeric.");a.keyboardMultiplier=e}function Pa(a,e){if(!q(e))throw new Error("noUiSlider: 'keyboardDefaultStep' is not numeric.");a.keyboardDefaultStep=e}function La(a,e){if(typeof e!="object"||Array.isArray(e))throw new Error("noUiSlider: 'range' is not an object.");if(e.min===void 0||e.max===void 0)throw new Error("noUiSlider: Missing 'min' or 'max' in 'range'.");a.spectrum=new dt(e,a.snap||!1,a.singleStep)}function Aa(a,e){if(e=ue(e),!Array.isArray(e)||!e.length)throw new Error("noUiSlider: 'start' option is incorrect.");a.handles=e.length,a.start=e}function ja(a,e){if(typeof e!="boolean")throw new Error("noUiSlider: 'snap' option must be a boolean.");a.snap=e}function Ha(a,e){if(typeof e!="boolean")throw new Error("noUiSlider: 'animate' option must be a boolean.");a.animate=e}function $a(a,e){if(typeof e!="number")throw new Error("noUiSlider: 'animationDuration' option must be a number.");a.animationDuration=e}function Va(a,e){var t=[!1],r;if(e==="lower"?e=[!0,!1]:e==="upper"&&(e=[!1,!0]),e===!0||e===!1){for(r=1;r<a.handles;r++)t.push(e);t.push(!1)}else{if(!Array.isArray(e)||!e.length||e.length!==a.handles+1)throw new Error("noUiSlider: 'connect' option doesn't match handle count.");t=e}a.connect=t}function Fa(a,e){switch(e){case"horizontal":a.ort=0;break;case"vertical":a.ort=1;break;default:throw new Error("noUiSlider: 'orientation' option is invalid.")}}function ft(a,e){if(!q(e))throw new Error("noUiSlider: 'margin' option must be numeric.");e!==0&&(a.margin=a.spectrum.getDistance(e))}function qa(a,e){if(!q(e))throw new Error("noUiSlider: 'limit' option must be numeric.");if(a.limit=a.spectrum.getDistance(e),!a.limit||a.handles<2)throw new Error("noUiSlider: 'limit' option is only supported on linear sliders with 2 or more handles.")}function Ra(a,e){var t;if(!q(e)&&!Array.isArray(e))throw new Error("noUiSlider: 'padding' option must be numeric or array of exactly 2 numbers.");if(Array.isArray(e)&&!(e.length===2||q(e[0])||q(e[1])))throw new Error("noUiSlider: 'padding' option must be numeric or array of exactly 2 numbers.");if(e!==0){for(Array.isArray(e)||(e=[e,e]),a.padding=[a.spectrum.getDistance(e[0]),a.spectrum.getDistance(e[1])],t=0;t<a.spectrum.xNumSteps.length-1;t++)if(a.padding[0][t]<0||a.padding[1][t]<0)throw new Error("noUiSlider: 'padding' option must be a positive number(s).");var r=e[0]+e[1],n=a.spectrum.xVal[0],o=a.spectrum.xVal[a.spectrum.xVal.length-1];if(r/(o-n)>1)throw new Error("noUiSlider: 'padding' option must not exceed 100% of the range.")}}function Ta(a,e){switch(e){case"ltr":a.dir=0;break;case"rtl":a.dir=1;break;default:throw new Error("noUiSlider: 'direction' option was not recognized.")}}function Na(a,e){if(typeof e!="string")throw new Error("noUiSlider: 'behaviour' must be a string containing options.");var t=e.indexOf("tap")>=0,r=e.indexOf("drag")>=0,n=e.indexOf("fixed")>=0,o=e.indexOf("snap")>=0,f=e.indexOf("hover")>=0,p=e.indexOf("unconstrained")>=0,b=e.indexOf("drag-all")>=0,x=e.indexOf("smooth-steps")>=0;if(n){if(a.handles!==2)throw new Error("noUiSlider: 'fixed' behaviour must be used with 2 handles");ft(a,a.start[1]-a.start[0])}if(p&&(a.margin||a.limit))throw new Error("noUiSlider: 'unconstrained' behaviour cannot be used with margin or limit");a.events={tap:t||o,drag:r,dragAll:b,smoothSteps:x,fixed:n,snap:o,hover:f,unconstrained:p}}function Ba(a,e){if(e!==!1)if(e===!0||le(e)){a.tooltips=[];for(var t=0;t<a.handles;t++)a.tooltips.push(e)}else{if(e=ue(e),e.length!==a.handles)throw new Error("noUiSlider: must pass a formatter for all handles.");e.forEach(function(r){if(typeof r!="boolean"&&!le(r))throw new Error("noUiSlider: 'tooltips' must be passed a formatter or 'false'.")}),a.tooltips=e}}function Ia(a,e){if(e.length!==a.handles)throw new Error("noUiSlider: must pass a attributes for all handles.");a.handleAttributes=e}function Ga(a,e){if(!le(e))throw new Error("noUiSlider: 'ariaFormat' requires 'to' method.");a.ariaFormat=e}function Ua(a,e){if(!ha(e))throw new Error("noUiSlider: 'format' requires 'to' and 'from' methods.");a.format=e}function za(a,e){if(typeof e!="boolean")throw new Error("noUiSlider: 'keyboardSupport' option must be a boolean.");a.keyboardSupport=e}function Qa(a,e){a.documentElement=e}function Ka(a,e){if(typeof e!="string"&&e!==!1)throw new Error("noUiSlider: 'cssPrefix' must be a string or `false`.");a.cssPrefix=e}function Xa(a,e){if(typeof e!="object")throw new Error("noUiSlider: 'cssClasses' must be an object.");typeof a.cssPrefix=="string"?(a.cssClasses={},Object.keys(e).forEach(function(t){a.cssClasses[t]=a.cssPrefix+e[t]})):a.cssClasses=e}function ht(a){var e={margin:null,limit:null,padding:null,animate:!0,animationDuration:300,ariaFormat:rt,format:rt},t={step:{r:!1,t:Oa},keyboardPageMultiplier:{r:!1,t:Ma},keyboardMultiplier:{r:!1,t:Da},keyboardDefaultStep:{r:!1,t:Pa},start:{r:!0,t:Aa},connect:{r:!0,t:Va},direction:{r:!0,t:Ta},snap:{r:!1,t:ja},animate:{r:!1,t:Ha},animationDuration:{r:!1,t:$a},range:{r:!0,t:La},orientation:{r:!1,t:Fa},margin:{r:!1,t:ft},limit:{r:!1,t:qa},padding:{r:!1,t:Ra},behaviour:{r:!0,t:Na},ariaFormat:{r:!1,t:Ga},format:{r:!1,t:Ua},tooltips:{r:!1,t:Ba},keyboardSupport:{r:!0,t:za},documentElement:{r:!1,t:Qa},cssPrefix:{r:!0,t:Ka},cssClasses:{r:!0,t:Xa},handleAttributes:{r:!1,t:Ia}},r={connect:!1,direction:"ltr",behaviour:"tap",orientation:"horizontal",keyboardSupport:!0,cssPrefix:"noUi-",cssClasses:ut,keyboardPageMultiplier:5,keyboardMultiplier:1,keyboardDefaultStep:10};a.format&&!a.ariaFormat&&(a.ariaFormat=a.format),Object.keys(t).forEach(function(b){if(!xe(a[b])&&r[b]===void 0){if(t[b].r)throw new Error("noUiSlider: '"+b+"' is required.");return}t[b].t(e,xe(a[b])?a[b]:r[b])}),e.pips=a.pips;var n=document.createElement("div"),o=n.style.msTransform!==void 0,f=n.style.transform!==void 0;e.transformRule=f?"transform":o?"msTransform":"webkitTransform";var p=[["left","top"],["right","bottom"]];return e.style=p[e.dir][e.ort],e}function Wa(a,e,t){var r=ya(),n=wa(),o=n&&_a(),f=a,p,b,x,L,w,g=e.spectrum,V=[],_=[],D=[],J=0,F={},K=a.ownerDocument,te=e.documentElement||K.documentElement,ae=K.body,St=K.dir==="rtl"||e.ort===1?0:100;function N(s,i){var l=K.createElement("div");return i&&j(l,i),s.appendChild(l),l}function Ct(s,i){var l=N(s,e.cssClasses.origin),c=N(l,e.cssClasses.handle);if(N(c,e.cssClasses.touchArea),c.setAttribute("data-handle",String(i)),e.keyboardSupport&&(c.setAttribute("tabindex","0"),c.addEventListener("keydown",function(d){return Rt(d,i)})),e.handleAttributes!==void 0){var u=e.handleAttributes[i];Object.keys(u).forEach(function(d){c.setAttribute(d,u[d])})}return c.setAttribute("role","slider"),c.setAttribute("aria-orientation",e.ort?"vertical":"horizontal"),i===0?j(c,e.cssClasses.handleLower):i===e.handles-1&&j(c,e.cssClasses.handleUpper),l.handle=c,l}function qe(s,i){return i?N(s,e.cssClasses.connect):!1}function kt(s,i){var l=N(i,e.cssClasses.connects);b=[],x=[],x.push(qe(l,s[0]));for(var c=0;c<e.handles;c++)b.push(Ct(i,c)),D[c]=c,x.push(qe(l,s[c+1]))}function xt(s){j(s,e.cssClasses.target),e.dir===0?j(s,e.cssClasses.ltr):j(s,e.cssClasses.rtl),e.ort===0?j(s,e.cssClasses.horizontal):j(s,e.cssClasses.vertical);var i=getComputedStyle(s).direction;return i==="rtl"?j(s,e.cssClasses.textDirectionRtl):j(s,e.cssClasses.textDirectionLtr),N(s,e.cssClasses.base)}function Et(s,i){return!e.tooltips||!e.tooltips[i]?!1:N(s.firstChild,e.cssClasses.tooltip)}function Re(){return f.hasAttribute("disabled")}function fe(s){var i=b[s];return i.hasAttribute("disabled")}function Ot(s){s!=null?(b[s].setAttribute("disabled",""),b[s].handle.removeAttribute("tabindex")):(f.setAttribute("disabled",""),b.forEach(function(i){i.handle.removeAttribute("tabindex")}))}function Mt(s){s!=null?(b[s].removeAttribute("disabled"),b[s].handle.setAttribute("tabindex","0")):(f.removeAttribute("disabled"),b.forEach(function(i){i.removeAttribute("disabled"),i.handle.setAttribute("tabindex","0")}))}function he(){w&&(Z("update"+B.tooltips),w.forEach(function(s){s&&Ze(s)}),w=null)}function Te(){he(),w=b.map(Et),ve("update"+B.tooltips,function(s,i,l){if(!(!w||!e.tooltips)&&w[i]!==!1){var c=s[i];e.tooltips[i]!==!0&&(c=e.tooltips[i].to(l[i])),w[i].innerHTML=c}})}function Dt(){Z("update"+B.aria),ve("update"+B.aria,function(s,i,l,c,u){D.forEach(function(d){var m=b[d],h=re(_,d,0,!0,!0,!0),S=re(_,d,100,!0,!0,!0),y=u[d],C=String(e.ariaFormat.to(l[d]));h=g.fromStepping(h).toFixed(1),S=g.fromStepping(S).toFixed(1),y=g.fromStepping(y).toFixed(1),m.children[0].setAttribute("aria-valuemin",h),m.children[0].setAttribute("aria-valuemax",S),m.children[0].setAttribute("aria-valuenow",y),m.children[0].setAttribute("aria-valuetext",C)})})}function Pt(s){if(s.mode===I.Range||s.mode===I.Steps)return g.xVal;if(s.mode===I.Count){if(s.values<2)throw new Error("noUiSlider: 'values' (>= 2) required for mode 'count'.");for(var i=s.values-1,l=100/i,c=[];i--;)c[i]=i*l;return c.push(100),Ne(c,s.stepped)}return s.mode===I.Positions?Ne(s.values,s.stepped):s.mode===I.Values?s.stepped?s.values.map(function(u){return g.fromStepping(g.getStep(g.toStepping(u)))}):s.values:[]}function Ne(s,i){return s.map(function(l){return g.fromStepping(i?g.getStep(l):l)})}function Lt(s){function i(y,C){return Number((y+C).toFixed(7))}var l=Pt(s),c={},u=g.xVal[0],d=g.xVal[g.xVal.length-1],m=!1,h=!1,S=0;return l=ba(l.slice().sort(function(y,C){return y-C})),l[0]!==u&&(l.unshift(u),m=!0),l[l.length-1]!==d&&(l.push(d),h=!0),l.forEach(function(y,C){var k,v,O,A=y,M=l[C+1],P,we,Se,Ce,We,ke,Ye,Je=s.mode===I.Steps;for(Je&&(k=g.xNumSteps[C]),k||(k=M-A),M===void 0&&(M=A),k=Math.max(k,1e-7),v=A;v<=M;v=i(v,k)){for(P=g.toStepping(v),we=P-S,We=we/(s.density||1),ke=Math.round(We),Ye=we/ke,O=1;O<=ke;O+=1)Se=S+O*Ye,c[Se.toFixed(5)]=[g.fromStepping(Se),0];Ce=l.indexOf(v)>-1?H.LargeValue:Je?H.SmallValue:H.NoValue,!C&&m&&v!==M&&(Ce=0),v===M&&h||(c[P.toFixed(5)]=[v,Ce]),S=P}}),c}function At(s,i,l){var c,u,d=K.createElement("div"),m=(c={},c[H.None]="",c[H.NoValue]=e.cssClasses.valueNormal,c[H.LargeValue]=e.cssClasses.valueLarge,c[H.SmallValue]=e.cssClasses.valueSub,c),h=(u={},u[H.None]="",u[H.NoValue]=e.cssClasses.markerNormal,u[H.LargeValue]=e.cssClasses.markerLarge,u[H.SmallValue]=e.cssClasses.markerSub,u),S=[e.cssClasses.valueHorizontal,e.cssClasses.valueVertical],y=[e.cssClasses.markerHorizontal,e.cssClasses.markerVertical];j(d,e.cssClasses.pips),j(d,e.ort===0?e.cssClasses.pipsHorizontal:e.cssClasses.pipsVertical);function C(v,O){var A=O===e.cssClasses.value,M=A?S:y,P=A?m:h;return O+" "+M[e.ort]+" "+P[v]}function k(v,O,A){if(A=i?i(O,A):A,A!==H.None){var M=N(d,!1);M.className=C(A,e.cssClasses.marker),M.style[e.style]=v+"%",A>H.NoValue&&(M=N(d,!1),M.className=C(A,e.cssClasses.value),M.setAttribute("data-value",String(O)),M.style[e.style]=v+"%",M.innerHTML=String(l.to(O)))}}return Object.keys(s).forEach(function(v){k(v,s[v][0],s[v][1])}),d}function be(){L&&(Ze(L),L=null)}function me(s){be();var i=Lt(s),l=s.filter,c=s.format||{to:function(u){return String(Math.round(u))}};return L=f.appendChild(At(i,l,c)),L}function Be(){var s=p.getBoundingClientRect(),i="offset"+["Width","Height"][e.ort];return e.ort===0?s.width||p[i]:s.height||p[i]}function G(s,i,l,c){var u=function(m){var h=jt(m,c.pageOffset,c.target||i);if(!h||Re()&&!c.doNotReject||va(f,e.cssClasses.tap)&&!c.doNotReject||s===r.start&&h.buttons!==void 0&&h.buttons>1||c.hover&&h.buttons)return!1;o||h.preventDefault(),h.calcPoint=h.points[e.ort],l(h,c)},d=[];return s.split(" ").forEach(function(m){i.addEventListener(m,u,o?{passive:!0}:!1),d.push([m,u])}),d}function jt(s,i,l){var c=s.type.indexOf("touch")===0,u=s.type.indexOf("mouse")===0,d=s.type.indexOf("pointer")===0,m=0,h=0;if(s.type.indexOf("MSPointer")===0&&(d=!0),s.type==="mousedown"&&!s.buttons&&!s.touches)return!1;if(c){var S=function(k){var v=k.target;return v===l||l.contains(v)||s.composed&&s.composedPath().shift()===l};if(s.type==="touchstart"){var y=Array.prototype.filter.call(s.touches,S);if(y.length>1)return!1;m=y[0].pageX,h=y[0].pageY}else{var C=Array.prototype.find.call(s.changedTouches,S);if(!C)return!1;m=C.pageX,h=C.pageY}}return i=i||ct(K),(u||d)&&(m=s.clientX+i.x,h=s.clientY+i.y),s.pageOffset=i,s.points=[m,h],s.cursor=u||d,s}function Ie(s){var i=s-pa(p,e.ort),l=i*100/Be();return l=at(l),e.dir?100-l:l}function Ht(s){var i=100,l=!1;return b.forEach(function(c,u){if(!fe(u)){var d=_[u],m=Math.abs(d-s),h=m===100&&i===100,S=m<i,y=m<=i&&s>d;(S||y||h)&&(l=u,i=m)}}),l}function $t(s,i){s.type==="mouseout"&&s.target.nodeName==="HTML"&&s.relatedTarget===null&&pe(s,i)}function Vt(s,i){if(navigator.appVersion.indexOf("MSIE 9")===-1&&s.buttons===0&&i.buttonsProperty!==0)return pe(s,i);var l=(e.dir?-1:1)*(s.calcPoint-i.startCalcPoint),c=l*100/i.baseSize;Ge(l>0,c,i.locations,i.handleNumbers,i.connect)}function pe(s,i){i.handle&&(ne(i.handle,e.cssClasses.active),J-=1),i.listeners.forEach(function(l){te.removeEventListener(l[0],l[1])}),J===0&&(ne(f,e.cssClasses.drag),_e(),s.cursor&&(ae.style.cursor="",ae.removeEventListener("selectstart",et))),e.events.smoothSteps&&(i.handleNumbers.forEach(function(l){U(l,_[l],!0,!0,!1,!1)}),i.handleNumbers.forEach(function(l){E("update",l)})),i.handleNumbers.forEach(function(l){E("change",l),E("set",l),E("end",l)})}function ge(s,i){if(!i.handleNumbers.some(fe)){var l;if(i.handleNumbers.length===1){var c=b[i.handleNumbers[0]];l=c.children[0],J+=1,j(l,e.cssClasses.active)}s.stopPropagation();var u=[],d=G(r.move,te,Vt,{target:s.target,handle:l,connect:i.connect,listeners:u,startCalcPoint:s.calcPoint,baseSize:Be(),pageOffset:s.pageOffset,handleNumbers:i.handleNumbers,buttonsProperty:s.buttons,locations:_.slice()}),m=G(r.end,te,pe,{target:s.target,handle:l,listeners:u,doNotReject:!0,handleNumbers:i.handleNumbers}),h=G("mouseout",te,$t,{target:s.target,handle:l,listeners:u,doNotReject:!0,handleNumbers:i.handleNumbers});u.push.apply(u,d.concat(m,h)),s.cursor&&(ae.style.cursor=getComputedStyle(s.target).cursor,b.length>1&&j(f,e.cssClasses.drag),ae.addEventListener("selectstart",et,!1)),i.handleNumbers.forEach(function(S){E("start",S)})}}function Ft(s){s.stopPropagation();var i=Ie(s.calcPoint),l=Ht(i);l!==!1&&(e.events.snap||tt(f,e.cssClasses.tap,e.animationDuration),U(l,i,!0,!0),_e(),E("slide",l,!0),E("update",l,!0),e.events.snap?ge(s,{handleNumbers:[l]}):(E("change",l,!0),E("set",l,!0)))}function qt(s){var i=Ie(s.calcPoint),l=g.getStep(i),c=g.fromStepping(l);Object.keys(F).forEach(function(u){u.split(".")[0]==="hover"&&F[u].forEach(function(d){d.call(ie,c)})})}function Rt(s,i){if(Re()||fe(i))return!1;var l=["Left","Right"],c=["Down","Up"],u=["PageDown","PageUp"],d=["Home","End"];e.dir&&!e.ort?l.reverse():e.ort&&!e.dir&&(c.reverse(),u.reverse());var m=s.key.replace("Arrow",""),h=m===u[0],S=m===u[1],y=m===c[0]||m===l[0]||h,C=m===c[1]||m===l[1]||S,k=m===d[0],v=m===d[1];if(!y&&!C&&!k&&!v)return!0;s.preventDefault();var O;if(C||y){var A=y?0:1,M=Xe(i),P=M[A];if(P===null)return!1;P===!1&&(P=g.getDefaultStep(_[i],y,e.keyboardDefaultStep)),S||h?P*=e.keyboardPageMultiplier:P*=e.keyboardMultiplier,P=Math.max(P,1e-7),P=(y?-1:1)*P,O=V[i]+P}else v?O=e.spectrum.xVal[e.spectrum.xVal.length-1]:O=e.spectrum.xVal[0];return U(i,g.toStepping(O),!0,!0),E("slide",i),E("update",i),E("change",i),E("set",i),!1}function Tt(s){s.fixed||b.forEach(function(i,l){G(r.start,i.children[0],ge,{handleNumbers:[l]})}),s.tap&&G(r.start,p,Ft,{}),s.hover&&G(r.move,p,qt,{hover:!0}),s.drag&&x.forEach(function(i,l){if(!(i===!1||l===0||l===x.length-1)){var c=b[l-1],u=b[l],d=[i],m=[c,u],h=[l-1,l];j(i,e.cssClasses.draggable),s.fixed&&(d.push(c.children[0]),d.push(u.children[0])),s.dragAll&&(m=b,h=D),d.forEach(function(S){G(r.start,S,ge,{handles:m,handleNumbers:h,connect:i})})}})}function ve(s,i){F[s]=F[s]||[],F[s].push(i),s.split(".")[0]==="update"&&b.forEach(function(l,c){E("update",c)})}function Nt(s){return s===B.aria||s===B.tooltips}function Z(s){var i=s&&s.split(".")[0],l=i?s.substring(i.length):s;Object.keys(F).forEach(function(c){var u=c.split(".")[0],d=c.substring(u.length);(!i||i===u)&&(!l||l===d)&&(!Nt(d)||l===d)&&delete F[c]})}function E(s,i,l){Object.keys(F).forEach(function(c){var u=c.split(".")[0];s===u&&F[c].forEach(function(d){d.call(ie,V.map(e.format.to),i,V.slice(),l||!1,_.slice(),ie)})})}function re(s,i,l,c,u,d,m){var h;return b.length>1&&!e.events.unconstrained&&(c&&i>0&&(h=g.getAbsoluteDistance(s[i-1],e.margin,!1),l=Math.max(l,h)),u&&i<b.length-1&&(h=g.getAbsoluteDistance(s[i+1],e.margin,!0),l=Math.min(l,h))),b.length>1&&e.limit&&(c&&i>0&&(h=g.getAbsoluteDistance(s[i-1],e.limit,!1),l=Math.min(l,h)),u&&i<b.length-1&&(h=g.getAbsoluteDistance(s[i+1],e.limit,!0),l=Math.max(l,h))),e.padding&&(i===0&&(h=g.getAbsoluteDistance(0,e.padding[0],!1),l=Math.max(l,h)),i===b.length-1&&(h=g.getAbsoluteDistance(100,e.padding[1],!0),l=Math.min(l,h))),m||(l=g.getStep(l)),l=at(l),l===s[i]&&!d?!1:l}function ye(s,i){var l=e.ort;return(l?i:s)+", "+(l?s:i)}function Ge(s,i,l,c,u){var d=l.slice(),m=c[0],h=e.events.smoothSteps,S=[!s,s],y=[s,!s];c=c.slice(),s&&c.reverse(),c.length>1?c.forEach(function(k,v){var O=re(d,k,d[k]+i,S[v],y[v],!1,h);O===!1?i=0:(i=O-d[k],d[k]=O)}):S=y=[!0];var C=!1;c.forEach(function(k,v){C=U(k,l[k]+i,S[v],y[v],!1,h)||C}),C&&(c.forEach(function(k){E("update",k),E("slide",k)}),u!=null&&E("drag",m))}function Ue(s,i){return e.dir?100-s-i:s}function Bt(s,i){_[s]=i,V[s]=g.fromStepping(i);var l=Ue(i,0)-St,c="translate("+ye(l+"%","0")+")";b[s].style[e.transformRule]=c,ze(s),ze(s+1)}function _e(){D.forEach(function(s){var i=_[s]>50?-1:1,l=3+(b.length+i*s);b[s].style.zIndex=String(l)})}function U(s,i,l,c,u,d){return u||(i=re(_,s,i,l,c,!1,d)),i===!1?!1:(Bt(s,i),!0)}function ze(s){if(x[s]){var i=0,l=100;s!==0&&(i=_[s-1]),s!==x.length-1&&(l=_[s]);var c=l-i,u="translate("+ye(Ue(i,c)+"%","0")+")",d="scale("+ye(c/100,"1")+")";x[s].style[e.transformRule]=u+" "+d}}function Qe(s,i){return s===null||s===!1||s===void 0||(typeof s=="number"&&(s=String(s)),s=e.format.from(s),s!==!1&&(s=g.toStepping(s)),s===!1||isNaN(s))?_[i]:s}function se(s,i,l){var c=ue(s),u=_[0]===void 0;i=i===void 0?!0:i,e.animate&&!u&&tt(f,e.cssClasses.tap,e.animationDuration),D.forEach(function(h){U(h,Qe(c[h],h),!0,!1,l)});var d=D.length===1?0:1;if(u&&g.hasNoSize()&&(l=!0,_[0]=0,D.length>1)){var m=100/(D.length-1);D.forEach(function(h){_[h]=h*m})}for(;d<D.length;++d)D.forEach(function(h){U(h,_[h],!0,!0,l)});_e(),D.forEach(function(h){E("update",h),c[h]!==null&&i&&E("set",h)})}function It(s){se(e.start,s)}function Gt(s,i,l,c){if(s=Number(s),!(s>=0&&s<D.length))throw new Error("noUiSlider: invalid handle number, got: "+s);U(s,Qe(i,s),!0,!0,c),E("update",s),l&&E("set",s)}function Ke(s){if(s===void 0&&(s=!1),s)return V.length===1?V[0]:V.slice(0);var i=V.map(e.format.to);return i.length===1?i[0]:i}function Ut(){for(Z(B.aria),Z(B.tooltips),Object.keys(e.cssClasses).forEach(function(s){ne(f,e.cssClasses[s])});f.firstChild;)f.removeChild(f.firstChild);delete f.noUiSlider}function Xe(s){var i=_[s],l=g.getNearbySteps(i),c=V[s],u=l.thisStep.step,d=null;if(e.snap)return[c-l.stepBefore.startValue||null,l.stepAfter.startValue-c||null];u!==!1&&c+u>l.stepAfter.startValue&&(u=l.stepAfter.startValue-c),c>l.thisStep.startValue?d=l.thisStep.step:l.stepBefore.step===!1?d=!1:d=c-l.stepBefore.highestStep,i===100?u=null:i===0&&(d=null);var m=g.countStepDecimals();return u!==null&&u!==!1&&(u=Number(u.toFixed(m))),d!==null&&d!==!1&&(d=Number(d.toFixed(m))),[d,u]}function zt(){return D.map(Xe)}function Qt(s,i){var l=Ke(),c=["margin","limit","padding","range","animate","snap","step","format","pips","tooltips"];c.forEach(function(d){s[d]!==void 0&&(t[d]=s[d])});var u=ht(t);c.forEach(function(d){s[d]!==void 0&&(e[d]=u[d])}),g=u.spectrum,e.margin=u.margin,e.limit=u.limit,e.padding=u.padding,e.pips?me(e.pips):be(),e.tooltips?Te():he(),_=[],se(xe(s.start)?s.start:l,i)}function Kt(){p=xt(f),kt(e.connect,p),Tt(e.events),se(e.start),e.pips&&me(e.pips),e.tooltips&&Te(),Dt()}Kt();var ie={destroy:Ut,steps:zt,on:ve,off:Z,get:Ke,set:se,setHandle:Gt,reset:It,disable:Ot,enable:Mt,__moveHandles:function(s,i,l){Ge(s,i,_,l)},options:t,updateOptions:Qt,target:f,removePips:be,removeTooltips:he,getPositions:function(){return _.slice()},getTooltips:function(){return w},getOrigins:function(){return b},pips:me};return ie}function Ya(a,e){if(!a||!a.nodeName)throw new Error("noUiSlider: create requires a single element, got: "+a);if(a.noUiSlider)throw new Error("noUiSlider: Slider was already initialized.");var t=ht(e),r=Wa(a,t,e);return a.noUiSlider=r,r}const Ja={__spectrum:dt,cssClasses:ut,create:Ya};class Ae{MIN_RANGE=100;MAX_RANGE=99900;container;checkboxHtml;sliderValue=[this.MIN_RANGE,this.MAX_RANGE];allCheckbox;constructor(e,t){this.container=document.querySelector(`#${e}`),this.checkboxHtml=new de("rate-filter",t,null),this.render(),this.defineStartingParams(),this.selectAllCheckbox(),this.initialSlider()}defineStartingParams(){const e=Oe("rate")?.split(",");e?.[0]==="between"&&(this.sliderValue=[+e?.[1],+e?.[2]])}render(){const e=`
    <div class="rate-filter__title-block accordion__header">
      <div class="rate-filter__title accordion__title"
        >Ставка</div
      >
      <svg
        class="rate-filter__accordion-arrow accordion__arrow"
      >
        <use
          xlink:href="${$}#arrow-down"
        ></use>
      </svg>
    </div>
    <div class="accordion__content rate-filter__content">
      <div class="rate-filter__slider-output-block">
        <div class="rate-filter__lower-slider-output"></div>
        <div class="rate-filter__upper-slider-output"></div>
      </div>
      <div class="rate-filter__slider" id="slider-round"></div>
      <div
        class="rate-filter__checkboxes"
        id="rate-filter-wrapper"
      >
      ${this.checkboxHtml.createChecboxes()}
      </div>
      <button class="rate-filter__button btn_yellow">
        <svg class="rate-filter__button-icon">
          <use
            xlink:href="${$}#auto-selction"
          ></use>
        </svg>
        <div class="rate-filter__button-text">
          Автоподбор матча
        </div>
      </button>
    </div>
      `,t=document.createElement("div");t.classList.add("find-lobby__rate-filter","rate-filter","accordion"),t.innerHTML=e,this.container?.append(t)}selectAllCheckbox(){this.allCheckbox=this.container?.querySelectorAll('input[id^="rate-filter"]')}initialSlider(){const e=this.allCheckbox;let t=document.querySelector(".rate-filter__slider");Ja.create(t,{start:[this.sliderValue[0],this.sliderValue[1]],connect:!0,range:{min:this.MIN_RANGE,max:this.MAX_RANGE},step:100,format:{from:function(o){return Number(o)},to:function(o){return Math.round(o)}}});const r=document.querySelector(".rate-filter__lower-slider-output"),n=document.querySelector(".rate-filter__upper-slider-output");t.noUiSlider?.on("update",function(o,f){f?n.innerHTML=`$ ${o[f]}`:r.innerHTML=`$ ${o[f]}`,e?.forEach(p=>{p.checked&&(p.checked=!1)})}),t.noUiSlider?.on("change",(o,f)=>{const p=new Event("changeRateSlider",{bubbles:!0});f?(this.sliderValue[0]=+`$ ${o[f]}`,r.dispatchEvent(p)):(this.sliderValue[1]=+`$ ${o[f]}`,n.dispatchEvent(p))}),e?.forEach(o=>{o.addEventListener("change",f=>{let p=t.noUiSlider?.get();const b=this.checkSelected(e);(p[0]!==this.MIN_RANGE||p[1]!==this.MAX_RANGE)&&b&&(t.noUiSlider?.set([this.MIN_RANGE,this.MAX_RANGE]),f.target.checked=!0)})})}checkSelected(e){return Array.from(e).find(r=>r.checked)!==void 0}getSliderValue(){return this.sliderValue}}class Za{container;nameGroup;options;type;constructor(e,t,r=null,n="checkbox"){this.container=document.querySelector(`#${r}`),this.nameGroup=e,this.options=t,this.type=n,this.render()}createChecboxes(){return this.options.reduce((t,r,n)=>(t+=`
      <div class="custom-checkbox">
        <input
         type="${this.type}"
         name="${this.nameGroup}"
         id="${this.nameGroup}${n+1}"
         class="custom-checkbox__input"
         value="${r.value}" 
        />
        <label for="${this.nameGroup}${n+1}" class="custom-checkbox__label">
          <svg>
            <use
              xlink:href="${$}#check-mark"
            ></use>
          </svg>
        </label>
        <label
          for="${this.nameGroup}${n+1}"
          class="custom-checkbox__label-text"
        >
          <img
            src=" ${r.img}"
            alt="Флаг ${r.label}"
            width="24"
            height="15"
          />
          <span> ${r.label}</span>
        </label>
      </div>
       `,t),"")}render(){this.container&&(this.container.innerHTML=this.createChecboxes())}}class je{filterContainer;constructor(e){if(this.filterContainer=document.querySelector(`#${e}`),!this.filterContainer)throw new Error(`Container with id #${e} not found.`);this.renderFilterContainer()}async renderCheckboxHtml(e){return new Za("country-filter",e,"region-filter-checkboxes-container").createChecboxes()}renderFilterContainer(){const e=`
   <div class="region-filter__title-block accordion__header">
     <div class="region-filter__title accordion__title"
       >Регион</div
     >
     <svg class="accordion__arrow">
       <use
         xlink:href="${$}#arrow-down"
       ></use>
     </svg>
   </div>
   <div class="region-filter__content accordion__content" id="region-filter-checkboxes-container"> 

   </div>
     `,t=document.createElement("div");t.classList.add("find-lobby__region-filter","region-filter","accordion"),t.innerHTML=e,this.filterContainer?.append(t)}async renderRadioBtnHtml(e){new Q("country-selected",e,"region-selected-btns").createBtnRadio()}async assembleFilter(e){await this.renderCheckboxHtml(e),new Y("find-lobby__region-filter")}async assembleSelected(e){this.renderRadioBtnHtml(e)}}class He{container;checkboxHtml;constructor(e){this.container=document.querySelector(`#${e}`),this.checkboxHtml=new de("antyCheat",[{value:"antiCheat",label:"Античит"}],null),this.render()}render(){const e=document.createElement("div");e.classList.add("find-lobby__anti-cheat","anti-cheat"),e.innerHTML=this.checkboxHtml.createChecboxes(),this.container?.append(e)}}class bt{endpoint;constructor(e){this.endpoint=e}async getCheckboxesData(){try{const{maps:e}=await R(this.endpoint,Xt,{},{Authorization:"Bearer 9c9bf4554f3ecfed253aca7329b2c46511bf3c9b58d2b9a865d9998c75062aab17b1ad96c3c5d878b4aac951441353b066b95b7b20fbd4f31c5466fe8d2479b775f1a398d92e53cfa2e89141d61ee1f32b4850a2daaaebbcf75d3a510bc7e2a3e8613f71c4c84bf7e109f00e2629c12aae3a372fc954fe4de327f478d6857912"});if(e?.data)return e.data.map(t=>({id:t.id,label:t.attributes?.name,value:t.attributes?.name}))}catch(e){console.error(e)}return[]}}class mt{container;constructor(e){if(this.container=document.querySelector(`#${e}`),!this.container)throw new Error(`Container with id #${e} not found.`);this.renderFilterContainer()}async renderCheckboxHtml(e){return new de("mapName-filter",e,"map-filter-checkboxes-container").createChecboxes()}renderFilterContainer(){const e=`
   <div class="maps-filter__title-block accordion__header">
      <div class="maps-filter__title accordion__title"
      >Карты</div
      >
      <svg class="accordion__arrow">
      <use
         xlink:href="${$}#arrow-down"
      ></use>
      </svg>
   </div>
   <div class="maps-filter__content accordion__content" id = "map-filter-checkboxes-container">
   
   </div>
   `,t=document.createElement("div");t.classList.add("find-lobby__maps-filter","map-filter","accordion"),t.innerHTML=e,this.container?.append(t)}async assembleFilter(e){await this.renderCheckboxHtml(e),new Y("find-lobby__maps-filter")}}class er{container;constructor(e){if(this.container=document.querySelector(`#${e}`),!this.container)throw new Error(`Container with id #${e} not found.`);this.renderSelectedContainer()}async renderRadioBtnHtml(e){new Q("map-selected",e,"map-selected-btns")}renderSelectedContainer(){const e=`
   <div class="map-selected__title create-lobby__title"> Карты </div>
   <div class="map-selected__wrapper-btns" id="map-selected-btns" >
      
   </div>
`,t=document.createElement("div");t.classList.add("map-selected-btns","create-lobby__map-selected"),t.innerHTML=e,this.container?.prepend(t)}async assembleFilter(e){const t=e.map(r=>({value:r.id,label:r.label}));await this.renderRadioBtnHtml(t)}}class $e{endpoint;constructor(e){this.endpoint=e}async getCheckboxesData(){try{const{countries:e}=await R(this.endpoint,Wt,{},{Authorization:"Bearer 9c9bf4554f3ecfed253aca7329b2c46511bf3c9b58d2b9a865d9998c75062aab17b1ad96c3c5d878b4aac951441353b066b95b7b20fbd4f31c5466fe8d2479b775f1a398d92e53cfa2e89141d61ee1f32b4850a2daaaebbcf75d3a510bc7e2a3e8613f71c4c84bf7e109f00e2629c12aae3a372fc954fe4de327f478d6857912"});if(e?.data)return e.data.map(t=>({value:t.attributes?.name,label:t.attributes?.name,img:t.attributes?.flag.data?.attributes?.url}))}catch(e){console.error(e)}return[]}}class pt{endpoint;constructor(e){this.endpoint=e}async getCheckboxesData(){try{const{csGameModes:e}=await R(this.endpoint,Yt,{},{Authorization:"Bearer 9c9bf4554f3ecfed253aca7329b2c46511bf3c9b58d2b9a865d9998c75062aab17b1ad96c3c5d878b4aac951441353b066b95b7b20fbd4f31c5466fe8d2479b775f1a398d92e53cfa2e89141d61ee1f32b4850a2daaaebbcf75d3a510bc7e2a3e8613f71c4c84bf7e109f00e2629c12aae3a372fc954fe4de327f478d6857912"});if(e?.data)return e.data.map(t=>({id:t.id,label:t.attributes?.title,value:typeof t.attributes?.value=="number"?t.attributes?.value.toString():""}))}catch(e){console.error(e)}return[]}}class Ve{container;filterBlockId=null;constructor(e,t){if(this.container=document.querySelector(`#${e}`),!this.container)throw new Error(`Container with id #${e} not found.`);this.renderFilterContainer(),t!==void 0&&(this.filterBlockId=t)}async renderCheckboxHtml(e){const t=this.addCheck(e);new de("gameMode-filter",t,"game-mode-filter-checkboxes-container").createChecboxes()}addCheck(e){console.log(e[0].value);const t=Oe("gameMode")?.split(","),r=[];return e.forEach((n,o)=>{r.push(n),t?.includes(n.value)&&(r[o].checked=!0)}),r}renderFilterContainer(){const e=`
   <div
     class="game-mode-filter__title-block accordion__header"
   >
     <div class="game-mode-filter__title accordion__title"
       >Режим игры</div
     >
     <svg class="accordion__arrow">
       <use
         xlink:href="${$}#arrow-down"
       ></use>
     </svg>
   </div>
   <div class="game-mode-filter__content accordion__content" id="game-mode-filter-checkboxes-container">

   </div>
     `,t=document.createElement("div");t.classList.add("find-lobby__game-mode-filter","game-mode-filter","accordion"),this.filterBlockId!==null&&(t.id=this.filterBlockId),t.innerHTML=e,this.container?.append(t)}async assembleFilter(e){await this.renderCheckboxHtml(e),new Y("find-lobby__game-mode-filter")}}class gt{container;constructor(e){if(this.container=document.querySelector(`#${e}`),!this.container)throw new Error(`Container with id #${e} not found.`);this.renderSelectedContainer()}async renderCheckboxHtml(e){new Q("gameMode-selected",e,"game-mode-selected-btns")}renderSelectedContainer(){const e=`
   <div class="game-mode-selected__title create-lobby__title"> Режим игры </div>
   <div class="game-mode-selected__wrapper-btns" id="game-mode-selected-btns">
    
   </div>
`,t=document.createElement("div");t.classList.add("game-mode-selected","create-lobby__game-mode-selected"),t.innerHTML=e,this.container?.prepend(t)}async assembleFilter(e){const t=e.map(r=>({value:r.id,label:r.label}));await this.renderCheckboxHtml(t)}}const T={authorizationToken:"Bearer 9c9bf4554f3ecfed253aca7329b2c46511bf3c9b58d2b9a865d9998c75062aab17b1ad96c3c5d878b4aac951441353b066b95b7b20fbd4f31c5466fe8d2479b775f1a398d92e53cfa2e89141d61ee1f32b4850a2daaaebbcf75d3a510bc7e2a3e8613f71c4c84bf7e109f00e2629c12aae3a372fc954fe4de327f478d6857912",ENDPOINT:"https://battle-star-app.onrender.com/graphql"};class tr{params;constructor(e){this.params=e}async getData(){const e="https://battle-star-app.onrender.com/graphql";try{const{csLobbies:t}=await R(e,Jt,this.params,{Authorization:"Bearer 9c9bf4554f3ecfed253aca7329b2c46511bf3c9b58d2b9a865d9998c75062aab17b1ad96c3c5d878b4aac951441353b066b95b7b20fbd4f31c5466fe8d2479b775f1a398d92e53cfa2e89141d61ee1f32b4850a2daaaebbcf75d3a510bc7e2a3e8613f71c4c84bf7e109f00e2629c12aae3a372fc954fe4de327f478d6857912"});if(t?.data)return t.data.reduce((n,o)=>(n.push({id:o.id,nameMatch:o.attributes?.title,mode:o.attributes?.gameMode?.data?.attributes?.value.toString(),rate:o.attributes?.rate.toString(),flagSrc:o.attributes?.creator?.data?.attributes?.Options?.selected_country?.data?.attributes?.flag?.data?.attributes?.url,region:o.attributes?.creator?.data?.attributes?.Options?.selected_country?.data?.attributes?.name,imgSrc:o.attributes?.map?.data?.attributes?.logo?.data?.[0]?.attributes?.url,map:o.attributes?.map?.data?.attributes?.name,ping:o.attributes?.ping,participants:(o.attributes?.participant?.players?.data?.length||0).toString(),antyCheat:o.attributes?.antyCheat?.value}),n),[])}catch(t){console.error(t)}}}class ar{container;allCheckbox;allCheckboxesValues={};rateSliderHendles;timeoutUpdateContent;lobbyOpenning=new st("open-lobby-pop-up","overlay","content-wrapper");filtersObj={country:[],rate:[],mapName:[],gameMode:[],antyCheat:[]};filters=[];filteredMatches=[];constructor(e){this.container=document.querySelector(`#${e}`),this.allCheckbox=this.container.querySelectorAll('input[type="checkbox"]'),this.rateSliderHendles=this.selectRateSliderHendles(),this.addEventHandler(),this.selectAllChaeckboxValue(),this.updateFiltersObject()}selectRateSliderHendles(){const e=document.querySelector(".rate-filter__lower-slider-output"),t=document.querySelector(".rate-filter__upper-slider-output");return[e,t]}addEventHandler(){this.allCheckbox?.forEach(e=>{e.addEventListener("change",t=>{this.changeFilters(t.target),this.addLocationParam()})}),this.rateSliderHendles.forEach(e=>{e.addEventListener("changeRateSlider",()=>{this.changeFilters("rateSlider"),this.addLocationParam()})})}addLocationParam(){for(const e in this.filtersObj)if(Object.prototype.hasOwnProperty.call(this.filtersObj,e)){const t=this.filtersObj[e];t!==null?W(e,t?.join(",")):Me(e)}}runDelay(){window.clearTimeout(this.timeoutUpdateContent),this.timeoutUpdateContent=window.setTimeout(()=>this.updateContent(),1500)}updateFiltersObject(){for(const[e,t]of De().entries()){const r=t.split(",");e==="rate"&&r[0]==="between"?this.filtersObj.rate=["between",r[1],r[2]]:this.allCheckbox!==null&&this.allCheckbox.forEach(n=>{const o=n.name.replace("-filter","");o===e&&r.includes(n.value)&&(n.checked=!0,o!=="rate"?this.filtersObj.rate?.push(n.value):this.filtersObj.rate?.length!==0?this.filtersObj.rate?.push(n.value):this.filtersObj.rate=["in",n.value])})}this.updateContent()}changeFilters(e){if(typeof e=="string")this.filtersObj.rate=["between",this.rateSliderHendles[0].innerHTML.slice(2),this.rateSliderHendles[1].innerHTML.slice(2)];else{const t=e.name.replace("-filter","");if(e.checked)t!=="rate"?this.filtersObj[t]?.push(e.value):this.filtersObj[t]?.length!==0&&this.filtersObj[t]?.[0]=="in"?this.filtersObj[t]?.push(e.value):this.filtersObj.rate=["in",e.value];else{const r=this.filtersObj[t]?.indexOf(e.value);r!==void 0&&(t==="rate"&&this.filtersObj[t]?.length===2?this.filtersObj[t].splice(0):this.filtersObj[t].splice(r,1))}}this.runDelay()}async updateContent(){const e=this.changeFiltersObj(),r=await new tr(e).getData();r&&(new ca("calibration-table",r,this.lobbyOpenning),new da("calibration-grid",r,this.lobbyOpenning))}changeFiltersObj(){const e={country:this.filtersObj.country?.length===0?this.allCheckboxesValues.country:this.filtersObj.country,rate:{},map:this.filtersObj.mapName?.length===0?this.allCheckboxesValues.mapName:this.filtersObj.mapName,gameMode:[],antyCheat:this.filtersObj.antyCheat?.length!==0};return this.filtersObj.rate?.length===0?e.rate.between=[+this.rateSliderHendles[0].innerHTML.slice(1),+this.rateSliderHendles[1].innerHTML.slice(1)]:Array.isArray(this.filtersObj.rate)&&this.filtersObj.rate[0]=="in"&&(e.rate.in=this.filtersObj.rate?.reduce((t,r,n)=>(n!==0&&t.push(+r),t),[])),Array.isArray(this.filtersObj.rate)&&this.filtersObj.rate[0]=="between"&&(e.rate.between=[+this.filtersObj.rate[1],+this.filtersObj.rate[2]]),this.filtersObj.gameMode?.length===0?e.gameMode=this.allCheckboxesValues.gameMode.map(t=>Number(t)):this.filtersObj.gameMode&&(e.gameMode=this.filtersObj.gameMode?.map(t=>Number(t))),e}selectAllChaeckboxValue(){this.allCheckbox?.forEach(e=>{const t=e.name.replace("-filter","");this.allCheckboxesValues[t]&&!this.allCheckboxesValues[t].includes(e.value)?this.allCheckboxesValues[t].push(e.value):this.allCheckboxesValues[t]||(this.allCheckboxesValues[t]=[e.value])})}}class rr{validation;form;creatorData;params={title:null,creator:null,map:null,rate:null,gameMode:null,participant:[],ping:23,antyCheat:!0,publishedAt:new Date(Date.now())};constructor(e,t){if(this.form=document.querySelector(`#${e}`),this.validation=new nt("#create-content",{validateBeforeSubmitting:!0}),!this.form)throw new Error(`Container with id #${e} not found.`);this.creatorData=t,this.initValidation()}sendRequest(){this.getMapData(),this.getRateData(),this.getGameModeData(),this.getTiteData(),this.getAntyCheatData(),this.getPingData(),this.getCreatorData(),this.getParticipanstData(),this.validation.isValid&&this.createRequest()}async createRequest(){const e="https://battle-star-app.onrender.com/graphql";try{const t=await R(e,Zt,this.params,{Authorization:"Bearer 9c9bf4554f3ecfed253aca7329b2c46511bf3c9b58d2b9a865d9998c75062aab17b1ad96c3c5d878b4aac951441353b066b95b7b20fbd4f31c5466fe8d2479b775f1a398d92e53cfa2e89141d61ee1f32b4850a2daaaebbcf75d3a510bc7e2a3e8613f71c4c84bf7e109f00e2629c12aae3a372fc954fe4de327f478d6857912"});t&&window.location.assign(`lobby.html?game=dota2&id=${t.createCsLobby?.data?.id}`)}catch(t){console.error(t)}}getMapData(){this.form?.querySelectorAll("input[name='map-selected']")?.forEach(t=>{const r=t;r.checked&&(this.params.map=r.value)})}getRateData(){const e=this.form?.querySelectorAll("input[name='rate-selected']"),t=this.form?.querySelector("input[name='rate-input']");let r=null;e?.forEach(n=>{const o=n;o.checked&&(r=+o.value)}),r===null&&t!==void 0&&(r=Number.parseInt(t.value,10)),this.params.rate=r}getGameModeData(){this.form?.querySelectorAll("input[name='gameMode-selected']")?.forEach(t=>{const r=t;r.checked&&(this.params.gameMode=r.value)})}getTiteData(){const e=this.form?.querySelector("input[name='name-lobby']");e!==void 0&&(this.params.title=e.value.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;"))}getAntyCheatData(){const e=this.form?.querySelector("input[name='create-anti-cheat']");this.params.antyCheat=e.checked}getPingData(){this.params.ping=Math.floor(Math.random()*300)}getCreatorData(){this.params.creator=this.creatorData.playerId}getParticipanstData(){this.params.participant&&this.params.participant?.push(this.creatorData.playerId)}initValidation(){this.validation.addField(".create-lobby__name-input",[{rule:"required",errorMessage:"Введіть назву лоббі"}]).addField("#rate-input",[{rule:"number"},{rule:"minNumber",value:100,errorMessage:"Введіть ставку від 100 до 999900"},{rule:"maxNumber",value:999900,errorMessage:"Введіть ставку від 100 до 999900"}]).onSuccess(()=>{this.sendRequest()})}}class vt{savedAllPlayers=[];selectedPlayers=[];constructor(e){this.selectedPlayers.push(e)}async getAllPlayers(e={}){try{const{players:t}=await R(T.ENDPOINT,ea,e,{Authorization:"Bearer 9c9bf4554f3ecfed253aca7329b2c46511bf3c9b58d2b9a865d9998c75062aab17b1ad96c3c5d878b4aac951441353b066b95b7b20fbd4f31c5466fe8d2479b775f1a398d92e53cfa2e89141d61ee1f32b4850a2daaaebbcf75d3a510bc7e2a3e8613f71c4c84bf7e109f00e2629c12aae3a372fc954fe4de327f478d6857912"});if(t?.data){const r=t.data.map(n=>({userId:n.attributes?.user?.data?.id,avatarUrl:n.attributes?.user?.data?.attributes?.avatar?.data?.attributes?.url||fa,avatarAltText:n.attributes?.user?.data?.attributes?.avatar?.data?.attributes?.alternativeText||"Default avater",username:n.attributes?.user?.data?.attributes?.username||"",csGoRank:n.attributes?.CSGO?.Default_information?.rank===null?0:n.attributes?.CSGO?.Default_information?.rank||0,dota2Rank:n.attributes?.DOTA2?.Default_information?.rank===null?0:n.attributes?.DOTA2?.Default_information?.rank||0}));return console.table(r),r}}catch(t){console.error(t)}return[]}async createPlayersList(e){return this.savedAllPlayers=await this.getAllPlayers(e),this.savedAllPlayers.reduce((r,n)=>(this.selectedPlayers.find(f=>f.userId===n.userId)===void 0&&(r+=`<li class="users-list-block__user-item" data-player-id="${n.userId}">
            <div class="users-list-block__user-name">
            ${n.username}
            </div>
          </li>`),r),"")}async render(){const e=await this.createPlayersList(),t=` 
      <svg>
        <use
          xlink:href="${$}#plus-in-dashcircle"
        ></use>
      </svg>
      <div class="patty__users-list-block users-list-block">
        <input
          type="text"
          class="users-list-block__search-input"
          placeholder="Поиск"
        />
        <div class="users-list-block__icon-search">
          <svg>
            <use
              xlink:href="${$}#search"
            ></use>
          </svg>
        </div>
        <ul class="users-list-block__users-list">
            ${e}
         </ul>
      </div>
    `,r=document.createElement("div");return r.classList.add("patty__add-user"),r.innerHTML=t,this.addLietnerToSearchInput(r),r}async searchPlayers(e,t){const r=t.querySelector(".users-list-block__users-list"),o={username:e.value},f=await this.createPlayersList(o);r.innerHTML=f}addLietnerToSearchInput(e){e.querySelector(".users-list-block__search-input").addEventListener("input",async r=>{await this.searchPlayers(r.target,e)})}addSelectedPlayer(e,t){const r=document.querySelector(".users-list-block__users-list");r?.addEventListener("click",n=>{const o=this.getIdOfSelectedPlayer(n.target,r);if(o!==null){const f=this.savedAllPlayers.find(p=>p.userId===o);f!==void 0&&(this.selectedPlayers.push(f),e(f),t(this.selectedPlayers))}})}getIdOfSelectedPlayer(e,t){const r=e.closest(".users-list-block__user-item");if(r!==null&&t.contains(r)){const n=r.dataset.playerId;if(n!==void 0)return this.removeListItemOfSelectedPlayer(r),n}return null}removeListItemOfSelectedPlayer(e){e.style.display="none"}getSelectedPlayers(){return this.selectedPlayers}}class yt{container;curentPlayer;addUserBlock;playersBlock=null;constructor(e,t,r){if(this.container=document.querySelector(`#${e}`),!this.container)throw new Error(`Container with id #${e} not found.`);this.curentPlayer=t,this.addUserBlock=r,this.render()}createTitleBlock(){const e=`<div class="patty__title">Пати</div>
      <div class="patty__help-block">
        <div class="patty__help-block-icon">?</div>
        <div class="patty__help-block-text">
          Дуже корисна підказка!
        </div>
      </div>`,t=document.createElement("div");return t.classList.add("patty__title-block"),t.innerHTML=e,t}createRatingBlock(){const e=`
      <div
        class="patty__empty-block patty__empty-block_left"
      ></div>
      <div class="patty__rating">Ранг: ${this.curentPlayer.csGoRank??0}</div>
      <div class="patty__empty-block patty__empty-block_right">
      </div>`,t=document.createElement("div");return t.classList.add("patty__rating-block"),t.innerHTML=e,t}changeTotalRank(e){const t=document.querySelector(".patty__rating"),r=e.reduce((n,o)=>(n+=o.csGoRank!==null?o.csGoRank:0,n),0);t.innerHTML=r.toString()}createPlayersBlock(){const e=document.createElement("div");return e.classList.add("patty__users"),e.id="patty-users",e.appendChild(this.addUserBlock),this.playersBlock=e,e}addPlayer(e){const t=`
      <div class="user-block__avatar-img-block">
        <img
          src="${e.avatarUrl}"
          alt="${e.avatarAltText}"
          width="48"
          height ="48"
          class="user-block__avatar-img"
        />
        <div class="user-block__avatar-online"></div>
      </div>
      <div class="user-block__info">${e.username}</div>`,r=document.createElement("div");r.classList.add("patty__user-block","user-block"),r.innerHTML=t,this.playersBlock?.insertBefore(r,this.addUserBlock)}render(){const e=document.createElement("div");e.classList.add("find-lobby__patty","patty"),e.appendChild(this.createTitleBlock()),e.appendChild(this.createPlayersBlock()),this.addPlayer(this.curentPlayer),e.appendChild(this.createRatingBlock()),this.container?.appendChild(e)}}class Fe{container;filtersBlockId;constructor(e,t="filters-find-lobby"){if(this.container=document.querySelector(`#${e}`),!this.container)throw new Error(`Container with id #${e} not found.`);this.filtersBlockId=t,this.render()}render(){const e=`<div class="find-lobby__filters-title-block">
      <svg>
        <use xlink:href="${$}#filters"></use>
      </svg>
      <h2 class="find-lobby__filters-title">Фильтры</h2>
    </div>`,t=document.createElement("div");t.classList.add("find-lobby__filters-block"),t.id=this.filtersBlockId,t.innerHTML=e,this.container?.appendChild(t)}}class _t{container;constructor(e){this.container=document.querySelector(`#${e}`),this.render()}render(){const e=`
      <div class="filters__tabs tabs-block__tabs">
        <!---->
        <div class="filters__tab tabs-block__tab" data-tab-name="find"
          >НАЙТИ ИГРУ</div
        >
        <div class="filters__tab tabs-block__tab" data-tab-name="create">
          СОЗДАТЬ ЛОББИ
        </div>
        <div class="tabs-block__lamp"><span></span></div>
      </div>
      <div class="filters__content tabs-block__content">
        <div
          class="filters__find-lobby find-lobby tabs-block__content-container tabs-block__content-container_active"
          id="find-content"
        ></div>
        <form
            class="filters__create-lobby create-lobby tabs-block__content-container"
            id="create-content"
            >
            <div class="anti-cheat create-lobby__anti-cheat">
            <div class="custom-checkbox">
               <input
                  type="checkbox"
                  name="create-anti-cheat"
                  id="create-anti-cheat"
                  class="custom-checkbox__input"
               />
               <label for="create-anti-cheat" class="custom-checkbox__label">
                  <svg>
                     <use xlink:href="${$}#check-mark"></use>
                  </svg>
               </label>
               <label for="create-anti-cheat" class="custom-checkbox__label-text">
                  Античит
               </label>
               </div>
            </div>
            <button class="create-lobby__create-btn btn btn_yellow">
               <svg>
                  <use xlink:href="${$}#people"></use>
               </svg>
               <div>Создать</div>
            </button>
         </form>
      </div>`;this.container!==null&&(this.container.innerHTML=e)}}class sr{constructor(){this.renderCsPage()}updateUrlParams(){oe(["country","rate","mapName","gameMode","antyCheat"]),W("match-page__content","open-match")}async renderCsPage(){this.updateUrlParams(),new _t("filters"),new z("match-page__filters"),new ce("match-page__filters"),Pe.getInstance("sorting-block-container","sorting-block",!0),new z("sorting-block");const e=[{value:"100",label:"100"},{value:"200",label:"200"},{value:"500",label:"500"},{value:"1000",label:"1000"},{value:"2000",label:"2000"},{value:"10000",label:"10000"}];try{const r=await new it().transformCreatorData(),n=new vt(r),o=new bt(T.ENDPOINT),f=new pt(T.ENDPOINT),p=new $e(T.ENDPOINT),b=await o.getCheckboxesData(),x=await f.getCheckboxesData(),L=await p.getCheckboxesData(),w=await n.render(),g=new yt("find-content",r,w);n.addSelectedPlayer(g.addPlayer.bind(g),g.changeTotalRank.bind(g)),new Fe("find-content"),new Ae("filters-find-lobby",e),new Y("find-lobby__rate-filter"),new Q("rate-selected",e,"rate-selected-wrapper","BS");const V=new mt("filters-find-lobby"),_=new er("create-content"),D=new Ve("filters-find-lobby"),J=new gt("create-content"),F=new je("filters-find-lobby");new He("filters-find-lobby"),V.assembleFilter(b),D.assembleFilter(x),F.assembleFilter(L),J.assembleFilter(x),_.assembleFilter(b),new lt("create-content",e),new ot("create-content"),new ar("filters-find-lobby"),new rr("create-content",r)}catch{}}}class ir{params;constructor(e){this.params=e}async getData(){const e="https://battle-star-app.onrender.com/graphql";try{const{cs2Brodcastings:t}=await R(e,ta,this.params,{Authorization:"Bearer 9c9bf4554f3ecfed253aca7329b2c46511bf3c9b58d2b9a865d9998c75062aab17b1ad96c3c5d878b4aac951441353b066b95b7b20fbd4f31c5466fe8d2479b775f1a398d92e53cfa2e89141d61ee1f32b4850a2daaaebbcf75d3a510bc7e2a3e8613f71c4c84bf7e109f00e2629c12aae3a372fc954fe4de327f478d6857912"});if(t?.data)return t.data.reduce((n,o)=>(n.push({id:o.id,nameMatch:o.attributes?.title,mode:o.attributes?.cs_game_mode?.data?.attributes?.value.toString(),rate:o.attributes?.rate.toString(),flagSrc:o.attributes?.creator?.data?.attributes?.Options?.selected_country?.data?.attributes?.flag?.data?.attributes?.url,region:o.attributes?.creator?.data?.attributes?.Options?.selected_country?.data?.attributes?.name,imgSrc:o.attributes?.map?.data?.attributes?.logo?.data?.[0]?.attributes?.url,map:o.attributes?.map?.data?.attributes?.name,viewers:o.attributes?.viewers,videoUrl:o.attributes?.videoUrl}),n),[])}catch(t){console.error(t)}}}class nr{container;options;constructor(e,t){this.container=document.querySelector(`#${e}`),this.options=t,this.render(),this.addEventHendler()}render(){const e=this.options.reduce((t,r)=>(t+=`<tr class="streaming-tr content__tr" id="">
        <td class="streaming-tr__img-cell">
          <div class="streaming-tr__img-block">
            <img
              src="${r.imgSrc}"
              alt=""
              class="streaming-tr__img"
            />
          </div>
        </td>
        <td class="streaming-tr__name-cell">
          <div class="streaming-tr__name-block">
            <img
              src="${r.flagSrc}"
              alt="flag of ${r.region}"
              class="streaming-tr__flag"
            />
            <div class="streaming-tr__name"> ${r.nameMatch} </div>
          </div>
        </td>
        <td class="streaming-tr__map">
          <div class="streaming-tr__data-title"> Карта </div>
          <div class="streaming-tr__rate-value">  ${r.map} </div>
        </td>
        <td class="streaming-tr__rate-block">
          <div class="streaming-tr__data-title"> Ставка </div>
          <div class="streaming-tr__rate-value"> ${r.rate} $ </div>
        </td>
        <td class="streaming-tr__mode">
          <div class="streaming-tr__data-title"> Режим </div>
          <div class="streaming-tr__rate-value"> ${r.mode}x${r.mode} </div>
        </td>
        <td class="streaming-tr__online-field-block">
          <div class="streaming-tr__online-field"> Онлайн </div>
        </td>
        <td class="streaming-tr__viewers-cell">
          <div class="streaming-tr__viewers-block">
            <div class="streaming-tr__viewers-icon">
              <svg>
                <use xlink:href="${$}#view"></use>
              </svg>
            </div>
            <div class="streaming-tr__viewers">${r.viewers} </div>
          </div>
        </td>
      </tr>`,t),"");this.container.innerHTML=e}addEventHendler(){this.container.addEventListener("click",e=>{const r=e.target.closest(".streaming-tr");r&&(window.location.href=`/stream.html?game=cs2&id=${r.id}`)})}}class lr{container;options;constructor(e,t){this.container=document.querySelector(`#${e}`),this.options=t,this.render(),this.addEventHendler()}render(){const e=this.options.reduce((t,r)=>(t+=`
        <div class="{='class'} striming-card" id="${r.id}">
         <div class="striming-card__img-block">
            <div class="striming-card__wrapper-img">
               <img
               src="${r.imgSrc}"
               alt=""
               class="striming-card__img"
               />
            </div>
         </div>
         <div class="striming-card__content">
            <div class="striming-card__title-block">
               <div class="striming-card__name-block">
               <img
                  src="${r.flagSrc}"
                  alt="flag of ${r.region}"
                  class="striming-card__flag"
               />
               <h3 class="striming-card__name">  ${r.nameMatch}  </h3>
               </div>
               <div class="striming-card__map">  ${r.map}  </div>
               <div class="striming-card__online-field"> Онлайн </div>
            </div>
            <div class="striming-card__other-data">
               <div class="striming-card__data-block">
               <div class="striming-card__rate-block">
                  <div class="striming-card__data-title"> Ставка </div>
                  <div class="striming-card__rate-value">  ${r.rate} $ </div>
               </div>
               <div class="striming-card__mode">
                  <div class="striming-card__data-title"> Режим </div>
                  <div class="striming-card__rate-value">  ${r.mode}x${r.mode}  </div>
               </div>
               </div>
               <div class="striming-card__viewers-block">
               <div class="striming-card__viewers-icon">
                  <svg>
                     <use xlink:href="${$}#view"></use>
                  </svg>
               </div>
               <div class="striming-card__viewers">${r.viewers} </div>
               </div>
            </div>
         </div>
         </div>`,t),"");this.container.innerHTML=e}addEventHendler(){this.container.addEventListener("click",e=>{const r=e.target.closest(".striming-card");r&&(window.location.href=`/stream.html?game=cs2&id=${r.id}`)})}}class or{container;allCheckbox;allCheckboxesValues={};rateSliderHendles;timeoutUpdateContent;filtersObj={country:[],rate:[],mapName:[],gameMode:[]};constructor(e){this.container=document.querySelector(`#${e}`),this.allCheckbox=this.container.querySelectorAll('input[type="checkbox"]'),this.rateSliderHendles=this.selectRateSliderHendles(),this.addEventHandler(),this.selectAllChaeckboxValue(),this.updateFiltersObject()}selectRateSliderHendles(){const e=document.querySelector(".rate-filter__lower-slider-output"),t=document.querySelector(".rate-filter__upper-slider-output");return[e,t]}addEventHandler(){this.allCheckbox?.forEach(e=>{e.addEventListener("change",t=>{this.changeFilters(t.target),this.addLocationParam()})}),this.rateSliderHendles.forEach(e=>{e.addEventListener("changeRateSlider",()=>{this.changeFilters("rateSlider"),this.addLocationParam()})})}addLocationParam(){for(const e in this.filtersObj)if(Object.prototype.hasOwnProperty.call(this.filtersObj,e)){const t=this.filtersObj[e];t!==null?W(e,t?.join(",")):Me(e)}}runDelay(){window.clearTimeout(this.timeoutUpdateContent),this.timeoutUpdateContent=window.setTimeout(()=>this.updateContent(),1500)}async updateContent(){const e=this.changeFiltersObj(),r=await new ir(e).getData();r&&(new lr("streaming-grid",r),new nr("streaming-table",r))}changeFilters(e){if(typeof e=="string")this.filtersObj.rate=["between",this.rateSliderHendles[0].innerHTML.slice(2),this.rateSliderHendles[1].innerHTML.slice(2)];else{const t=e.name.replace("-filter","");if(e.checked)t!=="rate"?this.filtersObj[t]?.push(e.value):this.filtersObj[t]?.length!==0&&this.filtersObj[t]?.[0]=="in"?this.filtersObj[t]?.push(e.value):this.filtersObj.rate=["in",e.value];else{const r=this.filtersObj[t]?.indexOf(e.value);r!==void 0&&(t==="rate"&&this.filtersObj[t]?.length===2?this.filtersObj[t].splice(0):this.filtersObj[t].splice(r,1))}}this.runDelay()}changeFiltersObj(){const e={country:this.filtersObj.country?.length===0?this.allCheckboxesValues.country:this.filtersObj.country,rate:{},map:this.filtersObj.mapName?.length===0?this.allCheckboxesValues.mapName:this.filtersObj.mapName,gameMode:[]};return this.filtersObj.rate?.length===0?e.rate.between=[+this.rateSliderHendles[0].innerHTML.slice(1),+this.rateSliderHendles[1].innerHTML.slice(1)]:Array.isArray(this.filtersObj.rate)&&this.filtersObj.rate[0]=="in"&&(e.rate.in=this.filtersObj.rate?.reduce((t,r,n)=>(n!==0&&t.push(+r),t),[])),Array.isArray(this.filtersObj.rate)&&this.filtersObj.rate[0]=="between"&&(e.rate.between=[+this.filtersObj.rate[1],+this.filtersObj.rate[2]]),this.filtersObj.gameMode?.length===0?e.gameMode=this.allCheckboxesValues.gameMode.map(t=>Number(t)):this.filtersObj.gameMode&&(e.gameMode=this.filtersObj.gameMode?.map(t=>Number(t))),e}selectAllChaeckboxValue(){this.allCheckbox?.forEach(e=>{const t=e.name.replace("-filter","");this.allCheckboxesValues[t]&&!this.allCheckboxesValues[t].includes(e.value)?this.allCheckboxesValues[t].push(e.value):this.allCheckboxesValues[t]||(this.allCheckboxesValues[t]=[e.value])})}updateFiltersObject(){for(const[e,t]of De().entries()){const r=t.split(",");e==="rate"&&r[0]==="between"?this.filtersObj.rate=["between",r[1],r[2]]:this.allCheckbox!==null&&this.allCheckbox.forEach(n=>{const o=n.name.replace("-filter","");o===e&&r.includes(n.value)&&(n.checked=!0,o!=="rate"?this.filtersObj.rate?.push(n.value):this.filtersObj.rate?.length!==0?this.filtersObj.rate?.push(n.value):this.filtersObj.rate=["in",n.value])})}this.updateContent()}}class X{static instance;constructor(){this.renderTranslateCsPage()}static getInstance(){return X.instance||(X.instance=new X),X.instance}updateUrlParams(){oe(["country","rate","mapName","gameMode","antyCheat"]),W("match-page__content","open-match")}async renderTranslateCsPage(){this.updateUrlParams(),Pe.getInstance("translation-content","sorting-block-cs-strim",!0,"streaming"),new z("sorting-block-cs-strim");const e=document.querySelector("#filters");e!==null&&(e.innerHTML=""),new Fe("filters","filters-find-streaming");const t=[{value:"100",label:"100"},{value:"200",label:"200"},{value:"500",label:"500"},{value:"1000",label:"1000"},{value:"2000",label:"2000"},{value:"10000",label:"10000"}];try{const r=new bt(T.ENDPOINT),n=new pt(T.ENDPOINT),o=new $e(T.ENDPOINT),f=await r.getCheckboxesData(),p=await n.getCheckboxesData(),b=await o.getCheckboxesData();new Ae("filters-find-streaming",t),new Y("find-lobby__rate-filter");const x=new mt("filters-find-streaming"),L=new Ve("filters-find-streaming"),w=new je("filters-find-streaming");new He("filters-find-streaming"),x.assembleFilter(f),L.assembleFilter(p),w.assembleFilter(b),new or("filters-find-streaming")}catch(r){console.error(r)}}}const cr="/assets/cs-bg-ddc48684.png",dr="/assets/dota-bg-892fcfbe.png";class wt{game;bgImg;bgOverlay;constructor(e){this.game=e,this.bgImg=document.querySelector("#match-bg-img"),this.bgOverlay=document.querySelector("#match-bg-img-overlay"),this.changeBg()}changeBg(){this.game==="dota2"?(this.bgImg!==null&&(this.bgImg.src=dr),this.bgOverlay!==null&&(this.bgOverlay.style.display="block")):(this.bgImg!==null&&(this.bgImg.src=cr),this.bgOverlay!==null&&(this.bgOverlay.style.display="none"))}}class ur{mayMethods={"open-match":async()=>{new sr},translation:()=>{new X}};constructor(){new z("match-page__content",this.mayMethods),new ce("match-page__content"),new wt("Cs")}}class fr{endpoint;constructor(e){this.endpoint=e}async getCheckboxesData(){try{const{dota2GameModes:e}=await R(this.endpoint,aa,{},{Authorization:"Bearer 9c9bf4554f3ecfed253aca7329b2c46511bf3c9b58d2b9a865d9998c75062aab17b1ad96c3c5d878b4aac951441353b066b95b7b20fbd4f31c5466fe8d2479b775f1a398d92e53cfa2e89141d61ee1f32b4850a2daaaebbcf75d3a510bc7e2a3e8613f71c4c84bf7e109f00e2629c12aae3a372fc954fe4de327f478d6857912"});if(e?.data)return e.data.map(t=>({id:t.id,label:t.attributes?.title,value:t.attributes?.value.replace(/\s/g,"_")}))}catch(e){console.error(e)}return[]}}class hr{params;constructor(e){this.params=e}async getData(){const e="https://battle-star-app.onrender.com/graphql";try{const{dota2Lobbies:t}=await R(e,ra,this.params,{Authorization:"Bearer 9c9bf4554f3ecfed253aca7329b2c46511bf3c9b58d2b9a865d9998c75062aab17b1ad96c3c5d878b4aac951441353b066b95b7b20fbd4f31c5466fe8d2479b775f1a398d92e53cfa2e89141d61ee1f32b4850a2daaaebbcf75d3a510bc7e2a3e8613f71c4c84bf7e109f00e2629c12aae3a372fc954fe4de327f478d6857912"});if(t?.data)return t.data.reduce((n,o)=>(n.push({id:o.id,nameMatch:o.attributes?.title,mode:o.attributes?.dota_2_game_modes?.data[0].attributes?.value.toString(),rate:o.attributes?.rate.toString(),flagSrc:o.attributes?.creator?.data?.attributes?.Options?.selected_country?.data?.attributes?.flag?.data?.attributes?.url,region:o.attributes?.creator?.data?.attributes?.Options?.selected_country?.data?.attributes?.name,ping:o.attributes?.ping,type:o.attributes?.typeLobby?.data?.attributes?.value.toString(),participants:(o.attributes?.participant?.players?.data?.length||0).toString(),antyCheat:o.attributes?.antyCheat?.value}),n),[])}catch(t){console.error(t)}}}class br{container;allCheckbox;allCheckboxesValues={};rateSliderHendles;timeoutUpdateContent;lobbyOpenning=new st("open-lobby-pop-up","overlay","content-wrapper");filtersObj={country:[],rate:[],gameMode:[],antyCheat:[]};filters=[];filteredMatches=[];constructor(e){this.container=document.querySelector(`#${e}`),this.allCheckbox=this.container.querySelectorAll('input[type="checkbox"]'),this.rateSliderHendles=this.selectRateSliderHendles(),this.addEventHandler(),this.selectAllChaeckboxValue(),this.updateFiltersObject()}selectRateSliderHendles(){const e=document.querySelector(".rate-filter__lower-slider-output"),t=document.querySelector(".rate-filter__upper-slider-output");return[e,t]}addEventHandler(){this.allCheckbox?.forEach(e=>{e.addEventListener("change",t=>{this.changeFilters(t.target),this.addLocationParam()})}),this.rateSliderHendles.forEach(e=>{e.addEventListener("changeRateSlider",()=>{this.changeFilters("rateSlider"),this.addLocationParam()})})}addLocationParam(){for(const e in this.filtersObj)if(Object.prototype.hasOwnProperty.call(this.filtersObj,e)){const t=this.filtersObj[e];t!==null?W(e,t?.join(",")):Me(e)}}runDelay(){window.clearTimeout(this.timeoutUpdateContent),this.timeoutUpdateContent=window.setTimeout(()=>this.updateContent(),1500)}updateFiltersObject(){for(const[e,t]of De().entries()){const r=t.split(",");e==="rate"&&r[0]==="between"?this.filtersObj.rate=["between",r[1],r[2]]:this.allCheckbox!==null&&this.allCheckbox.forEach(n=>{const o=n.name.replace("-filter","");o===e&&r.includes(n.value)&&(n.checked=!0,o!=="rate"?this.filtersObj.rate?.push(n.value):this.filtersObj.rate?.length!==0?this.filtersObj.rate?.push(n.value):this.filtersObj.rate=["in",n.value])})}this.updateContent()}changeFilters(e){if(typeof e=="string")this.filtersObj.rate=["between",this.rateSliderHendles[0].innerHTML.slice(2),this.rateSliderHendles[1].innerHTML.slice(2)];else{const t=e.name.replace("-filter","");if(e.checked)t!=="rate"?this.filtersObj[t]?.push(e.value):this.filtersObj[t]?.length!==0&&this.filtersObj[t]?.[0]=="in"?this.filtersObj[t]?.push(e.value):this.filtersObj.rate=["in",e.value];else{const r=this.filtersObj[t]?.indexOf(e.value);r!==void 0&&(t==="rate"&&this.filtersObj[t]?.length===2?this.filtersObj[t].splice(0):this.filtersObj[t].splice(r,1))}}this.runDelay()}async updateContent(){const e=this.changeFiltersObj(),r=await new hr(e).getData();r&&new ua("calibration-table",r,this.lobbyOpenning)}changeFiltersObj(){const e={country:this.filtersObj.country?.length===0?this.allCheckboxesValues.country:this.filtersObj.country,rate:{},gameMode:this.filtersObj.gameMode?.length===0?this.allCheckboxesValues.gameMode:this.filtersObj.gameMode,antyCheat:this.filtersObj.antyCheat?.length!==0};return this.filtersObj.rate?.length===0?e.rate.between=[+this.rateSliderHendles[0].innerHTML.slice(1),+this.rateSliderHendles[1].innerHTML.slice(1)]:Array.isArray(this.filtersObj.rate)&&this.filtersObj.rate[0]=="in"&&(e.rate.in=this.filtersObj.rate?.reduce((t,r,n)=>(n!==0&&t.push(+r),t),[])),Array.isArray(this.filtersObj.rate)&&this.filtersObj.rate[0]=="between"&&(e.rate.between=[+this.filtersObj.rate[1],+this.filtersObj.rate[2]]),e}selectAllChaeckboxValue(){this.allCheckbox?.forEach(e=>{const t=e.name.replace("-filter","");this.allCheckboxesValues[t]&&!this.allCheckboxesValues[t].includes(e.value)?this.allCheckboxesValues[t].push(e.value):this.allCheckboxesValues[t]||(this.allCheckboxesValues[t]=[e.value])})}}class mr{validation;form;creatorData;params={title:null,creator:null,typeLobby:null,rate:null,gameMode:[null],participant:[],ping:23,antyCheat:!0};constructor(e,t){if(this.form=document.querySelector(`#${e}`),this.validation=new nt("#create-content",{validateBeforeSubmitting:!0}),!this.form)throw new Error(`Container with id #${e} not found.`);this.creatorData=t,this.initValidation()}sendRequest(){this.getRateData(),this.getGameModeData(),this.getTypeLobbyData(),this.getTiteData(),this.getAntyCheatData(),this.getPingData(),this.getCreatorData(),this.getParticipanstData(),this.validation.isValid&&this.createRequest()}async createRequest(){const e="https://battle-star-app.onrender.com/graphql";try{const t=await R(e,sa,this.params,{Authorization:"Bearer 9c9bf4554f3ecfed253aca7329b2c46511bf3c9b58d2b9a865d9998c75062aab17b1ad96c3c5d878b4aac951441353b066b95b7b20fbd4f31c5466fe8d2479b775f1a398d92e53cfa2e89141d61ee1f32b4850a2daaaebbcf75d3a510bc7e2a3e8613f71c4c84bf7e109f00e2629c12aae3a372fc954fe4de327f478d6857912"});t&&window.location.assign(`lobby.html?game=dota2&id=${t.createDota2Lobby?.data?.id}`)}catch(t){console.error(t)}}getRateData(){const e=this.form?.querySelectorAll("input[name='rate-selected']"),t=this.form?.querySelector("input[name='rate-input']");let r=null;e?.forEach(n=>{const o=n;o.checked&&(r=+o.value)}),r===null&&t!==void 0&&(r=Number.parseInt(t.value,10)),this.params.rate=r}getGameModeData(){this.form?.querySelectorAll("input[name='gameMode-selected']")?.forEach(t=>{const r=t;r.checked&&(this.params.gameMode=[r.value])})}getTypeLobbyData(){this.form?.querySelectorAll("input[name='typeLobby-selected']")?.forEach(t=>{const r=t;r.checked&&(this.params.typeLobby=r.value)})}getTiteData(){const e=this.form?.querySelector("input[name='name-lobby']");e!==void 0&&(this.params.title=e.value.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;"))}getAntyCheatData(){const e=this.form?.querySelector("input[name='create-anti-cheat']");this.params.antyCheat=e.checked}getPingData(){this.params.ping=Math.floor(Math.random()*300)}getCreatorData(){this.params.creator=this.creatorData.playerId}getParticipanstData(){this.params.participant&&this.params.participant?.push(this.creatorData.playerId)}initValidation(){this.validation.addField(".create-lobby__name-input",[{rule:"required",errorMessage:"Введіть назву лоббі"}]).addField("#rate-input",[{rule:"number"},{rule:"minNumber",value:100,errorMessage:"Введіть ставку від 100 до 999900"},{rule:"maxNumber",value:999900,errorMessage:"Введіть ставку від 100 до 999900"}]).onSuccess(()=>{console.log(this.validation.isValid),this.sendRequest()})}}class pr{endpoint;constructor(e){this.endpoint=e}async getCheckboxesData(){try{const{dotaTypeLobbies:e}=await R(this.endpoint,ia,{},{Authorization:"Bearer 9c9bf4554f3ecfed253aca7329b2c46511bf3c9b58d2b9a865d9998c75062aab17b1ad96c3c5d878b4aac951441353b066b95b7b20fbd4f31c5466fe8d2479b775f1a398d92e53cfa2e89141d61ee1f32b4850a2daaaebbcf75d3a510bc7e2a3e8613f71c4c84bf7e109f00e2629c12aae3a372fc954fe4de327f478d6857912"});if(e?.data)return e.data.map(t=>({id:t.id,label:t.attributes?.title,value:t.attributes?.value}))}catch(e){console.error(e)}return[]}}class gr{container;nextElem;constructor(e,t){if(this.container=document.querySelector(`#${e}`),!this.container)throw new Error(`Container with id #${e} not found.`);if(this.nextElem=document.querySelector(`#${t}`),!this.nextElem)throw new Error(`Container with id #${t} not found.`);this.renderSelectedContainer()}renderCheckboxHtml(e){new Q("typeLobby-selected",e,"type-lobby-selected-btns")}renderSelectedContainer(){const e=`      
      <div class="type-lobby-selected__wrapper-btns" id="type-lobby-selected-btns">
      
      </div>
   `,t=document.createElement("div");t.classList.add("type-lobby-selected","create-lobby__type-lobby-selected"),t.innerHTML=e,this.container?.insertBefore(t,this.nextElem)}assembleFilter(e){const t=e.map(r=>({value:r.id,label:r.label}));this.renderCheckboxHtml(t)}}class vr{constructor(){this.renderDotaPage()}updateUrlParams(){oe(["country","rate","mapName","gameMode","antyCheat"]),W("match-page__content","open-match")}async renderDotaPage(){this.updateUrlParams(),new _t("filters"),new z("match-page__filters"),new ce("match-page__filters"),Pe.getInstance("sorting-block-container","sorting-block",!1),new z("sorting-block");const e=[{value:"100",label:"100"},{value:"200",label:"200"},{value:"500",label:"500"},{value:"1000",label:"1000"},{value:"2000",label:"2000"},{value:"10000",label:"10000"}];try{const t=new it,r=await t.transformCreatorData(),n=new pr(T.ENDPOINT),o=new fr(T.ENDPOINT),f=new $e(T.ENDPOINT),p=await n.getCheckboxesData(),b=await o.getCheckboxesData(),x=await f.getCheckboxesData(),w=await new vt(r).render();new yt("find-content",t.transformedCreatorData,w),new Fe("find-content"),new Ae("filters-find-lobby",e),new Y("find-lobby__rate-filter"),new Q("rate-selected",e,"rate-selected-wrapper","BS");const g=new Ve("filters-find-lobby","dota-game-mode-filter"),V=new gt("create-content"),_=new je("filters-find-lobby");new He("filters-find-lobby"),g.assembleFilter(b),_.assembleFilter(x),V.assembleFilter(b),new lt("create-content",e),new ot("create-content"),new gr("create-lobby-title-block","name-lobby-label").assembleFilter(p),new br("filters-find-lobby"),new mr("create-content",t.transformedCreatorData)}catch(t){console.error(t)}}}class yr{mayMethods={"open-match":async()=>{new vr},translation:()=>{}};constructor(){new z("match-page__content",this.mayMethods),new ce("match-page__content"),new wt("dota2")}}document.addEventListener("DOMContentLoaded",()=>{new na("#wrapper"),new oa("wrapper","МАТЧИ"),la.doAfterChangeGame=()=>oe(["country","rate","mapName","gameMode","antyCheat"]),_r()});async function _r(){Oe("game")=="dota2"?new yr:new ur}
