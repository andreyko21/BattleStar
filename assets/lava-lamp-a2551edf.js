import{$ as e}from"./jquery-ab814638.js";function o(){const i=window.location.search;return new URLSearchParams(i)}function c(i,t){const s=o();s.set(i,t);const a=window.location.protocol+"//"+window.location.host+window.location.pathname+"?"+s;window.history.pushState({path:a},"",a)}function l(i){return o().get(i)}class n{TABS_CLASS="tabs-block__tabs";TAB_CLASS="tabs-block__tab";TAB_ACTIVE_CLASS="tabs-block__tab_active";TABS_BLOCK_CONTENT_CLASS="tabs-block__content";CONTENT_CONTAINER_CLASS="tabs-block__content-container";CONTENT_CONTAINER_ACTIVE_CLASS="tabs-block__content-container_active";classTabsBlock;tabsBlock;objectWithMethod;tabs;allTabs;tabsBlockContent;contentContainers;constructor(t,s){this.classTabsBlock=t,this.tabsBlock=document.querySelector(`.${t}`),s!=null&&(this.objectWithMethod=s),this.tabs=this.tabsBlock.querySelector(`.${this.TABS_CLASS}`),this.allTabs=this.tabs.querySelectorAll(`.${this.TAB_CLASS}`),this.tabsBlockContent=this.tabsBlock.querySelector(`.${this.TABS_BLOCK_CONTENT_CLASS}`),this.contentContainers=this.tabsBlock.querySelectorAll(`.${this.CONTENT_CONTAINER_CLASS}`),this.addListenerToTabs(),this.changeTabForHash()}changeTabForHash(){const t=l(this.classTabsBlock);t&&this.allTabs.forEach(s=>{s.dataset.tabName==t&&(this.changeActiveTab(s),this.objectWithMethod&&this.selectMethod(t),this.selectContentContainer(t))})}addListenerToTabs(){this.tabs&&this.tabs.closest(".tabs-block")?.classList.contains(this.classTabsBlock)&&this.tabs.addEventListener("click",t=>{const s=t.target.closest(`.${this.TAB_CLASS}`);if(s&&!s.classList.contains(this.TAB_ACTIVE_CLASS)){const a=this.changeActiveTab(s);a&&(this.objectWithMethod&&this.selectMethod(a),this.selectContentContainer(a),c(this.classTabsBlock,a))}})}changeActiveTab(t){return this.allTabs.forEach(s=>{s.classList.remove(this.TAB_ACTIVE_CLASS)}),t.classList.add(this.TAB_ACTIVE_CLASS),t.dataset.tabName}selectMethod(t){for(const[s,a]of Object.entries(this.objectWithMethod))s==t&&a()}selectContentContainer(t){this.contentContainers.forEach(s=>{s.id===`${t}-content`&&!s.classList.contains(this.CONTENT_CONTAINER_ACTIVE_CLASS)&&(this.contentContainers.forEach(a=>{a.classList.remove(this.CONTENT_CONTAINER_ACTIVE_CLASS)}),s.classList.add(this.CONTENT_CONTAINER_ACTIVE_CLASS))})}}class r{idArr;func;constructor(t,s){this.idArr=t,this.func=s}createObj(){return this.idArr.reduce((t,s)=>(t[s]=this.func,t),{})}}class T{TABS_CLASS="tabs-block__tabs";TAB_CLASS="tabs-block__tab";TAB_ACTIVE_CLASS="tabs-block__tab_active";TAB_HOVERED_CLASS="tabs-block__tab_hovered";TAB_NO_HOVERED_CLASS="tabs-block__tab_no-hovered";classTabsBlock;allTabs;constructor(t){this.classTabsBlock=t,this.allTabs=e(`.${this.TAB_CLASS}`,`.${this.classTabsBlock}`),this.initNavigation()}initNavigation(){this.allTabs.hasClass(this.TAB_ACTIVE_CLASS)?this.activateSelected():this.activateFirst(),this.allTabs.on("mouseenter",t=>this.handleHoverIn(t)).on("mouseleave",this.handleHoverOut.bind(this))}activateSelected(){this.allTabs.filter(`.${this.TAB_ACTIVE_CLASS}`).addClass(this.TAB_HOVERED_CLASS);const t=this.allTabs.filter(`.${this.TAB_ACTIVE_CLASS}`).position()?.left+"px"||"0px",s=this.allTabs.filter(`.${this.TAB_ACTIVE_CLASS}`).css("width");e(".tabs-block__lamp span",`.${this.classTabsBlock}`).css({left:t,width:s})}activateFirst(){this.allTabs.first().addClass(this.TAB_HOVERED_CLASS);const t=this.allTabs.first().position()?.left+"px"||"0px",s=this.allTabs.first().css("width");e(".tabs-block__lamp span",`.${this.classTabsBlock}`).css({left:t,width:s})}handleHoverIn(t){if(t.target.closest(".tabs-block")?.classList.contains(this.classTabsBlock)){this.allTabs.removeClass(this.TAB_HOVERED_CLASS),this.allTabs.addClass(this.TAB_NO_HOVERED_CLASS),e(t.target).removeClass(this.TAB_NO_HOVERED_CLASS),e(t.target).addClass(this.TAB_HOVERED_CLASS);const s=this.allTabs.filter(`.${this.TAB_HOVERED_CLASS}`).position()?.left+"px"||"0px",a=this.allTabs.filter(`.${this.TAB_HOVERED_CLASS}`).css("width");e(".tabs-block__lamp span",`.${this.classTabsBlock}`).css({left:s,width:a})}}handleHoverOut(){this.allTabs.removeClass(this.TAB_NO_HOVERED_CLASS),this.allTabs.removeClass(this.TAB_HOVERED_CLASS),this.allTabs.filter(`.${this.TAB_ACTIVE_CLASS}`).length>0?this.activateSelected():this.activateFirst()}}export{n as B,r as C,T as L,l as g,c as s};
