import{$ as e}from"./jquery-62de4648.js";import{H as d}from"./header-fb3b444a.js";import{A as f}from"./sidebar-6eae4002.js";import{A as b}from"./asideMenu-0e310de3.js";new b;new d("#wrapper");new f("wrapper","");class _{content;history;filterSelect;tableRows;urlParams;lobbyInfo;lobbyInfoParam;constructor(n,o){if(this.urlParams=new URLSearchParams(window.location.search),this.lobbyInfoParam=this.urlParams.get("lobbyInfo"),this.lobbyInfoParam)try{const t=JSON.parse(this.lobbyInfoParam);console.log(t)}catch(t){console.error("Помилка при розпарсюванні lobbyInfo:",t)}else console.log("Параметр lobbyInfo не знайдено в URL.");this.content=n,this.history=o,this.filterSelect=e("#filter"),this.tableRows=e(".table__tr"),this.renderHistory()}async renderHistory(){const n=this.history.map(t=>`
            <tr class="table__tr">
              <td class="table__name">${t.name}</td>
              <td class="table__data">${t.data}</td>
              <td class="table__time">${t.time}</td>
              <td class="table__regime">Режим <span>${t.regime}</span></td>
              <td class="table__id">ID <span>${t.id}</span></td>
              <td class="table__win">
              ${t.result}
              </td>
              <td class="table__money">+ ${t.money} <span>BS</span></td>
            </tr>`).join(""),o=document.querySelector(this.content);o&&(o.innerHTML=n),e(".table__win").each(function(){if(e(this).text().trim()==="Поражение"){e(this).addClass("table__win_defeat");const a=e(this).next(".table__money");if(a.length>0){const i=a.text().trim();i.includes("+")&&a.text(i.replace("+","-"))}}}),e(".table__time").each(function(){const a=e(this).text().trim().slice(0,5);e(this).text(a)}),e(".table__data").each(function(){const a=e(this).text().trim().slice(0,10).replace(/-/g,".");e(this).text(a)}),e("#filter").on("change",function(){const t=e(this).val();console.log(t),e(".table__tr").each(function(h,s){const r=e(s).find(".table__win"),c=e(s).find(".table__win_defeat");t==="All"?e(s).show():t==="win"&&(r.text().trim()==="Победа"||r.text().trim()==="")?e(s).show():t==="defeat"&&c.text().trim()==="Поражение"?e(s).show():e(s).hide()});const a=new URL(window.location.href),i=new URLSearchParams(a.search);i.set("filter",t),a.search=i.toString(),window.history.replaceState({path:a.href},"",a.href)})}}let m=[{name:"CS:GO",data:"07.06.2021",time:"19:20",regime:"5v5",id:3758902,result:"Победа",money:1200},{name:"CS:GO",data:"07.06.2021",time:"19:20",regime:"5v5",id:3758902,result:"Поражение",money:200},{name:"Dota 2",data:"07.06.2021",time:"19:20",regime:"5v5",id:3758902,result:"Поражение",money:500},{name:"Dota 2",data:"07.06.2021",time:"19:20",regime:"5v5",id:3758902,result:"Победа",money:700},{name:"CS:GO",data:"07.06.2021",time:"19:20",regime:"5v5",id:3758902,result:"Победа",money:1200},{name:"CS:GO",data:"07.06.2021",time:"19:20",regime:"5v5",id:3758902,result:"Победа",money:1200},{name:"Dota 2",data:"07.06.2021",time:"19:20",regime:"5v5",id:3758902,result:"Поражение",money:500},{name:"Dota 2",data:"07.06.2021",time:"19:20",regime:"5v5",id:3758902,result:"Победа",money:1200}];const g=m.reduce((l,n)=>(n.result==="Поражение"?l-=n.money:l+=n.money,l),0);new _(".table__tab",m);export{g as s};
