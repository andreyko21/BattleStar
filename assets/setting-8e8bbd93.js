import{$ as a}from"./jquery-62de4648.js";import{H as _,r as u,Y as h,Z as b}from"./header-fb3b444a.js";import{A as k}from"./sidebar-6eae4002.js";new _("#wrapper");new k("wrapper","");class w{constructor(){this.init()}init(){this.logOutAccount()}logOutAccount(){const e=document.querySelector(".setting__exit");e?e.addEventListener("click",()=>{document.cookie="token=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;",document.cookie="id=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;",document.cookie="name=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;",document.cookie="email=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;",window.location.href="login.html"}):console.error("LogOutButton not found!")}}new w;function c(t){const e=t+"=",r=decodeURIComponent(document.cookie).split(";");for(const i of r){let o=i.trim();if(o.indexOf(e)===0)return o.substring(e.length)}return""}let y=c("name"),l=+c("id"),O=+c("playerId");console.log(l);const n={username:y,id:O,data:{Options:{news_of_the_platform:!0,new_tournaments:!0,incoming_messages:!1,invitations_to_the_team:!1,friend_requests:!0,allow_only_friends_invit_to_team:!0,selected_country:1,selected_language:1}}},U={Authorization:"Bearer f106222a0ebe66d3536b11a256411ce8688915767a986531a8119b7144733224cdb1dfdea426d492697a738b62fda5af3043a9a546bf6d015a55a3086bce0dbe32468dd8476b9d83754bbb3698f95e987e06053f91ceffc6655406c9ff3bc4c180331b03f83ab7c53c99354f8010b5497645ac3be6af33b25a0fe7a094aab9f9"};async function s(){const t=await u("https://battle-star-app.onrender.com/graphql",b,n,U);console.log(t)}async function v(){try{const t=await u("https://battle-star-app.onrender.com/graphql",h,{id:l}),e=t?.usersPermissionsUsers?.data[0]?.attributes?.player?.data?.attributes?.Options?.news_of_the_platform,d=t?.usersPermissionsUsers?.data[0]?.attributes?.player?.data?.attributes?.Options?.new_tournaments,r=t?.usersPermissionsUsers?.data[0]?.attributes?.player?.data?.attributes?.Options?.incoming_messages,i=t?.usersPermissionsUsers?.data[0]?.attributes?.player?.data?.attributes?.Options?.invitations_to_the_team,o=t?.usersPermissionsUsers?.data[0]?.attributes?.player?.data?.attributes?.Options?.friend_requests,p=t?.usersPermissionsUsers?.data[0]?.attributes?.player?.data?.attributes?.Options?.allow_only_friends_invit_to_team,m=t?.usersPermissionsUsers?.data[0]?.attributes?.player?.data?.attributes?.Options?.selected_language?.data?.attributes?.name,f=t?.usersPermissionsUsers?.data[0]?.attributes?.player?.data?.attributes?.Options?.selected_country?.data?.attributes?.name,g=t?.usersPermissionsUsers?.data[0]?.attributes?.player?.data?.attributes?.Options?.selected_country?.data?.attributes?.flag.data?.attributes?.url;a("#new-platform").prop("checked",e),a("#new-tournaments").prop("checked",d),a("#messages").prop("checked",r),a("#team").prop("checked",i),a("#friend").prop("checked",o),a("#friends-invit").prop("checked",p),a(".setting__lang-current").text(m),a("#country").text(f),a(".setting__lang-img").attr("src",g)}catch(t){console.error("Error fetching user settings:",t)}}v();function S(t){n.data.Options.news_of_the_platform=t,s()}function P(t){n.data.Options.new_tournaments=t,s()}function T(t){n.data.Options.incoming_messages=t,s()}function C(t){n.data.Options.invitations_to_the_team=t,s()}function x(t){n.data.Options.friend_requests=t,s()}function q(t){n.data.Options.allow_only_friends_invit_to_team=t,s()}a("#new-platform").on("click",function(t){const e=t.target;S(e.checked)});a("#new-tournaments").on("click",function(t){const e=t.target;P(e.checked)});a("#messages").on("click",function(t){const e=t.target;T(e.checked)});a("#team").on("click",function(t){const e=t.target;C(e.checked)});a("#friend").on("click",function(t){const e=t.target;x(e.checked)});a("#friends-invit").on("click",function(t){const e=t.target;q(e.checked)});
