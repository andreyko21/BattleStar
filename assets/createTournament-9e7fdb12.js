import{$ as y,c as Mt,g as St}from"./jquery-e7e79cb6.js";import{S as Tt,y as xt,r as ut,e as Ft,z as Vt,g as mt,H as Et}from"./header-2683a784.js";import{J as Ht}from"./just-validate.es-936cb47b.js";import{A as It}from"./sidebar-242dd08d.js";const Lt="/assets/prelouder-b7a6239e.gif";class At{$container;$preloader;constructor(d){if(this.$container=y(`#${d}`),this.$preloader=y(`<div id="preloader"><img src="${Lt}" alt="Loading..."></div>`),this.$container.length===0)throw new Error(`Container with id #${d} not found.`);this.init()}init(){this.$container.append(this.$preloader),this.hide()}show(){this.$preloader.show()}hide(){this.$preloader.hide()}}class Ot{$container;title;description;buttonText;constructor(d,c,p,l){if(this.$container=y(`#${d}`),this.title=c,this.description=p,this.buttonText=l,this.$container.length===0)throw new Error(`Container with id #${d} not found.`);this.render()}render(){const d=`
      <div class="tournament-sidebar">
        <div class="tournament-sidebar__info-block">
          <h2 class="tournament-sidebar__info-block-title">${this.title}</h2>
          <p class="tournament-sidebar__info-block-description">${this.description}</p>
          <button class="tournament-sidebar__info-block-button">${this.buttonText}</button>
        </div>
      </div>
    `;this.$container.append(d)}}class Nt{$container;options;selectedMapIds;constructor(d,c){if(this.$container=y(`#${d}`),this.options=c,this.selectedMapIds=[],this.$container.length===0)throw new Error(`Container with id #${d} not found.`);this.render(),this.attachEventListeners()}render(){const c=`
      <div class="tournament-maps">
        <h2 class="tournament-maps__title tournament-title-h2">
          Выберите карты турнира:
        </h2>
        <div class="tournament-maps__checkboxes" id="tournament-maps__checkboxes">
          ${this.options.map(p=>`
          <input id="map-${p.id}" name="map" type="checkbox" class="tournament-checkbox-input" value="${p.value}" data-id="${p.id}" />
          <label class="tournament-checkbox-label" for="map-${p.id}">
            ${p.imgSrc?`<img src="${p.imgSrc}" alt="${p.label}" class="tournament-map-image">`:""}
            ${p.label}
          </label>
        `).join("")}
        </div>
        <div id="error" class="error"></div>
      </div>
    `;this.$container.append(c)}attachEventListeners(){this.$container.on("change",".tournament-checkbox-input",d=>{const c=y(d.target),p=c.data("id");c.is(":checked")?this.selectedMapIds.push(p):this.selectedMapIds=this.selectedMapIds.filter(l=>l!==p)})}getSelectedMapIds(){return this.selectedMapIds}}const Pt="/assets/international-a484802c.png";class ht{$container;placeholder;inputType;inputId;inputName;constructor(d,c,p="text",l,_){if(this.$container=y(`#${d}`),this.placeholder=c,this.inputType=p,this.inputId=l,this.inputName=_,this.$container.length===0)throw new Error(`Container with id #${d} not found.`);this.render()}render(){const d=`
      <div id="${this.inputId}-container">
        <input class="tournament-input" type="${this.inputType}" id="${this.inputId}" name="${this.inputName}" placeholder="${this.placeholder}" />
        <div class="${this.inputId}-error"></div>
      </div>
    `;this.$container.append(d)}getValue(){return this.$container.find(`#${this.inputId}`).val()}}class Rt{$container;$image;imageUrl;altText;formData;constructor(d,c,p=""){if(this.$container=y(`#${d}`),this.imageUrl=c,this.altText=p,this.formData=new FormData,this.$container.length===0)throw new Error(`Container with id #${d} not found.`);this.initialize()}initialize(){this.renderBanner(),this.attachEventListeners()}renderBanner(){const d=`
      <div class="tournament-banner">
        <img class="tournament-banner__img" src="${this.imageUrl}" alt="${this.altText}" />
        <label class="tournament-banner__button" for="loadBanner">
          <input id="loadBanner" type="file" style="display: none;" />
          <svg class="tournament-banner__button-svg">
            <use xlink:href="${Tt}#image"></use>
          </svg>
          Изменить
        </label>
      </div>
    `;this.$container.html(d),this.$image=this.$container.find(".tournament-banner__img")}attachEventListeners(){this.$container.find("#loadBanner").on("change",this.handleFileChange.bind(this))}handleFileChange(d){const c=d.target,p=c.files?c.files[0]:null;if(p&&this.isValidImageType(p)){const l=new FileReader;l.onload=()=>{const _=l.result;this.updateImage(_)},l.readAsDataURL(p),this.formData.delete("image"),this.formData.append("image",p)}else alert("Недопустимий формат файлу. Будь ласка, виберіть JPEG або PNG.")}isValidImageType(d){return["image/jpeg","image/png"].includes(d.type)}updateImage(d){this.imageUrl=d,this.$image.attr("src",this.imageUrl)}getFormData(){return this.formData}}class Bt{$container;options;constructor(d,c){if(this.$container=y(`#${d}`),this.options=c,this.$container.length===0)throw new Error(`Container with id #${d} not found.`);this.render()}render(){const c=`
      <div class="tournament-numbers-teams">
        <h2 class="tournament-numbers-teams__title tournament-title-h2">
          Количество команд
        </h2>
        <p class="tournament-numbers-teams__description tournament-description">
          Равным образом реализация намеченных плановых заданий способствует подготовки и реализации соответствующий условий активизации.
        </p>
        <div class="tournament-numbers-teams__buttons" id="tournament-numbers-teams__buttons">
          ${this.options.map((p,l)=>`
          <input id="numbersTeams${l+1}" name="numbersTeams" type="radio" class="tournament-radio-input" value="${p}" />
          <label class="tournament-radio-label" for="numbersTeams${l+1}">
            ${p}
          </label>
        `).join("")}
        </div>
        <div class="tournament-numbers-teams-error" id="tournament-numbers-teams-error">
        </div>
      </div>
    `;this.$container.append(c)}getSelectedValue(){const d=this.$container.find("input[name='numbersTeams']:checked").val();return d?parseInt(d,10):null}}class jt{$container;options;constructor(d,c){if(this.$container=y(`#${d}`),this.options=c,this.$container.length===0)throw new Error(`Container with id #${d} not found.`);this.render(),this.attachEventHandlers()}render(){const c=`
      <div class="tournament-entry-rate">
        <h2 class="tournament-entry-rate__title tournament-title-h2">
          Ставка входа
        </h2>
        <p class="tournament-entry-rate__description tournament-description">
          Равным образом реализация намеченных плановых заданий способствует подготовки и реализации соответствующий условий активизации.
        </p>
        <div class="tournament-entry-rate__controls">
          <div class="tournament-entry-rate__buttons">
            ${this.options.map((p,l)=>`
          <input id="entryRate${l+1}" name="entryRate" type="radio" class="tournament-radio-input" value="${p.value}" />
          <label class="tournament-radio-label" for="entryRate${l+1}">
            ${p.label}
          </label>
        `).join("")}
          </div>
          <div class="tournament-entry-rate__line"></div>
          <input
            class="tournament-entry-rate__input"
            type="text"
            id="tournamentEntryRateInput"
            name="tournamentEntryRateInput"
            placeholder="Введите свое значение.."
          />
        </div>
      </div>
    `;this.$container.append(c)}attachEventHandlers(){const d=this.$container.find(".tournament-entry-rate__input"),c=6;this.$container.find(".tournament-entry-rate__buttons").find(".tournament-radio-input").on("change",()=>{d.val("")}),d.on("input",p=>{const l=y(p.currentTarget);let _=l.val();_=_.replace(/[^0-9]/g,"").substring(0,c),l.val(_),_&&this.$container.find(".tournament-entry-rate__buttons").find(".tournament-radio-input").prop("checked",!1)})}getSelectedValue(){const d=this.$container.find("input[name='entryRate']:checked").val(),c=this.$container.find("#tournamentEntryRateInput").val();return d||c}}var pt={exports:{}};(function(f,d){(function(c,p){f.exports=p()})(Mt,function(){return function(){var c={d:function(o,t){for(var i in t)c.o(t,i)&&!c.o(o,i)&&Object.defineProperty(o,i,{enumerable:!0,get:t[i]})},o:function(o,t){return Object.prototype.hasOwnProperty.call(o,t)}},p={};c.d(p,{default:function(){return L}});var l={days:"days",months:"months",years:"years",day:"day",month:"month",year:"year",eventChangeViewDate:"changeViewDate",eventChangeCurrentView:"changeCurrentView",eventChangeFocusDate:"changeFocusDate",eventChangeSelectedDate:"changeSelectedDate",eventChangeTime:"changeTime",eventChangeLastSelectedDate:"changeLastSelectedDate",actionSelectDate:"selectDate",actionUnselectDate:"unselectDate",cssClassWeekend:"-weekend-"},_={classes:"",inline:!1,locale:{days:["Воскресенье","Понедельник","Вторник","Среда","Четверг","Пятница","Суббота"],daysShort:["Вос","Пон","Вто","Сре","Чет","Пят","Суб"],daysMin:["Вс","Пн","Вт","Ср","Чт","Пт","Сб"],months:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],monthsShort:["Янв","Фев","Мар","Апр","Май","Июн","Июл","Авг","Сен","Окт","Ноя","Дек"],today:"Сегодня",clear:"Очистить",dateFormat:"dd.MM.yyyy",timeFormat:"HH:mm",firstDay:1},startDate:new Date,firstDay:"",weekends:[6,0],dateFormat:"",altField:"",altFieldDateFormat:"T",toggleSelected:!0,keyboardNav:!0,selectedDates:!1,container:"",isMobile:!1,visible:!1,position:"bottom left",offset:12,view:l.days,minView:l.days,showOtherMonths:!0,selectOtherMonths:!0,moveToOtherMonthsOnSelect:!0,showOtherYears:!0,selectOtherYears:!0,moveToOtherYearsOnSelect:!0,minDate:"",maxDate:"",disableNavWhenOutOfRange:!0,multipleDates:!1,multipleDatesSeparator:", ",range:!1,dynamicRange:!0,buttons:!1,monthsField:"monthsShort",showEvent:"focus",autoClose:!1,prevHtml:'<svg><path d="M 17,12 l -5,5 l 5,5"></path></svg>',nextHtml:'<svg><path d="M 14,12 l 5,5 l -5,5"></path></svg>',navTitles:{days:"MMMM, <i>yyyy</i>",months:"yyyy",years:"yyyy1 - yyyy2"},timepicker:!1,onlyTimepicker:!1,dateTimeSeparator:" ",timeFormat:"",minHours:0,maxHours:24,minMinutes:0,maxMinutes:59,hoursStep:1,minutesStep:1,onSelect:!1,onChangeViewDate:!1,onChangeView:!1,onRenderCell:!1,onShow:!1,onHide:!1,onClickDayName:!1};function $(o){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:document;return typeof o=="string"?t.querySelector(o):o}function k(){let{tagName:o="div",className:t="",innerHtml:i="",id:e="",attrs:n={}}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=document.createElement(o);return t&&a.classList.add(...t.split(" ")),e&&(a.id=e),i&&(a.innerHTML=i),n&&V(a,n),a}function V(o,t){for(let[i,e]of Object.entries(t))e!==void 0&&o.setAttribute(i,e);return o}function W(o){return new Date(o.getFullYear(),o.getMonth()+1,0).getDate()}function D(o){let t=o.getHours(),{hours:i,dayPeriod:e}=rt(t);return{year:o.getFullYear(),month:o.getMonth(),fullMonth:o.getMonth()+1<10?"0"+(o.getMonth()+1):o.getMonth()+1,date:o.getDate(),fullDate:o.getDate()<10?"0"+o.getDate():o.getDate(),day:o.getDay(),hours:t,fullHours:K(t),hours12:i,dayPeriod:e,fullHours12:K(i),minutes:o.getMinutes(),fullMinutes:o.getMinutes()<10?"0"+o.getMinutes():o.getMinutes()}}function rt(o){return{dayPeriod:o>11?"pm":"am",hours:o%12==0?12:o%12}}function K(o){return o<10?"0"+o:o}function N(o){let t=10*Math.floor(o.getFullYear()/10);return[t,t+9]}function E(){let o=[];for(var t=arguments.length,i=new Array(t),e=0;e<t;e++)i[e]=arguments[e];return i.forEach(n=>{if(typeof n=="object")for(let a in n)n[a]&&o.push(a);else n&&o.push(n)}),o.join(" ")}function C(o,t){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:l.days;if(!o||!t)return!1;let e=D(o),n=D(t);return{[l.days]:e.date===n.date&&e.month===n.month&&e.year===n.year,[l.months]:e.month===n.month&&e.year===n.year,[l.years]:e.year===n.year}[i]}function H(o,t,i){let e=it(o,!1).getTime(),n=it(t,!1).getTime();return i?e>=n:e>n}function z(o,t){return!H(o,t,!0)}function it(o){let t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],i=new Date(o.getTime());return typeof t!="boolean"||t||function(e){e.setHours(0,0,0,0)}(i),i}function S(o,t,i){o.length?o.forEach(e=>{e.addEventListener(t,i)}):o.addEventListener(t,i)}function J(o,t){return!(!o||o===document||o instanceof DocumentFragment)&&(o.matches(t)?o:J(o.parentNode,t))}function Y(o,t,i){return o>i?i:o<t?t:o}function Q(o){for(var t=arguments.length,i=new Array(t>1?t-1:0),e=1;e<t;e++)i[e-1]=arguments[e];return i.filter(n=>n).forEach(n=>{for(let[a,s]of Object.entries(n))if(s!==void 0&&s.toString()==="[object Object]"){let r=o[a]!==void 0?o[a].toString():void 0,h=s.toString(),u=Array.isArray(s)?[]:{};o[a]=o[a]?r!==h?u:o[a]:u,Q(o[a],s)}else o[a]=s}),o}function F(o){let t=o;return o instanceof Date||(t=new Date(o)),isNaN(t.getTime())&&(console.log(`Unable to convert value "${o}" to Date object`),t=!1),t}function st(o){let t="\\s|\\.|-|/|\\\\|,|\\$|\\!|\\?|:|;";return new RegExp("(^|>|"+t+")("+o+")($|<|"+t+")","g")}function P(o,t,i){return(t=function(e){var n=function(a,s){if(typeof a!="object"||a===null)return a;var r=a[Symbol.toPrimitive];if(r!==void 0){var h=r.call(a,"string");if(typeof h!="object")return h;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(a)}(e);return typeof n=="symbol"?n:String(n)}(t))in o?Object.defineProperty(o,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):o[t]=i,o}class bt{constructor(){let{type:t,date:i,dp:e,opts:n,body:a}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};P(this,"focus",()=>{this.$cell.classList.add("-focus-"),this.focused=!0}),P(this,"removeFocus",()=>{this.$cell.classList.remove("-focus-"),this.focused=!1}),P(this,"select",()=>{this.$cell.classList.add("-selected-"),this.selected=!0}),P(this,"removeSelect",()=>{this.$cell.classList.remove("-selected-","-range-from-","-range-to-"),this.selected=!1}),P(this,"onChangeSelectedDate",()=>{this.isDisabled||(this._handleSelectedStatus(),this.opts.range&&this._handleRangeStatus())}),P(this,"onChangeFocusDate",s=>{if(!s)return void(this.focused&&this.removeFocus());let r=C(s,this.date,this.type);r?this.focus():!r&&this.focused&&this.removeFocus(),this.opts.range&&this._handleRangeStatus()}),P(this,"render",()=>(this.$cell.innerHTML=this._getHtml(),this.$cell.adpCell=this,this.$cell)),this.type=t,this.singleType=this.type.slice(0,-1),this.date=i,this.dp=e,this.opts=n,this.body=a,this.customData=!1,this.init()}init(){let{range:t,onRenderCell:i}=this.opts;i&&(this.customData=i({date:this.date,cellType:this.singleType,datepicker:this.dp})),this._createElement(),this._bindDatepickerEvents(),this._handleInitialFocusStatus(),this.dp.hasSelectedDates&&(this._handleSelectedStatus(),t&&this._handleRangeStatus())}_bindDatepickerEvents(){this.dp.on(l.eventChangeSelectedDate,this.onChangeSelectedDate),this.dp.on(l.eventChangeFocusDate,this.onChangeFocusDate)}unbindDatepickerEvents(){this.dp.off(l.eventChangeSelectedDate,this.onChangeSelectedDate),this.dp.off(l.eventChangeFocusDate,this.onChangeFocusDate)}_createElement(){var t;let{year:i,month:e,date:n}=D(this.date),a=((t=this.customData)===null||t===void 0?void 0:t.attrs)||{};this.$cell=k({className:this._getClassName(),attrs:{"data-year":i,"data-month":e,"data-date":n,...a}})}_getClassName(){var t,i;let e=new Date,{selectOtherMonths:n,selectOtherYears:a}=this.opts,{minDate:s,maxDate:r}=this.dp,{day:h}=D(this.date),u=this._isOutOfMinMaxRange(),m=(t=this.customData)===null||t===void 0?void 0:t.disabled,g=E("air-datepicker-cell",`-${this.singleType}-`,{"-current-":C(e,this.date,this.type),"-min-date-":s&&C(s,this.date,this.type),"-max-date-":r&&C(r,this.date,this.type)}),v="";switch(this.type){case l.days:v=E({"-weekend-":this.dp.isWeekend(h),"-other-month-":this.isOtherMonth,"-disabled-":this.isOtherMonth&&!n||u||m});break;case l.months:v=E({"-disabled-":u||m});break;case l.years:v=E({"-other-decade-":this.isOtherDecade,"-disabled-":u||this.isOtherDecade&&!a||m})}return E(g,v,(i=this.customData)===null||i===void 0?void 0:i.classes)}_getHtml(){var t;let{year:i,month:e,date:n}=D(this.date),{showOtherMonths:a,showOtherYears:s}=this.opts;if((t=this.customData)!==null&&t!==void 0&&t.html)return this.customData.html;switch(this.type){case l.days:return!a&&this.isOtherMonth?"":n;case l.months:return this.dp.locale[this.opts.monthsField][e];case l.years:return!s&&this.isOtherDecade?"":i}}_isOutOfMinMaxRange(){let{minDate:t,maxDate:i}=this.dp,{type:e,date:n}=this,{month:a,year:s,date:r}=D(n),h=e===l.days,u=e===l.years,m=!!t&&new Date(s,u?t.getMonth():a,h?r:t.getDate()),g=!!i&&new Date(s,u?i.getMonth():a,h?r:i.getDate());return t&&i?z(m,t)||H(g,i):t?z(m,t):i?H(g,i):void 0}destroy(){this.unbindDatepickerEvents()}_handleRangeStatus(){let{rangeDateFrom:t,rangeDateTo:i}=this.dp,e=E({"-in-range-":t&&i&&(n=this.date,a=t,s=i,H(n,a)&&z(n,s)),"-range-from-":t&&C(this.date,t,this.type),"-range-to-":i&&C(this.date,i,this.type)});var n,a,s;this.$cell.classList.remove("-range-from-","-range-to-","-in-range-"),e&&this.$cell.classList.add(...e.split(" "))}_handleSelectedStatus(){let t=this.dp._checkIfDateIsSelected(this.date,this.type);t?this.select():!t&&this.selected&&this.removeSelect()}_handleInitialFocusStatus(){C(this.dp.focusDate,this.date,this.type)&&this.focus()}get isDisabled(){return this.$cell.matches(".-disabled-")}get isOtherMonth(){return this.dp.isOtherMonth(this.date)}get isOtherDecade(){return this.dp.isOtherDecade(this.date)}}function T(o,t,i){return(t=function(e){var n=function(a,s){if(typeof a!="object"||a===null)return a;var r=a[Symbol.toPrimitive];if(r!==void 0){var h=r.call(a,"string");if(typeof h!="object")return h;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(a)}(e);return typeof n=="symbol"?n:String(n)}(t))in o?Object.defineProperty(o,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):o[t]=i,o}let yt={[l.days]:`<div class="air-datepicker-body--day-names"></div><div class="air-datepicker-body--cells -${l.days}-"></div>`,[l.months]:`<div class="air-datepicker-body--cells -${l.months}-"></div>`,[l.years]:`<div class="air-datepicker-body--cells -${l.years}-"></div>`};const X=".air-datepicker-cell";class O{constructor(t){let{dp:i,type:e,opts:n}=t;T(this,"handleClick",a=>{let s=a.target.closest(X).adpCell;if(s.isDisabled)return;if(!this.dp.isMinViewReached)return void this.dp.down();let r=this.dp._checkIfDateIsSelected(s.date,s.type);r?this.dp._handleAlreadySelectedDates(r,s.date):this.dp.selectDate(s.date)}),T(this,"handleDayNameClick",a=>{let s=a.target.getAttribute("data-day-index");this.opts.onClickDayName({dayIndex:Number(s),datepicker:this.dp})}),T(this,"onChangeCurrentView",a=>{a!==this.type?this.hide():(this.show(),this.render())}),T(this,"onMouseOverCell",a=>{let s=J(a.target,X);this.dp.setFocusDate(!!s&&s.adpCell.date)}),T(this,"onMouseOutCell",()=>{this.dp.setFocusDate(!1)}),T(this,"onClickBody",a=>{let{onClickDayName:s}=this.opts,r=a.target;r.closest(X)&&this.handleClick(a),s&&r.closest(".air-datepicker-body--day-name")&&this.handleDayNameClick(a)}),T(this,"onMouseDown",a=>{this.pressed=!0;let s=J(a.target,X),r=s&&s.adpCell;C(r.date,this.dp.rangeDateFrom)&&(this.rangeFromFocused=!0),C(r.date,this.dp.rangeDateTo)&&(this.rangeToFocused=!0)}),T(this,"onMouseMove",a=>{if(!this.pressed||!this.dp.isMinViewReached)return;a.preventDefault();let s=J(a.target,X),r=s&&s.adpCell,{selectedDates:h,rangeDateTo:u,rangeDateFrom:m}=this.dp;if(!r||r.isDisabled)return;let{date:g}=r;if(h.length===2){if(this.rangeFromFocused&&!H(g,u)){let{hours:v,minutes:w}=D(m);g.setHours(v),g.setMinutes(w),this.dp.rangeDateFrom=g,this.dp.replaceDate(m,g)}if(this.rangeToFocused&&!z(g,m)){let{hours:v,minutes:w}=D(u);g.setHours(v),g.setMinutes(w),this.dp.rangeDateTo=g,this.dp.replaceDate(u,g)}}}),T(this,"onMouseUp",()=>{this.pressed=!1,this.rangeFromFocused=!1,this.rangeToFocused=!1}),T(this,"onChangeViewDate",(a,s)=>{if(!this.isVisible)return;let r=N(a),h=N(s);switch(this.dp.currentView){case l.days:if(C(a,s,l.months))return;break;case l.months:if(C(a,s,l.years))return;break;case l.years:if(r[0]===h[0]&&r[1]===h[1])return}this.render()}),T(this,"render",()=>{this.destroyCells(),this._generateCells(),this.cells.forEach(a=>{this.$cells.appendChild(a.render())})}),this.dp=i,this.type=e,this.opts=n,this.cells=[],this.$el="",this.pressed=!1,this.isVisible=!0,this.init()}init(){this._buildBaseHtml(),this.type===l.days&&this.renderDayNames(),this.render(),this._bindEvents(),this._bindDatepickerEvents()}_bindEvents(){let{range:t,dynamicRange:i}=this.opts;S(this.$el,"mouseover",this.onMouseOverCell),S(this.$el,"mouseout",this.onMouseOutCell),S(this.$el,"click",this.onClickBody),t&&i&&(S(this.$el,"mousedown",this.onMouseDown),S(this.$el,"mousemove",this.onMouseMove),S(window.document,"mouseup",this.onMouseUp))}_bindDatepickerEvents(){this.dp.on(l.eventChangeViewDate,this.onChangeViewDate),this.dp.on(l.eventChangeCurrentView,this.onChangeCurrentView)}_buildBaseHtml(){this.$el=k({className:`air-datepicker-body -${this.type}-`,innerHtml:yt[this.type]}),this.$names=$(".air-datepicker-body--day-names",this.$el),this.$cells=$(".air-datepicker-body--cells",this.$el)}_getDayNamesHtml(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.dp.locale.firstDay,i="",e=this.dp.isWeekend,{onClickDayName:n}=this.opts,a=t,s=0;for(;s<7;){let r=a%7;i+=`<div class="${E("air-datepicker-body--day-name",{[l.cssClassWeekend]:e(r),"-clickable-":!!n})}" data-day-index='${r}'>${this.dp.locale.daysMin[r]}</div>`,s++,a++}return i}renderDayNames(){this.$names.innerHTML=this._getDayNamesHtml()}_generateCell(t){let{type:i,dp:e,opts:n}=this;return new bt({type:i,dp:e,opts:n,date:t,body:this})}_generateCells(){O.getDatesFunction(this.type)(this.dp,t=>{this.cells.push(this._generateCell(t))})}show(){this.isVisible=!0,this.$el.classList.remove("-hidden-")}hide(){this.isVisible=!1,this.$el.classList.add("-hidden-")}destroyCells(){this.cells.forEach(t=>t.destroy()),this.cells=[],this.$cells.innerHTML=""}destroy(){this.destroyCells(),this.dp.off(l.eventChangeViewDate,this.onChangeViewDate),this.dp.off(l.eventChangeCurrentView,this.onChangeCurrentView)}static getDaysDates(t,i){let{viewDate:e,locale:{firstDay:n}}=t,a=W(e),{year:s,month:r}=D(e),h=new Date(s,r,1),u=new Date(s,r,a),m=h.getDay()-n,g=6-u.getDay()+n;m=m<0?m+7:m,g=g>6?g-7:g;let v=function(A,tt){let{year:nt,month:et,date:Ct}=D(A);return new Date(nt,et,Ct-tt)}(h,m),w=a+m+g,x=v.getDate(),{year:M,month:Z}=D(v),U=0;const G=[];for(;U<w;){let A=new Date(M,Z,x+U);i&&i(A),G.push(A),U++}return G}static getMonthsDates(t,i){let{year:e}=t.parsedViewDate,n=0,a=[];for(;n<12;){const s=new Date(e,n);a.push(s),i&&i(s),n++}return a}static getYearsDates(t,i){let e=N(t.viewDate),n=e[0]-1,a=e[1]+1,s=n,r=[];for(;s<=a;){const h=new Date(s,0);r.push(h),i&&i(h),s++}return r}static getDatesFunction(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:l.days;return{[l.days]:O.getDaysDates,[l.months]:O.getMonthsDates,[l.years]:O.getYearsDates}[t]}}function R(o,t,i){return(t=function(e){var n=function(a,s){if(typeof a!="object"||a===null)return a;var r=a[Symbol.toPrimitive];if(r!==void 0){var h=r.call(a,"string");if(typeof h!="object")return h;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(a)}(e);return typeof n=="symbol"?n:String(n)}(t))in o?Object.defineProperty(o,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):o[t]=i,o}class Dt{constructor(t){let{dp:i,opts:e}=t;R(this,"onClickNav",n=>{let a=J(n.target,".air-datepicker-nav--action");if(!a)return;let s=a.dataset.action;this.dp[s]()}),R(this,"onChangeViewDate",()=>{this.render(),this._resetNavStatus(),this.handleNavStatus()}),R(this,"onChangeCurrentView",()=>{this.render(),this._resetNavStatus(),this.handleNavStatus()}),R(this,"onClickNavTitle",()=>{this.dp.isFinalView||this.dp.up()}),R(this,"update",()=>{let{prevHtml:n,nextHtml:a}=this.opts;this.$prev.innerHTML=n,this.$next.innerHTML=a,this._resetNavStatus(),this.render(),this.handleNavStatus()}),R(this,"renderDelay",()=>{setTimeout(this.render)}),R(this,"render",()=>{this.$title.innerHTML=this._getTitle(),function(n,a){for(let s in a)a[s]?n.classList.add(s):n.classList.remove(s)}(this.$title,{"-disabled-":this.dp.isFinalView})}),this.dp=i,this.opts=e,this.init()}init(){this._createElement(),this._buildBaseHtml(),this._defineDOM(),this.render(),this.handleNavStatus(),this._bindEvents(),this._bindDatepickerEvents()}_defineDOM(){this.$title=$(".air-datepicker-nav--title",this.$el),this.$prev=$('[data-action="prev"]',this.$el),this.$next=$('[data-action="next"]',this.$el)}_bindEvents(){this.$el.addEventListener("click",this.onClickNav),this.$title.addEventListener("click",this.onClickNavTitle)}_bindDatepickerEvents(){this.dp.on(l.eventChangeViewDate,this.onChangeViewDate),this.dp.on(l.eventChangeCurrentView,this.onChangeCurrentView),this.isNavIsFunction&&(this.dp.on(l.eventChangeSelectedDate,this.renderDelay),this.dp.opts.timepicker&&this.dp.on(l.eventChangeTime,this.render))}destroy(){this.dp.off(l.eventChangeViewDate,this.onChangeViewDate),this.dp.off(l.eventChangeCurrentView,this.onChangeCurrentView),this.isNavIsFunction&&(this.dp.off(l.eventChangeSelectedDate,this.renderDelay),this.dp.opts.timepicker&&this.dp.off(l.eventChangeTime,this.render))}_createElement(){this.$el=k({tagName:"nav",className:"air-datepicker-nav"})}_getTitle(){let{dp:t,opts:i}=this,e=i.navTitles[t.currentView];return typeof e=="function"?e(t):t.formatDate(t.viewDate,e)}handleNavStatus(){let{disableNavWhenOutOfRange:t}=this.opts,{minDate:i,maxDate:e}=this.dp;if(!i&&!e||!t)return;let{year:n,month:a}=this.dp.parsedViewDate,s=!!i&&D(i),r=!!e&&D(e);switch(this.dp.currentView){case l.days:i&&s.month>=a&&s.year>=n&&this._disableNav("prev"),e&&r.month<=a&&r.year<=n&&this._disableNav("next");break;case l.months:i&&s.year>=n&&this._disableNav("prev"),e&&r.year<=n&&this._disableNav("next");break;case l.years:{let h=N(this.dp.viewDate);i&&s.year>=h[0]&&this._disableNav("prev"),e&&r.year<=h[1]&&this._disableNav("next");break}}}_disableNav(t){$('[data-action="'+t+'"]',this.$el).classList.add("-disabled-")}_resetNavStatus(){(function(t){for(var i=arguments.length,e=new Array(i>1?i-1:0),n=1;n<i;n++)e[n-1]=arguments[n];t.length?t.forEach(a=>{a.classList.remove(...e)}):t.classList.remove(...e)})(this.$el.querySelectorAll(".air-datepicker-nav--action"),"-disabled-")}_buildBaseHtml(){let{prevHtml:t,nextHtml:i}=this.opts;this.$el.innerHTML=`<div class="air-datepicker-nav--action" data-action="prev">${t}</div><div class="air-datepicker-nav--title"></div><div class="air-datepicker-nav--action" data-action="next">${i}</div>`}get isNavIsFunction(){let{navTitles:t}=this.opts;return Object.keys(t).find(i=>typeof t[i]=="function")}}var ot={today:{content:o=>o.locale.today,onClick:o=>o.setViewDate(new Date)},clear:{content:o=>o.locale.clear,onClick:o=>o.clear()}};class wt{constructor(t){let{dp:i,opts:e}=t;this.dp=i,this.opts=e,this.init()}init(){this.createElement(),this.render()}createElement(){this.$el=k({className:"air-datepicker-buttons"})}destroy(){this.$el.parentNode.removeChild(this.$el)}clearHtml(){return this.$el.innerHTML="",this}generateButtons(){let{buttons:t}=this.opts;Array.isArray(t)||(t=[t]),t.forEach(i=>{let e=i;typeof i=="string"&&ot[i]&&(e=ot[i]);let n=this.createButton(e);e.onClick&&this.attachEventToButton(n,e.onClick),this.$el.appendChild(n)})}attachEventToButton(t,i){t.addEventListener("click",()=>{i(this.dp)})}createButton(t){let{content:i,className:e,tagName:n="button",attrs:a={}}=t;return k({tagName:n,innerHtml:`<span tabindex='-1'>${typeof i=="function"?i(this.dp):i}</span>`,className:E("air-datepicker-button",e),attrs:a})}render(){this.generateButtons()}}function B(o,t,i){return(t=function(e){var n=function(a,s){if(typeof a!="object"||a===null)return a;var r=a[Symbol.toPrimitive];if(r!==void 0){var h=r.call(a,"string");if(typeof h!="object")return h;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(a)}(e);return typeof n=="symbol"?n:String(n)}(t))in o?Object.defineProperty(o,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):o[t]=i,o}class $t{constructor(){let{opts:t,dp:i}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};B(this,"toggleTimepickerIsActive",n=>{this.dp.timepickerIsActive=n}),B(this,"onChangeSelectedDate",n=>{let{date:a,updateTime:s=!1}=n;a&&(this.setMinMaxTime(a),this.setCurrentTime(!!s&&a),this.addTimeToDate(a))}),B(this,"onChangeLastSelectedDate",n=>{n&&(this.setTime(n),this.render())}),B(this,"onChangeInputRange",n=>{let a=n.target;this[a.getAttribute("name")]=a.value,this.updateText(),this.dp.trigger(l.eventChangeTime,{hours:this.hours,minutes:this.minutes})}),B(this,"onMouseEnterLeave",n=>{let a=n.target.getAttribute("name"),s=this.$minutesText;a==="hours"&&(s=this.$hoursText),s.classList.toggle("-focus-")}),B(this,"onFocus",()=>{this.toggleTimepickerIsActive(!0)}),B(this,"onBlur",()=>{this.toggleTimepickerIsActive(!1)}),this.opts=t,this.dp=i;let{timeFormat:e}=this.dp.locale;e&&(e.match(st("h"))||e.match(st("hh")))&&(this.ampm=!0),this.init()}init(){this.setTime(this.dp.lastSelectedDate||this.dp.viewDate),this.createElement(),this.buildHtml(),this.defineDOM(),this.render(),this.bindDatepickerEvents(),this.bindDOMEvents()}bindDatepickerEvents(){this.dp.on(l.eventChangeSelectedDate,this.onChangeSelectedDate),this.dp.on(l.eventChangeLastSelectedDate,this.onChangeLastSelectedDate)}bindDOMEvents(){let t="input";navigator.userAgent.match(/trident/gi)&&(t="change"),S(this.$ranges,t,this.onChangeInputRange),S(this.$ranges,"mouseenter",this.onMouseEnterLeave),S(this.$ranges,"mouseleave",this.onMouseEnterLeave),S(this.$ranges,"focus",this.onFocus),S(this.$ranges,"mousedown",this.onFocus),S(this.$ranges,"blur",this.onBlur)}createElement(){this.$el=k({className:E("air-datepicker-time",{"-am-pm-":this.dp.ampm})})}destroy(){this.dp.off(l.eventChangeSelectedDate,this.onChangeSelectedDate),this.dp.off(l.eventChangeLastSelectedDate,this.onChangeLastSelectedDate),this.$el.parentNode.removeChild(this.$el)}buildHtml(){let{ampm:t,hours:i,displayHours:e,minutes:n,minHours:a,minMinutes:s,maxHours:r,maxMinutes:h,dayPeriod:u,opts:{hoursStep:m,minutesStep:g}}=this;this.$el.innerHTML=`<div class="air-datepicker-time--current">   <span class="air-datepicker-time--current-hours">${K(e)}</span>   <span class="air-datepicker-time--current-colon">:</span>   <span class="air-datepicker-time--current-minutes">${K(n)}</span>   `+(t?`<span class='air-datepicker-time--current-ampm'>${u}</span>`:"")+`</div><div class="air-datepicker-time--sliders">   <div class="air-datepicker-time--row">      <input type="range" name="hours" value="${i}" min="${a}" max="${r}" step="${m}"/>   </div>   <div class="air-datepicker-time--row">      <input type="range" name="minutes" value="${n}" min="${s}" max="${h}" step="${g}"/>   </div></div>`}defineDOM(){let t=i=>$(i,this.$el);this.$ranges=this.$el.querySelectorAll('[type="range"]'),this.$hours=t('[name="hours"]'),this.$minutes=t('[name="minutes"]'),this.$hoursText=t(".air-datepicker-time--current-hours"),this.$minutesText=t(".air-datepicker-time--current-minutes"),this.$ampm=t(".air-datepicker-time--current-ampm")}setTime(t){this.setMinMaxTime(t),this.setCurrentTime(t)}addTimeToDate(t){t&&(t.setHours(this.hours),t.setMinutes(this.minutes))}setMinMaxTime(t){if(this.setMinMaxTimeFromOptions(),t){let{minDate:i,maxDate:e}=this.dp;i&&C(t,i)&&this.setMinTimeFromMinDate(i),e&&C(t,e)&&this.setMaxTimeFromMaxDate(e)}}setCurrentTime(t){let{hours:i,minutes:e}=t?D(t):this;this.hours=Y(i,this.minHours,this.maxHours),this.minutes=Y(e,this.minMinutes,this.maxMinutes)}setMinMaxTimeFromOptions(){let{minHours:t,minMinutes:i,maxHours:e,maxMinutes:n}=this.opts;this.minHours=Y(t,0,23),this.minMinutes=Y(i,0,59),this.maxHours=Y(e,0,23),this.maxMinutes=Y(n,0,59)}setMinTimeFromMinDate(t){let{lastSelectedDate:i}=this.dp;this.minHours=t.getHours(),i&&i.getHours()>t.getHours()?this.minMinutes=this.opts.minMinutes:this.minMinutes=t.getMinutes()}setMaxTimeFromMaxDate(t){let{lastSelectedDate:i}=this.dp;this.maxHours=t.getHours(),i&&i.getHours()<t.getHours()?this.maxMinutes=this.opts.maxMinutes:this.maxMinutes=t.getMinutes()}updateSliders(){V(this.$hours,{min:this.minHours,max:this.maxHours}).value=this.hours,V(this.$minutes,{min:this.minMinutes,max:this.maxMinutes}).value=this.minutes}updateText(){this.$hoursText.innerHTML=K(this.displayHours),this.$minutesText.innerHTML=K(this.minutes),this.ampm&&(this.$ampm.innerHTML=this.dayPeriod)}set hours(t){this._hours=t;let{hours:i,dayPeriod:e}=rt(t);this.displayHours=this.ampm?i:t,this.dayPeriod=e}get hours(){return this._hours}render(){this.updateSliders(),this.updateText()}}function j(o,t,i){return(t=function(e){var n=function(a,s){if(typeof a!="object"||a===null)return a;var r=a[Symbol.toPrimitive];if(r!==void 0){var h=r.call(a,"string");if(typeof h!="object")return h;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(a)}(e);return typeof n=="symbol"?n:String(n)}(t))in o?Object.defineProperty(o,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):o[t]=i,o}class _t{constructor(t){let{dp:i,opts:e}=t;j(this,"pressedKeys",new Set),j(this,"hotKeys",new Map([[[["Control","ArrowRight"],["Control","ArrowUp"]],n=>n.month++],[[["Control","ArrowLeft"],["Control","ArrowDown"]],n=>n.month--],[[["Shift","ArrowRight"],["Shift","ArrowUp"]],n=>n.year++],[[["Shift","ArrowLeft"],["Shift","ArrowDown"]],n=>n.year--],[[["Alt","ArrowRight"],["Alt","ArrowUp"]],n=>n.year+=10],[[["Alt","ArrowLeft"],["Alt","ArrowDown"]],n=>n.year-=10],[["Control","Shift","ArrowUp"],(n,a)=>a.up()]])),j(this,"handleHotKey",n=>{let a=this.hotKeys.get(n),s=D(this.getInitialFocusDate());a(s,this.dp);let{year:r,month:h,date:u}=s,m=W(new Date(r,h));m<u&&(u=m);let g=this.dp.getClampedDate(new Date(r,h,u));this.dp.setFocusDate(g,{viewDateTransition:!0})}),j(this,"isHotKeyPressed",()=>{let n=!1,a=this.pressedKeys.size,s=r=>this.pressedKeys.has(r);for(let[r]of this.hotKeys){if(n)break;if(Array.isArray(r[0]))r.forEach(h=>{n||a!==h.length||(n=h.every(s)&&r)});else{if(a!==r.length)continue;n=r.every(s)&&r}}return n}),j(this,"isArrow",n=>n>=37&&n<=40),j(this,"onKeyDown",n=>{let{key:a,which:s}=n,{dp:r,dp:{focusDate:h},opts:u}=this;this.registerKey(a);let m=this.isHotKeyPressed();if(m)return n.preventDefault(),void this.handleHotKey(m);if(this.isArrow(s))return n.preventDefault(),void this.focusNextCell(a);if(a==="Enter"){if(r.currentView!==u.minView)return void r.down();if(h){let g=r._checkIfDateIsSelected(h);return void(g?r._handleAlreadySelectedDates(g,h):r.selectDate(h))}}a==="Escape"&&this.dp.hide()}),j(this,"onKeyUp",n=>{this.removeKey(n.key)}),this.dp=i,this.opts=e,this.init()}init(){this.bindKeyboardEvents()}bindKeyboardEvents(){let{$el:t}=this.dp;t.addEventListener("keydown",this.onKeyDown),t.addEventListener("keyup",this.onKeyUp)}destroy(){let{$el:t}=this.dp;t.removeEventListener("keydown",this.onKeyDown),t.removeEventListener("keyup",this.onKeyUp),this.hotKeys=null,this.pressedKeys=null}getInitialFocusDate(){let{focusDate:t,currentView:i,selectedDates:e,parsedViewDate:{year:n,month:a}}=this.dp,s=t||e[e.length-1];if(!s)switch(i){case l.days:s=new Date(n,a,new Date().getDate());break;case l.months:s=new Date(n,a,1);break;case l.years:s=new Date(n,0,1)}return s}focusNextCell(t){let i=this.getInitialFocusDate(),{currentView:e}=this.dp,{days:n,months:a,years:s}=l,r=D(i),h=r.year,u=r.month,m=r.date;switch(t){case"ArrowLeft":e===n&&(m-=1),e===a&&(u-=1),e===s&&(h-=1);break;case"ArrowUp":e===n&&(m-=7),e===a&&(u-=3),e===s&&(h-=4);break;case"ArrowRight":e===n&&(m+=1),e===a&&(u+=1),e===s&&(h+=1);break;case"ArrowDown":e===n&&(m+=7),e===a&&(u+=3),e===s&&(h+=4)}let g=this.dp.getClampedDate(new Date(h,u,m));this.dp.setFocusDate(g,{viewDateTransition:!0})}registerKey(t){this.pressedKeys.add(t)}removeKey(t){this.pressedKeys.delete(t)}}let kt={on(o,t){this.__events||(this.__events={}),this.__events[o]?this.__events[o].push(t):this.__events[o]=[t]},off(o,t){this.__events&&this.__events[o]&&(this.__events[o]=this.__events[o].filter(i=>i!==t))},removeAllEvents(){this.__events={}},trigger(o){for(var t=arguments.length,i=new Array(t>1?t-1:0),e=1;e<t;e++)i[e-1]=arguments[e];this.__events&&this.__events[o]&&this.__events[o].forEach(n=>{n(...i)})}};function b(o,t,i){return(t=function(e){var n=function(a,s){if(typeof a!="object"||a===null)return a;var r=a[Symbol.toPrimitive];if(r!==void 0){var h=r.call(a,"string");if(typeof h!="object")return h;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(a)}(e);return typeof n=="symbol"?n:String(n)}(t))in o?Object.defineProperty(o,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):o[t]=i,o}let q="",I="",at=!1;class L{static buildGlobalContainer(t){at=!0,q=k({className:t,id:t}),$("body").appendChild(q)}constructor(t,i){var e=this;if(b(this,"viewIndexes",[l.days,l.months,l.years]),b(this,"next",()=>{let{year:s,month:r}=this.parsedViewDate;switch(this.currentView){case l.days:this.setViewDate(new Date(s,r+1,1));break;case l.months:this.setViewDate(new Date(s+1,r,1));break;case l.years:this.setViewDate(new Date(s+10,0,1))}}),b(this,"prev",()=>{let{year:s,month:r}=this.parsedViewDate;switch(this.currentView){case l.days:this.setViewDate(new Date(s,r-1,1));break;case l.months:this.setViewDate(new Date(s-1,r,1));break;case l.years:this.setViewDate(new Date(s-10,0,1))}}),b(this,"_finishHide",()=>{this.hideAnimation=!1,this._destroyComponents(),this.$container.removeChild(this.$datepicker)}),b(this,"setPosition",function(s){let r=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(typeof(s=s||e.opts.position)=="function")return void(e.customHide=s({$datepicker:e.$datepicker,$target:e.$el,$pointer:e.$pointer,isViewChange:r,done:e._finishHide}));let h,u,{isMobile:m}=e.opts,g=e.$el.getBoundingClientRect(),v=e.$el.getBoundingClientRect(),w=e.$datepicker.offsetParent,x=e.$el.offsetParent,M=e.$datepicker.getBoundingClientRect(),Z=s.split(" "),U=window.scrollY,G=window.scrollX,A=e.opts.offset,tt=Z[0],nt=Z[1];if(m)e.$datepicker.style.cssText="left: 50%; top: 50%";else{if(w===x&&w!==document.body&&(v={top:e.$el.offsetTop,left:e.$el.offsetLeft,width:g.width,height:e.$el.offsetHeight},U=0,G=0),w!==x&&w!==document.body){let et=w.getBoundingClientRect();v={top:g.top-et.top,left:g.left-et.left,width:g.width,height:g.height},U=0,G=0}switch(tt){case"top":h=v.top-M.height-A;break;case"right":u=v.left+v.width+A;break;case"bottom":h=v.top+v.height+A;break;case"left":u=v.left-M.width-A}switch(nt){case"top":h=v.top;break;case"right":u=v.left+v.width-M.width;break;case"bottom":h=v.top+v.height-M.height;break;case"left":u=v.left;break;case"center":/left|right/.test(tt)?h=v.top+v.height/2-M.height/2:u=v.left+v.width/2-M.width/2}e.$datepicker.style.cssText=`left: ${u+G}px; top: ${h+U}px`}}),b(this,"_setInputValue",()=>{let{opts:s,$altField:r,locale:{dateFormat:h}}=this,{altFieldDateFormat:u,altField:m}=s;m&&r&&(r.value=this._getInputValue(u)),this.$el.value=this._getInputValue(h)}),b(this,"_getInputValue",s=>{let{selectedDates:r,opts:h}=this,{multipleDates:u,multipleDatesSeparator:m}=h;if(!r.length)return"";let g=typeof s=="function",v=g?s(u?r:r[0]):r.map(w=>this.formatDate(w,s));return v=g?v:v.join(m),v}),b(this,"_checkIfDateIsSelected",function(s){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:l.days,h=!1;return e.selectedDates.some(u=>{let m=C(s,u,r);return h=m&&u,m}),h}),b(this,"_scheduleCallAfterTransition",s=>{this._cancelScheduledCall(),s&&s(!1),this._onTransitionEnd=()=>{s&&s(!0)},this.$datepicker.addEventListener("transitionend",this._onTransitionEnd,{once:!0})}),b(this,"_cancelScheduledCall",()=>{this.$datepicker.removeEventListener("transitionend",this._onTransitionEnd)}),b(this,"setViewDate",s=>{if(!((s=F(s))instanceof Date)||C(s,this.viewDate))return;let r=this.viewDate;this.viewDate=s;let{onChangeViewDate:h}=this.opts;if(h){let{month:u,year:m}=this.parsedViewDate;h({month:u,year:m,decade:this.curDecade})}this.trigger(l.eventChangeViewDate,s,r)}),b(this,"setFocusDate",function(s){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};(!s||(s=F(s))instanceof Date)&&(e.focusDate=s,e.opts.range&&s&&e._handleRangeOnFocus(),e.trigger(l.eventChangeFocusDate,s,r))}),b(this,"setCurrentView",s=>{if(this.viewIndexes.includes(s)){if(this.currentView=s,this.elIsInput&&this.visible&&this.setPosition(void 0,!0),this.trigger(l.eventChangeCurrentView,s),!this.views[s]){let r=this.views[s]=new O({dp:this,opts:this.opts,type:s});this.shouldUpdateDOM&&this.$content.appendChild(r.$el)}this.opts.onChangeView&&this.opts.onChangeView(s)}}),b(this,"_updateLastSelectedDate",s=>{this.lastSelectedDate=s,this.trigger(l.eventChangeLastSelectedDate,s)}),b(this,"destroy",()=>{let{showEvent:s,isMobile:r}=this.opts,h=this.$datepicker.parentNode;h&&h.removeChild(this.$datepicker),this.$el.removeEventListener(s,this._onFocus),this.$el.removeEventListener("blur",this._onBlur),window.removeEventListener("resize",this._onResize),r&&this._removeMobileAttributes(),this.keyboardNav&&this.keyboardNav.destroy(),this.views=null,this.nav=null,this.$datepicker=null,this.opts=null,this.$customContainer=null,this.viewDate=null,this.focusDate=null,this.selectedDates=null,this.rangeDateFrom=null,this.rangeDateTo=null}),b(this,"update",function(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=Q({},e.opts);Q(e.opts,s);let{timepicker:h,buttons:u,range:m,selectedDates:g,isMobile:v}=e.opts,w=e.visible||e.treatAsInline;e._createMinMaxDates(),e._limitViewDateByMaxMinDates(),e._handleLocale(),!r.selectedDates&&g&&e.selectDate(g),s.view&&e.setCurrentView(s.view),e._setInputValue(),r.range&&!m?(e.rangeDateTo=!1,e.rangeDateFrom=!1):!r.range&&m&&e.selectedDates.length&&(e.rangeDateFrom=e.selectedDates[0],e.rangeDateTo=e.selectedDates[1]),r.timepicker&&!h?(w&&e.timepicker.destroy(),e.timepicker=!1,e.$timepicker.parentNode.removeChild(e.$timepicker)):!r.timepicker&&h&&e._addTimepicker(),!r.buttons&&u?e._addButtons():r.buttons&&!u?(e.buttons.destroy(),e.$buttons.parentNode.removeChild(e.$buttons)):w&&r.buttons&&u&&e.buttons.clearHtml().render(),!r.isMobile&&v?(e.treatAsInline||I||e._createMobileOverlay(),e._addMobileAttributes(),e.visible&&e._showMobileOverlay()):r.isMobile&&!v&&(e._removeMobileAttributes(),e.visible&&(I.classList.remove("-active-"),typeof e.opts.position!="function"&&e.setPosition())),w&&(e.nav.update(),e.views[e.currentView].render(),e.currentView===l.days&&e.views[e.currentView].renderDayNames())}),b(this,"isOtherMonth",s=>{let{month:r}=D(s);return r!==this.parsedViewDate.month}),b(this,"isOtherYear",s=>{let{year:r}=D(s);return r!==this.parsedViewDate.year}),b(this,"isOtherDecade",s=>{let{year:r}=D(s),[h,u]=N(this.viewDate);return r<h||r>u}),b(this,"_onChangeSelectedDate",s=>{let{silent:r}=s;setTimeout(()=>{this._setInputValue(),this.opts.onSelect&&!r&&this._triggerOnSelect()})}),b(this,"_onChangeFocusedDate",function(s){let{viewDateTransition:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!s)return;let h=!1;r&&(h=e.isOtherMonth(s)||e.isOtherYear(s)||e.isOtherDecade(s)),h&&e.setViewDate(s),e.opts.onFocus&&e.opts.onFocus({datepicker:e,date:s})}),b(this,"_onChangeTime",s=>{let{hours:r,minutes:h}=s,u=new Date,{lastSelectedDate:m,opts:{onSelect:g}}=this,v=m;m||(v=u);let w=this.getCell(v,this.currentViewSingular),x=w&&w.adpCell;x&&x.isDisabled||(v.setHours(r),v.setMinutes(h),m?(this._setInputValue(),g&&this._triggerOnSelect()):this.selectDate(v))}),b(this,"_onFocus",s=>{this.visible||this.show()}),b(this,"_onBlur",s=>{this.inFocus||!this.visible||this.opts.isMobile||this.hide()}),b(this,"_onMouseDown",s=>{this.inFocus=!0}),b(this,"_onMouseUp",s=>{this.inFocus=!1,this.$el.focus()}),b(this,"_onResize",()=>{this.visible&&typeof this.opts.position!="function"&&this.setPosition()}),b(this,"_onClickOverlay",()=>{this.visible&&this.hide()}),b(this,"getViewDates",function(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:l.days;return O.getDatesFunction(s)(e)}),b(this,"isWeekend",s=>this.opts.weekends.includes(s)),b(this,"getClampedDate",s=>{let{minDate:r,maxDate:h}=this,u=s;return h&&H(s,h)?u=h:r&&z(s,r)&&(u=r),u}),this.$el=$(t),!this.$el)return;this.$datepicker=k({className:"air-datepicker"}),this.opts=Q({},_,i),this.$customContainer=!!this.opts.container&&$(this.opts.container),this.$altField=$(this.opts.altField||!1);let{view:n,startDate:a}=this.opts;a||(this.opts.startDate=new Date),this.$el.nodeName==="INPUT"&&(this.elIsInput=!0),this.inited=!1,this.visible=!1,this.viewDate=F(this.opts.startDate),this.focusDate=!1,this.initialReadonly=this.$el.getAttribute("readonly"),this.customHide=!1,this.currentView=n,this.selectedDates=[],this.views={},this.keys=[],this.rangeDateFrom="",this.rangeDateTo="",this.timepickerIsActive=!1,this.treatAsInline=this.opts.inline||!this.elIsInput,this.init()}init(){let{opts:t,treatAsInline:i,opts:{inline:e,isMobile:n,selectedDates:a,keyboardNav:s,onlyTimepicker:r}}=this,h=$("body");(!at||at&&q&&!h.contains(q))&&!e&&this.elIsInput&&!this.$customContainer&&L.buildGlobalContainer(L.defaultGlobalContainerId),!n||I||i||this._createMobileOverlay(),this._handleLocale(),this._bindSubEvents(),this._createMinMaxDates(),this._limitViewDateByMaxMinDates(),this.elIsInput&&(e||this._bindEvents(),s&&!r&&(this.keyboardNav=new _t({dp:this,opts:t}))),a&&this.selectDate(a,{silent:!0}),this.opts.visible&&!i&&this.show(),n&&!i&&this.$el.setAttribute("readonly",!0),i&&this._createComponents()}_createMobileOverlay(){I=k({className:"air-datepicker-overlay"}),q.appendChild(I)}_createComponents(){let{opts:t,treatAsInline:i,opts:{inline:e,buttons:n,timepicker:a,position:s,classes:r,onlyTimepicker:h,isMobile:u}}=this;this._buildBaseHtml(),this.elIsInput&&(e||this._setPositionClasses(s)),!e&&this.elIsInput||this.$datepicker.classList.add("-inline-"),r&&this.$datepicker.classList.add(...r.split(" ")),h&&this.$datepicker.classList.add("-only-timepicker-"),u&&!i&&this._addMobileAttributes(),this.views[this.currentView]=new O({dp:this,type:this.currentView,opts:t}),this.nav=new Dt({dp:this,opts:t}),a&&this._addTimepicker(),n&&this._addButtons(),this.$content.appendChild(this.views[this.currentView].$el),this.$nav.appendChild(this.nav.$el)}_destroyComponents(){for(let t in this.views)this.views[t].destroy();this.views={},this.nav.destroy(),this.timepicker&&this.timepicker.destroy()}_addMobileAttributes(){I.addEventListener("click",this._onClickOverlay),this.$datepicker.classList.add("-is-mobile-"),this.$el.setAttribute("readonly",!0)}_removeMobileAttributes(){I.removeEventListener("click",this._onClickOverlay),this.$datepicker.classList.remove("-is-mobile-"),this.initialReadonly||this.initialReadonly===""||this.$el.removeAttribute("readonly")}_createMinMaxDates(){let{minDate:t,maxDate:i}=this.opts;this.minDate=!!t&&F(t),this.maxDate=!!i&&F(i)}_addTimepicker(){this.$timepicker=k({className:"air-datepicker--time"}),this.$datepicker.appendChild(this.$timepicker),this.timepicker=new $t({dp:this,opts:this.opts}),this.$timepicker.appendChild(this.timepicker.$el)}_addButtons(){this.$buttons=k({className:"air-datepicker--buttons"}),this.$datepicker.appendChild(this.$buttons),this.buttons=new wt({dp:this,opts:this.opts}),this.$buttons.appendChild(this.buttons.$el)}_bindSubEvents(){this.on(l.eventChangeSelectedDate,this._onChangeSelectedDate),this.on(l.eventChangeFocusDate,this._onChangeFocusedDate),this.on(l.eventChangeTime,this._onChangeTime)}_buildBaseHtml(){let{inline:t}=this.opts;var i,e;this.elIsInput?t?(i=this.$datepicker,(e=this.$el).parentNode.insertBefore(i,e.nextSibling)):this.$container.appendChild(this.$datepicker):this.$el.appendChild(this.$datepicker),this.$datepicker.innerHTML='<i class="air-datepicker--pointer"></i><div class="air-datepicker--navigation"></div><div class="air-datepicker--content"></div>',this.$content=$(".air-datepicker--content",this.$datepicker),this.$pointer=$(".air-datepicker--pointer",this.$datepicker),this.$nav=$(".air-datepicker--navigation",this.$datepicker)}_handleLocale(){let{locale:t,dateFormat:i,firstDay:e,timepicker:n,onlyTimepicker:a,timeFormat:s,dateTimeSeparator:r}=this.opts;var h;this.locale=(h=t,JSON.parse(JSON.stringify(h))),i&&(this.locale.dateFormat=i),s!==void 0&&s!==""&&(this.locale.timeFormat=s);let{timeFormat:u}=this.locale;if(e!==""&&(this.locale.firstDay=e),n&&typeof i!="function"){let m=u?r:"";this.locale.dateFormat=[this.locale.dateFormat,u||""].join(m)}a&&typeof i!="function"&&(this.locale.dateFormat=this.locale.timeFormat)}_setPositionClasses(t){if(typeof t=="function")return void this.$datepicker.classList.add("-custom-position-");let i=(t=t.split(" "))[0],e=`air-datepicker -${i}-${t[1]}- -from-${i}-`;this.$datepicker.classList.add(...e.split(" "))}_bindEvents(){this.$el.addEventListener(this.opts.showEvent,this._onFocus),this.$el.addEventListener("blur",this._onBlur),this.$datepicker.addEventListener("mousedown",this._onMouseDown),this.$datepicker.addEventListener("mouseup",this._onMouseUp),window.addEventListener("resize",this._onResize)}_limitViewDateByMaxMinDates(){let{viewDate:t,minDate:i,maxDate:e}=this;e&&H(t,e)&&this.setViewDate(e),i&&z(t,i)&&this.setViewDate(i)}formatDate(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.viewDate,i=arguments.length>1?arguments[1]:void 0;if(t=F(t),!(t instanceof Date))return;let e=i,n=this.locale,a=D(t),s=a.dayPeriod,r=N(t),h=L.replacer,u={T:t.getTime(),m:a.minutes,mm:a.fullMinutes,h:a.hours12,hh:a.fullHours12,H:a.hours,HH:a.fullHours,aa:s,AA:s.toUpperCase(),E:n.daysShort[a.day],EEEE:n.days[a.day],d:a.date,dd:a.fullDate,M:a.month+1,MM:a.fullMonth,MMM:n.monthsShort[a.month],MMMM:n.months[a.month],yy:a.year.toString().slice(-2),yyyy:a.year,yyyy1:r[0],yyyy2:r[1]};for(let[m,g]of Object.entries(u))e=h(e,st(m),g);return e}down(t){this._handleUpDownActions(t,"down")}up(t){this._handleUpDownActions(t,"up")}selectDate(t){let i,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{currentView:n,parsedViewDate:a,selectedDates:s}=this,{updateTime:r}=e,{moveToOtherMonthsOnSelect:h,moveToOtherYearsOnSelect:u,multipleDates:m,range:g,autoClose:v,onBeforeSelect:w}=this.opts,x=s.length;if(Array.isArray(t))return t.forEach(M=>{this.selectDate(M,e)}),new Promise(M=>{setTimeout(M)});if((t=F(t))instanceof Date){if(w&&!w({date:t,datepicker:this}))return Promise.resolve();if(n===l.days&&t.getMonth()!==a.month&&h&&(i=new Date(t.getFullYear(),t.getMonth(),1)),n===l.years&&t.getFullYear()!==a.year&&u&&(i=new Date(t.getFullYear(),0,1)),i&&this.setViewDate(i),m&&!g){if(x===m)return;this._checkIfDateIsSelected(t)||s.push(t)}else if(g)switch(x){case 1:s.push(t),this.rangeDateTo||(this.rangeDateTo=t),H(this.rangeDateFrom,this.rangeDateTo)&&(this.rangeDateTo=this.rangeDateFrom,this.rangeDateFrom=t),this.selectedDates=[this.rangeDateFrom,this.rangeDateTo];break;case 2:this.selectedDates=[t],this.rangeDateFrom=t,this.rangeDateTo="";break;default:this.selectedDates=[t],this.rangeDateFrom=t}else this.selectedDates=[t];return this.trigger(l.eventChangeSelectedDate,{action:l.actionSelectDate,silent:e?.silent,date:t,updateTime:r}),this._updateLastSelectedDate(t),v&&!this.timepickerIsActive&&this.visible&&(m||g?g&&x===1&&this.hide():this.hide()),new Promise(M=>{setTimeout(M)})}}unselectDate(t){let i=this.selectedDates,e=this;if((t=F(t))instanceof Date)return i.some((n,a)=>{if(C(n,t))return i.splice(a,1),e.selectedDates.length?e._updateLastSelectedDate(e.selectedDates[e.selectedDates.length-1]):(e.rangeDateFrom="",e.rangeDateTo="",e._updateLastSelectedDate(!1)),this.trigger(l.eventChangeSelectedDate,{action:l.actionUnselectDate,date:t}),!0})}replaceDate(t,i){let e=this.selectedDates.find(a=>C(a,t,this.currentView)),n=this.selectedDates.indexOf(e);n<0||C(this.selectedDates[n],i,this.currentView)||(this.selectedDates[n]=i,this.trigger(l.eventChangeSelectedDate,{action:l.actionSelectDate,date:i,updateTime:!0}),this._updateLastSelectedDate(i))}clear(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.selectedDates=[],this.rangeDateFrom=!1,this.rangeDateTo=!1,this.lastSelectedDate=!1,this.trigger(l.eventChangeSelectedDate,{action:l.actionUnselectDate,silent:t.silent}),new Promise(i=>{setTimeout(i)})}show(){let{onShow:t,isMobile:i}=this.opts;this._cancelScheduledCall(),this.visible||this.hideAnimation||this._createComponents(),this.setPosition(this.opts.position),this.$datepicker.classList.add("-active-"),this.visible=!0,t&&this._scheduleCallAfterTransition(t),i&&this._showMobileOverlay()}hide(){let{onHide:t,isMobile:i}=this.opts,e=this._hasTransition();this.visible=!1,this.hideAnimation=!0,this.$datepicker.classList.remove("-active-"),this.customHide&&this.customHide(),this.elIsInput&&this.$el.blur(),this._scheduleCallAfterTransition(n=>{!this.customHide&&(n&&e||!n&&!e)&&this._finishHide(),t&&t(n)}),i&&I.classList.remove("-active-")}_triggerOnSelect(){let t=[],i=[],{selectedDates:e,locale:n,opts:{onSelect:a,multipleDates:s,range:r}}=this,h=s||r,u=typeof n.dateFormat=="function";e.length&&(t=e.map(it),i=u?s?n.dateFormat(t):t.map(m=>n.dateFormat(m)):t.map(m=>this.formatDate(m,n.dateFormat))),a({date:h?t:t[0],formattedDate:h?i:i[0],datepicker:this})}_handleAlreadySelectedDates(t,i){const{range:e,toggleSelected:n}=this.opts;let a=typeof n=="function"?n({datepicker:this,date:i}):n;e&&(a||this.selectedDates.length!==2&&this.selectDate(i)),a?this.unselectDate(i):this._updateLastSelectedDate(t)}_handleUpDownActions(t,i){if(!((t=F(t||this.focusDate||this.viewDate))instanceof Date))return;let e=i==="up"?this.viewIndex+1:this.viewIndex-1;e>2&&(e=2),e<0&&(e=0),this.setViewDate(new Date(t.getFullYear(),t.getMonth(),1)),this.setCurrentView(this.viewIndexes[e])}_handleRangeOnFocus(){this.selectedDates.length===1&&(H(this.selectedDates[0],this.focusDate)?(this.rangeDateTo=this.selectedDates[0],this.rangeDateFrom=this.focusDate):(this.rangeDateTo=this.focusDate,this.rangeDateFrom=this.selectedDates[0]))}getCell(t){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:l.day;if(!((t=F(t))instanceof Date))return;let{year:e,month:n,date:a}=D(t),s=`[data-year="${e}"]`,r=`[data-month="${n}"]`,h={[l.day]:`${s}${r}[data-date="${a}"]`,[l.month]:`${s}${r}`,[l.year]:`${s}`};return this.views[this.currentView].$el.querySelector(h[i])}_showMobileOverlay(){I.classList.add("-active-")}_hasTransition(){return window.getComputedStyle(this.$datepicker).getPropertyValue("transition-duration").split(", ").reduce((t,i)=>parseFloat(i)+t,0)>0}get shouldUpdateDOM(){return this.visible||this.treatAsInline}get parsedViewDate(){return D(this.viewDate)}get currentViewSingular(){return this.currentView.slice(0,-1)}get curDecade(){return N(this.viewDate)}get viewIndex(){return this.viewIndexes.indexOf(this.currentView)}get isFinalView(){return this.currentView===l.years}get hasSelectedDates(){return this.selectedDates.length>0}get isMinViewReached(){return this.currentView===this.opts.minView||this.currentView===l.days}get $container(){return this.$customContainer||q}static replacer(t,i,e){return t.replace(i,function(n,a,s,r){return a+e+r})}}var lt;return b(L,"defaults",_),b(L,"version","3.4.0"),b(L,"defaultGlobalContainerId","air-datepicker-global-container"),lt=L.prototype,Object.assign(lt,kt),p.default}()})})(pt);var Ut=pt.exports;const Kt=St(Ut);class zt{$container;timeOptions;airDatepicker;constructor(d,c){if(this.$container=y(`#${d}`),this.timeOptions=c,this.$container.length===0)throw new Error(`Container with id #${d} not found.`);this.render()}render(){const c=`
      <div class="tournament-select-time">
        <h2 class="tournament-title-h2">
          Выберите дату и время проведения матчей
        </h2>
        <p class="tournament-select-time__description tournament-description">
          Равным образом реализация намеченных плановых заданий способствует подготовки и реализации соответствующий условий активизации.
        </p>
        <div class="tournament-select-time__controll">
          <div class="tournament-select-time__calendar" id="select-time-calendar"></div>
          <div class="tournament-select-time__line"></div>
          <div class="tournament-select-time__buttons">
            ${this.timeOptions.map((p,l)=>`
          <input id="selectTime${l+1}" name="selectTime" type="radio" class="tournament-radio-input" value="${p.value}" />
          <label class="tournament-radio-label" for="selectTime${l+1}">
            ${p.label}
          </label>
        `).join("")}
          </div>
        </div>
        <div class="tournament-select-time-error"></div>
      </div>
    `;this.$container.append(c),this.initializeCalendar()}initializeCalendar(){this.airDatepicker=new Kt("#select-time-calendar",{startDate:Date.now(),dateFormat:"MMMM",range:!0})}getStartDate(){const d=this.airDatepicker.selectedDates[0],c=d.getFullYear(),p=(d.getMonth()+1).toString().padStart(2,"0"),l=d.getDate().toString().padStart(2,"0");return`${c}-${p}-${l}`}getEndDate(){const d=this.airDatepicker.selectedDates[1]??this.airDatepicker.selectedDates[0],c=d.getFullYear(),p=(d.getMonth()+1).toString().padStart(2,"0"),l=d.getDate().toString().padStart(2,"0");return`${c}-${p}-${l}`}getTimeValue(){const d=this.$container.find(".tournament-select-time__buttons").find("input[name='selectTime']:checked").val();return d||(console.error("No time option is selected."),null)}}class Yt{$container;name;labelText;constructor(d,c,p){if(this.$container=y(`#${d}`),this.name=c,this.labelText=p,this.$container.length===0)throw new Error(`Container with id #${d} not found.`);this.render()}render(){let d=this.labelText?`<div class="checkbox-swich__label-text">${this.labelText}</div>`:"";const c=`
      <div class="checkbox-swich">
        <label for="${this.name}" class="checkbox-swich__label">
          <input type="checkbox" name="${this.name}" id="${this.name}" class="checkbox-swich__input" />
          <div class="checkbox-swich__castom-checkbox checkbox-swich__castom-checkbox--checked">
            <div class="checkbox-swich__castom-checkbox-mark"></div>
          </div>
          ${d}
        </label>
      </div>
    `;this.$container.append(c)}isChecked(){return this.$container.find(`#${this.name}`).prop("checked")}}class qt{$container;checkboxSwitch;constructor(d){if(this.$container=y(`#${d}`),this.$container.length===0)throw new Error(`Container with id #${d} not found.`);this.render()}render(){const d="region-limit-switch",c=`
      <div class="page__tournament-region-limit tournament-region-limit">
        <div class="tournament-region-limit__switch" id="${d}"></div>
        <p class="tournament-region-limit__description tournament-description">
          Равным образом реализация намеченных плановых заданий способствует подготовке и реализации соответствующих условий активизации. Не следует, однако, забывать, что консультация с широким активом
        </p>
      </div>
    `;this.$container.append(c),this.checkboxSwitch=new Yt(d,"regionLimit","Ограничить участие вашим регионом")}getValue(){return this.checkboxSwitch.isChecked()}}class Gt{buttonText;buttonClasses;constructor(d,c){this.buttonText=d,this.buttonClasses=c}createButton(){return y("<button></button>").addClass(this.buttonClasses.join(" ")).text(this.buttonText)}renderButton(d){const c=y(`#${d}`),p=this.createButton();c.append(p)}}class Wt{$container;options;constructor(d,c){if(this.$container=y(`#${d}`),this.options=c,this.$container.length===0)throw new Error(`Container with id #${d} not found.`);this.render(),this.initCode()}render(){const d=`
      <div class="tournament-entry-rank">
      <p class="tournament-entry-rank__title">Минимальный ранг:</p>
      <div class="tournament-entry-rank__flex-block">
      <div class="tournament-entry-rank__range-block">
        <div class="tournament-entry-rank__range range">
  <input type="range" min="1" max="5" steps="1" value="1">
</div>

<ul class="tournament-entry-rank__range-labels range-labels">

  <li class="active selected">1300+</li>
  <li>1800+</li>
  <li>2000+</li>
  <li>5000+</li>
  <li>8000+</li>
</ul></div>
<div class="tournament-entry-rank__line"></div>
      <label class="tournament-entry-rank__button" for="rank-nolimit">
      <input id="rank-nolimit" name="regime" type="radio" class="tournament-radio-input" value="1" />
        Без ограничений
      </label>
      </div>
      </div>
    `;this.$container.append(d)}initCode(){var d=document.createElement("style"),c=y(".range input"),p=["webkit-slider-runnable-track","moz-range-track","ms-track"];document.body.appendChild(d);var l=function(_){var $=_.value,k=($-1)*24.666666667,V="";y(".range-labels li").removeClass("active selected");var W=y(".range-labels").find("li:nth-child("+$+")");W.addClass("active selected"),W.prevAll().addClass("selected");for(var D=0;D<p.length;D++)V+=".range {background: #FAC704)}",V+=".range input::-"+p[D]+"{background: linear-gradient(to right, #FAC704 0%, #FAC704 "+k+"%, #b2b2b2 "+k+"%, #b2b2b2 100%)}";return V};c.on("input",function(){d.textContent=l(this)}),y(".range-labels li").on("click",function(){var _=y(this).index();c.val(_+1).trigger("input")})}}class gt{validation;$mainContent;banner;tournamentNameInput;tournamentDescriptionInput;teamCountInput;entryRate;tournamentSelectTime;tournamentRegionLimit;buttonSubmit;CS2TournamentCreationPage;Dota2TournamentCreationPage;entryRank;constructor(d){if(this.$mainContent=y(`#${d}`),this.validation=new Ht("#main-content"),this.$mainContent.length===0)throw new Error(`Main container with id #${d} not found.`);this.initializeCommonElements(),this.initializeSpecificElements(),this.initValidation()}initializeCommonElements(){const d=Pt;this.banner=new Rt("main-content",d),this.tournamentNameInput=new ht("main-content","Введите название турнира*","text","tournament-name","tournamentName"),this.tournamentDescriptionInput=new ht("main-content","Добавьте описание","text","tournament-description","tournamentDescription"),this.entryRank=new Wt("main-content",[{value:"1000",label:"1000 BS"},{value:"5000",label:"5000 BS"},{value:"10000",label:"10 000 BS"}]),this.teamCountInput=new Bt("main-content",[4,8,16,32]),this.entryRate=new jt("main-content",[{value:"1000",label:"1000 BS"},{value:"5000",label:"5000 BS"},{value:"10000",label:"10 000 BS"}]),this.tournamentSelectTime=new zt("main-content",[{value:"07:00:00.000",label:"7:00 AM"},{value:"12:00:00.000",label:"12:00 AM"},{value:"17:00:00.000",label:"5:00 PM"},{value:"22:00:00.000",label:"10:00 PM"},{value:"08:00:00.000",label:"8:00 AM"},{value:"13:00:00.000",label:"1:00 PM"},{value:"18:00:00.000",label:"6:00 PM"},{value:"22:30:00.000",label:"10:30 PM"},{value:"09:00:00.000",label:"9:00 AM"},{value:"14:00:00.000",label:"2:00 PM"},{value:"19:00:00.000",label:"7:00 PM"},{value:"23:00:00.000",label:"11:00 PM"},{value:"10:00:00.000",label:"10:00 AM"},{value:"15:00:00.000",label:"3:00 PM"},{value:"20:00:00.000",label:"8:00 PM"},{value:"23:30:00.000",label:"11:30 PM"},{value:"11:00:00.000",label:"11:00 AM"},{value:"16:00:00.000",label:"4:00 PM"},{value:"21:00:00.000",label:"9:00 PM"},{value:"12:00:00.000",label:"12:00 AM"}]),this.tournamentRegionLimit=new qt("main-content"),this.buttonSubmit=new Gt("Опубликовать",["create-tournament__button","tournament-button"]),this.buttonSubmit.renderButton("main-content")}initValidation(){this.validation.addField("#tournament-name",[{rule:"required",errorMessage:"Введите название турнира*"}]).addRequiredGroup("#tournament-numbers-teams__buttons","Виберіть кількість команд",{tooltip:{position:"bottom"},errorsContainer:document.querySelector("#tournament-numbers-teams-error")}).addRequiredGroup(".tournament-select-time__buttons","Виберіть годину",{tooltip:{position:"bottom"},errorsContainer:document.querySelector(".tournament-select-time-error")})}}const Jt="/assets/cs2inter-cd8f1479.png";class vt extends gt{mapsData;imgId=114;queryCreate=xt;tournamentMaps;mapsInput;async initializeSpecificElements(){this.banner?.updateImage(Jt),this.mapsData=await ut("https://battle-star-app.onrender.com/graphql",Ft,{},{Authorization:"Bearer f106222a0ebe66d3536b11a256411ce8688915767a986531a8119b7144733224cdb1dfdea426d492697a738b62fda5af3043a9a546bf6d015a55a3086bce0dbe32468dd8476b9d83754bbb3698f95e987e06053f91ceffc6655406c9ff3bc4c180331b03f83ab7c53c99354f8010b5497645ac3be6af33b25a0fe7a094aab9f9"});const d=this.mapsData.maps.data.map(c=>({id:c.id,value:c.attributes.name,label:c.attributes.name,imgSrc:c.attributes.logo.data[0].attributes.url}));this.tournamentMaps=new Nt("main-content",d),this.validation.addRequiredGroup(".tournament-maps__checkboxes","Виберіть карту",{tooltip:{position:"bottom"}}),this.validation.validate()}}class Xt{$container;options;constructor(d,c){if(this.$container=y(`#${d}`),this.options=c,this.$container.length===0)throw new Error(`Container with id #${d} not found.`);this.render()}render(){const c=`
      <div class="tournament-regime">
        <h2 class="tournament-regime__title tournament-title-h2">
          Режим:
        </h2>
        <div class="tournament-regime__buttons">
          ${this.options.map((p,l)=>`
      <input id="regime${l+1}" name="regime" type="radio" class="tournament-radio-input" value="${p.value}" />
      <label class="tournament-radio-label" for="regime${l+1}">
        ${p.label}
      </label>
    `).join("")}
        </div>
      </div>
    `;this.$container.append(c)}}class ft extends gt{imgId=116;queryCreate=Vt;regimeInput;initializeSpecificElements(){new Xt("main-content",[{value:"All Pick",label:"All Pick"},{value:"Single Draft",label:"Single Draft"},{value:"Captains Draft",label:"Captains Draft"},{value:"Captains Draft",label:"Captains Draft"},{value:"Random Draft",label:"Random Draft"},{value:"Turbo",label:"Turbo"},{value:"Least Played",label:"Least Played"},{value:"Limited Heroes",label:"Limited Heroes"},{value:"All Random",label:"All Random"},{value:"Captains Mode",label:"Captains Mode"},{value:"Ability Draft",label:"Ability Draft"},{value:"Deathmatch",label:"Deathmatch"}])}}class dt{static createPage(d,c){switch(d){case"Dota2":return new ft(c);case"CS2":return new vt(c);default:throw new Error("Unknown game type")}}}y(document).ready(()=>{new At("main");let f;mt("game")=="dota2"?f=dt.createPage("Dota2","tournament-page"):f=dt.createPage("CS2","tournament-page"),y(".create-tournament__button").on("click",function(){}),new Ot("tournament-page","Создание турнира","Равным образом реали зация нам еченных плановых зад аний спос обствует подгот овки и реали зации соотв етствующий усло вий акт ивизации. Не следу ет, одна ко забыв ать, что консул ьтация с ш ироким ак тивом ","Узнать больше"),new Et("#wrapper"),new It("wrapper","ТУРНИРЫ"),y("#main-content").on("submit",()=>{if(f.validation.isValid){const d=document.getElementById("loadBanner");if(d&&d.files.length>0){const c=d.files[0],p=new FormData;p.append("files",c);const l="f106222a0ebe66d3536b11a256411ce8688915767a986531a8119b7144733224cdb1dfdea426d492697a738b62fda5af3043a9a546bf6d015a55a3086bce0dbe32468dd8476b9d83754bbb3698f95e987e06053f91ceffc6655406c9ff3bc4c180331b03f83ab7c53c99354f8010b5497645ac3be6af33b25a0fe7a094aab9f9",_="https://battle-star-app.onrender.com/api/upload";y.ajax({url:_,type:"POST",data:p,headers:{Authorization:`Bearer ${l}`},cache:!1,contentType:!1,processData:!1,success:function($){console.log("File uploaded successfully:",$),ct(f,$).then(k=>console.log(k))},error:function($,k,V){console.error("Error uploading file:",k,V)}})}else ct(f)}})});async function ct(f,d){try{const c=d?d[0].id:f.imgId,p={name:f.tournamentNameInput.getValue(),description:f.tournamentDescriptionInput.getValue(),maxTeams:f.teamCountInput.getSelectedValue(),moneyEntryRate:parseFloat(f.entryRate.getSelectedValue()),regionLimit:f.tournamentRegionLimit.getValue(),logoId:c,publishedAt:new Date().toISOString(),time:f.tournamentSelectTime.getTimeValue(),startDate:f.tournamentSelectTime.getStartDate(),endDate:f.tournamentSelectTime.getEndDate()};f instanceof ft&&f.regimeInput?p.regime=f.regimeInput.getValue():f instanceof vt&&f.mapsInput&&(p.maps=f.mapsInput.getSelectedValues());const l=await ut("https://battle-star-app.onrender.com/graphql",f.queryCreate,p,{Authorization:"Bearer f106222a0ebe66d3536b11a256411ce8688915767a986531a8119b7144733224cdb1dfdea426d492697a738b62fda5af3043a9a546bf6d015a55a3086bce0dbe32468dd8476b9d83754bbb3698f95e987e06053f91ceffc6655406c9ff3bc4c180331b03f83ab7c53c99354f8010b5497645ac3be6af33b25a0fe7a094aab9f9"});if(l.errors)return console.error("GraphQL errors: ",l.errors),null;if(l){const _=mt("game")??"cs2";window.location.href=`/tournaments.html?${_}`}}catch(c){return console.error("Error in CreateCs2TournamentFunc: ",c),null}}
