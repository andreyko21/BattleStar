class t{main=null;static instance=null;scrollbarWidth;constructor(){this.main=document.querySelector("main"),this.scrollbarWidth=this.getScrollbarWidth()}static getInstance(){return t.instance||(t.instance=new t),t.instance}getScrollbarWidth(){const s=document.createElement("div");s.style.visibility="hidden",s.style.overflow="scroll",document.body.appendChild(s);const i=document.createElement("div");s.appendChild(i);const e=s.offsetWidth-i.offsetWidth;return s.parentNode?.removeChild(s),e}lock(){this.main&&(this.main.style.overflow="hidden",this.main.style.paddingRight=`${this.scrollbarWidth}px`)}unlock(){this.main&&(this.main.style.overflow="",this.main.style.paddingRight="")}}class l{popUp;crissCross;overlay;body;bodyScrollLock;constructor(s,i){this.popUp=s,this.overlay=i,this.crissCross=this.popUp.querySelector(".pop-up__criss-cross"),this.crissCross?.addEventListener("click",()=>this.close()),this.body=document.querySelector("body"),this.overlay.addEventListener("click",()=>this.close()),this.bodyScrollLock=t.getInstance()}open(){this.bodyScrollLock.lock(),this.overlay.classList.add("overlay_display_block"),this.overlay.classList.add("overlay_show"),this.popUp.classList.add("pop-up_display_block"),this.popUp.classList.add("pop-up_open")}close(){this.popUp.classList.remove("pop-up_open"),this.overlay&&this.overlay.classList.remove("overlay_show");const s=()=>{this.overlay&&this.overlay.classList.remove("overlay_display_block"),this.popUp.classList.remove("pop-up_display_block"),this.bodyScrollLock.unlock(),this.popUp.removeEventListener("transitionend",s)};this.popUp.addEventListener("transitionend",s)}}export{l as B};
